<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CreditStaticAndMarks.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">DROP</a> &gt; <a href="index.source.html" class="el_package">org.drip.feed.loader</a> &gt; <span class="el_source">CreditStaticAndMarks.java</span></div><h1>CreditStaticAndMarks.java</h1><pre class="source lang-java linenums">
package org.drip.feed.loader;

/*
 * -*- mode: java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
 */

/*!
 * Copyright (C) 2019 Lakshmi Krishnamurthy
 * Copyright (C) 2018 Lakshmi Krishnamurthy
 * Copyright (C) 2017 Lakshmi Krishnamurthy
 * Copyright (C) 2016 Lakshmi Krishnamurthy
 * Copyright (C) 2015 Lakshmi Krishnamurthy
 * Copyright (C) 2014 Lakshmi Krishnamurthy
 * Copyright (C) 2013 Lakshmi Krishnamurthy
 * Copyright (C) 2012 Lakshmi Krishnamurthy
 * Copyright (C) 2011 Lakshmi Krishnamurthy
 * 
 *  This file is part of DROP, an open-source library targeting risk, transaction costs, exposure, margin
 *  	calculations, valuation adjustment, and portfolio construction within and across fixed income,
 *  	credit, commodity, equity, FX, and structured products.
 *  
 *  	https://lakshmidrip.github.io/DROP/
 *  
 *  DROP is composed of three modules:
 *  
 *  - DROP Analytics Core - https://lakshmidrip.github.io/DROP-Analytics-Core/
 *  - DROP Portfolio Core - https://lakshmidrip.github.io/DROP-Portfolio-Core/
 *  - DROP Numerical Core - https://lakshmidrip.github.io/DROP-Numerical-Core/
 * 
 * 	DROP Analytics Core implements libraries for the following:
 * 	- Fixed Income Analytics
 * 	- Asset Backed Analytics
 * 	- XVA Analytics
 * 	- Exposure and Margin Analytics
 * 
 * 	DROP Portfolio Core implements libraries for the following:
 * 	- Asset Allocation Analytics
 * 	- Transaction Cost Analytics
 * 
 * 	DROP Numerical Core implements libraries for the following:
 * 	- Statistical Learning
 * 	- Numerical Optimizer
 * 	- Spline Builder
 * 	- Algorithm Support
 * 
 * 	Documentation for DROP is Spread Over:
 * 
 * 	- Main                     =&gt; https://lakshmidrip.github.io/DROP/
 * 	- Wiki                     =&gt; https://github.com/lakshmiDRIP/DROP/wiki
 * 	- GitHub                   =&gt; https://github.com/lakshmiDRIP/DROP
 * 	- Repo Layout Taxonomy     =&gt; https://github.com/lakshmiDRIP/DROP/blob/master/Taxonomy.md
 * 	- Javadoc                  =&gt; https://lakshmidrip.github.io/DROP/Javadoc/index.html
 * 	- Technical Specifications =&gt; https://github.com/lakshmiDRIP/DROP/tree/master/Docs/Internal
 * 	- Release Versions         =&gt; https://lakshmidrip.github.io/DROP/version.html
 * 	- Community Credits        =&gt; https://lakshmidrip.github.io/DROP/credits.html
 * 	- Issues Catalog           =&gt; https://github.com/lakshmiDRIP/DROP/issues
 * 	- JUnit                    =&gt; https://lakshmidrip.github.io/DROP/junit/index.html
 * 	- Jacoco                   =&gt; https://lakshmidrip.github.io/DROP/jacoco/index.html
 * 
 *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 *   	you may not use this file except in compliance with the License.
 *   
 *  You may obtain a copy of the License at
 *  	http://www.apache.org/licenses/LICENSE-2.0
 *  
 *  Unless required by applicable law or agreed to in writing, software
 *  	distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 *  	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  
 *  See the License for the specific language governing permissions and
 *  	limitations under the License.
 */

/**
 * &lt;i&gt;CreditStaticAndMarks&lt;/i&gt; contains functionality to load a variety of Credit and Rates Product reference
 * data and closing marks. It exposes the following functionality:
 * &lt;ul&gt;
 * 	&lt;li&gt;
 * 		Load the bond reference data, static data, amortization schedule and EOS
 * 	&lt;/li&gt;
 * 	&lt;li&gt;
 * 		Build the bond instance entities from the reference data
 * 	&lt;/li&gt;
 * 	&lt;li&gt;
 * 		Load the bond, CDS, and Rates product Closing Marks
 * 	&lt;/li&gt;
 * 	&lt;li&gt;
 * 		Load and build the Holiday Calendars
 * 	&lt;/li&gt;
 * &lt;/ul&gt;
 * 	&lt;br&gt;
 * 
 * CreditStaticAndMarks assumes the appropriate connections are available to load the data.
 *
 *	&lt;br&gt;&lt;br&gt;
 *  &lt;ul&gt;
 *		&lt;li&gt;&lt;b&gt;Module &lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/NumericalCore.md&quot;&gt;Numerical Core Module&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Library&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/AlgorithmSupportLibrary.md&quot;&gt;Algorithm Support&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Project&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/src/main/java/org/drip/feed/README.md&quot;&gt;Feed&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Package&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/src/main/java/org/drip/feed/loader/README.md&quot;&gt;Loader&lt;/a&gt;&lt;/li&gt;
 *  &lt;/ul&gt;
 * 
 * @author Lakshmi Krishnamurthy
 */

<span class="nc" id="L107">class CreditStaticAndMarks {</span>
	private static final boolean m_bBlog = false;
<span class="nc" id="L109">	private static java.lang.String INVALID_BBG_FIELD_START = &quot;#N/A&quot;;</span>

	public static java.lang.String makeSQLClearISINOrCUSIP (
		final java.lang.String[] astrRecord)
	{
<span class="nc bnc" id="L114" title="All 4 branches missed.">		if (null == astrRecord || 0 == astrRecord.length) return null;</span>

<span class="nc" id="L116">		java.lang.String strISIN = astrRecord[1];</span>
<span class="nc" id="L117">		java.lang.String strCUSIP = astrRecord[0];</span>

<span class="nc bnc" id="L119" title="All 4 branches missed.">		if (null == strISIN || strISIN.isEmpty()) return null;</span>

<span class="nc bnc" id="L121" title="All 4 branches missed.">		if (null == strCUSIP || strCUSIP.isEmpty()) return null;</span>

<span class="nc" id="L123">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

<span class="nc" id="L125">		sb.append (&quot;delete from BondRef where ISIN = '&quot;).append (strISIN).append (&quot;' or CUSIP = '&quot;).append</span>
<span class="nc" id="L126">			(strCUSIP).append (&quot;'&quot;);</span>

<span class="nc" id="L128">		return sb.toString();</span>
	}

	private static java.lang.String makeSQLClearMarksForBondDate (
		final java.lang.String[] astrRecord)
	{
<span class="nc bnc" id="L134" title="All 4 branches missed.">		if (null == astrRecord || 0 == astrRecord.length) return null;</span>

<span class="nc" id="L136">		java.lang.String strIDType = astrRecord[6];</span>

<span class="nc bnc" id="L138" title="All 6 branches missed.">		if (null == strIDType || 0 == strIDType.length() || (!&quot;ISIN&quot;.equalsIgnoreCase (strIDType) &amp;&amp;</span>
<span class="nc bnc" id="L139" title="All 2 branches missed.">			!&quot;CUSIP&quot;.equalsIgnoreCase (strIDType))) {</span>
<span class="nc" id="L140">			System.out.println (&quot;Unknown ID Type: &quot; + strIDType);</span>

<span class="nc" id="L142">			return null;</span>
		}

<span class="nc" id="L145">		java.lang.String strID = astrRecord[1];</span>
<span class="nc" id="L146">		java.lang.String strORAMarkDate = &quot;&quot;;</span>

		try {
<span class="nc" id="L149">			strORAMarkDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L150">				(astrRecord[3].trim());</span>
<span class="nc" id="L151">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L152">			System.out.println (&quot;Bad mark date &quot; + astrRecord[1] + &quot; for &quot; + strIDType + &quot; &quot; + strID);</span>

<span class="nc" id="L154">			return null;</span>
<span class="nc" id="L155">		}</span>

<span class="nc" id="L157">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

<span class="nc" id="L159">		sb.append (&quot;delete from BondMarks where ID = '&quot;).append (strID).append (&quot;' and MarkDate = '&quot;).append</span>
<span class="nc" id="L160">			(strORAMarkDate).append (&quot;'&quot;);</span>

<span class="nc" id="L162">		return sb.toString();</span>
	}

	private static java.lang.String makeSQLBondMarksInsert (
		final java.lang.String[] astrRecord)
	{
<span class="nc bnc" id="L168" title="All 4 branches missed.">		if (null == astrRecord || 0 == astrRecord.length) return null;</span>

<span class="nc" id="L170">		java.lang.String strIDType = astrRecord[6];</span>

<span class="nc bnc" id="L172" title="All 6 branches missed.">		if (null == strIDType || 0 == strIDType.length() || (!&quot;ISIN&quot;.equalsIgnoreCase (strIDType) &amp;&amp;</span>
<span class="nc bnc" id="L173" title="All 2 branches missed.">			!&quot;CUSIP&quot;.equalsIgnoreCase (strIDType))) {</span>
<span class="nc" id="L174">			System.out.println (&quot;Unknown ID Type: &quot; + strIDType);</span>

<span class="nc" id="L176">			return null;</span>
		}

<span class="nc" id="L179">		java.lang.String strID = astrRecord[1];</span>
<span class="nc" id="L180">		java.lang.String strORAMarkDate = &quot;&quot;;</span>

		try {
<span class="nc" id="L183">			strORAMarkDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate (astrRecord[3].trim());</span>
<span class="nc" id="L184">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L185">			System.out.println (&quot;Bad mark date &quot; + astrRecord[1] + &quot; for &quot; + strIDType + &quot; &quot; + strID);</span>

<span class="nc" id="L187">			return null;</span>
<span class="nc" id="L188">		}</span>

<span class="nc" id="L190">		double dblMarkValue = java.lang.Double.NaN;</span>

		try {
<span class="nc" id="L193">			dblMarkValue = java.lang.Double.parseDouble (astrRecord[2].trim());</span>
<span class="nc" id="L194">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L195">			System.out.println (&quot;Bad mark &quot; + astrRecord[2] + &quot; for &quot; + strIDType + &quot; &quot; + strID);</span>

<span class="nc" id="L197">			return null;</span>
<span class="nc" id="L198">		}</span>

<span class="nc" id="L200">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

<span class="nc" id="L202">		sb.append (&quot;insert into BondMarks values('&quot;).append (strIDType).append (&quot;', '&quot;).append (strID).append</span>
<span class="nc" id="L203">			(&quot;', '&quot;).append (strORAMarkDate).append (&quot;', &quot;).append (dblMarkValue).append (&quot;)&quot;);</span>

<span class="nc" id="L205">		return sb.toString();</span>
	}

	private static java.lang.String makeSQLClear_FODATA (
		final java.lang.String[] astrValRecord)
	{
<span class="nc bnc" id="L211" title="All 4 branches missed.">		if (null == astrValRecord || 0 == astrValRecord.length) return null;</span>

<span class="nc" id="L213">		java.lang.String strISIN = astrValRecord[40];</span>

<span class="nc bnc" id="L215" title="All 4 branches missed.">		if (null == strISIN || strISIN.isEmpty()) return null;</span>

<span class="nc" id="L217">		return &quot;delete from BondRef where ISIN = '&quot; + strISIN + &quot;'&quot;;</span>
	}

	private static java.lang.String makeSQLInsert_FODATA (
		final java.lang.String[] astrValRecord)
	{
<span class="nc bnc" id="L223" title="All 4 branches missed.">		if (null == astrValRecord || 0 == astrValRecord.length) return null;</span>

<span class="nc" id="L225">		java.lang.String strCUSIP = astrValRecord[42];</span>

<span class="nc bnc" id="L227" title="All 4 branches missed.">		if (null == strCUSIP || strCUSIP.isEmpty()) return null;</span>

<span class="nc" id="L229">		java.lang.String strISIN = astrValRecord[40];</span>

<span class="nc bnc" id="L231" title="All 4 branches missed.">		if (null == strISIN || strISIN.isEmpty()) return null;</span>

<span class="nc" id="L233">		java.lang.String strName = astrValRecord[59];</span>

<span class="nc bnc" id="L235" title="All 4 branches missed.">		if (null == strName || strName.isEmpty()) return null;</span>

<span class="nc" id="L237">		java.lang.String strDescription = astrValRecord[59];</span>

<span class="nc bnc" id="L239" title="All 4 branches missed.">		if (null == strDescription || strDescription.isEmpty()) return null;</span>

<span class="nc" id="L241">		java.lang.String strTicker = astrValRecord[3];</span>

<span class="nc bnc" id="L243" title="All 4 branches missed.">		if (null == strTicker || strTicker.isEmpty()) return null;</span>

<span class="nc" id="L245">		double dblCoupon = 0.;</span>

		try {
<span class="nc" id="L248">			dblCoupon = java.lang.Double.parseDouble (astrValRecord[4].trim());</span>
<span class="nc" id="L249">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad coupon &quot; + astrValRecord[4] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L251">		}</span>

<span class="nc" id="L253">		java.lang.String strOracleMaturity = &quot;&quot;;</span>

		try {
<span class="nc" id="L256">			strOracleMaturity = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L257">				(astrValRecord[5].trim());</span>
<span class="nc" id="L258">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L259">			System.out.println (&quot;Bad maturity &quot; + astrValRecord[5] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L261">			return null;</span>
<span class="nc" id="L262">		}</span>

<span class="nc" id="L264">		java.lang.String strOracleAnnounce = &quot;&quot;;</span>

		try {
<span class="nc" id="L267">			strOracleAnnounce = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L268">				(astrValRecord[29].trim());</span>
<span class="nc" id="L269">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog)
				System.out.println (&quot;Bad announce date &quot; + astrValRecord[29] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L272">		}</span>

<span class="nc" id="L274">		java.lang.String strOracleFirstSettle = &quot;&quot;;</span>

		try {
<span class="nc" id="L277">			strOracleFirstSettle = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L278">				(astrValRecord[31].trim());</span>
<span class="nc" id="L279">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L280">			System.out.println (&quot;Bad first settle &quot; + astrValRecord[31] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L282">			return null;</span>
<span class="nc" id="L283">		}</span>

<span class="nc" id="L285">		java.lang.String strOracleFirstCoupon = &quot;&quot;;</span>

		try {
<span class="nc" id="L288">			strOracleFirstCoupon = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L289">				(astrValRecord[33].trim());</span>
<span class="nc" id="L290">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L291">		}</span>

<span class="nc bnc" id="L293" title="All 4 branches missed.">		if (null == strOracleFirstCoupon || strOracleFirstCoupon.isEmpty())</span>
<span class="nc" id="L294">			strOracleFirstCoupon = strOracleFirstSettle;</span>

<span class="nc bnc" id="L296" title="All 4 branches missed.">		if (null == strOracleAnnounce || strOracleAnnounce.isEmpty())</span>
<span class="nc" id="L297">			strOracleAnnounce = strOracleFirstCoupon;</span>

<span class="nc" id="L299">		java.lang.String strCurrency = astrValRecord[67];</span>

<span class="nc bnc" id="L301" title="All 4 branches missed.">		if (null == strCurrency || strCurrency.isEmpty()) return null;</span>

<span class="nc" id="L303">		int iCouponFreq = 0;</span>

		try {
<span class="nc" id="L306">			iCouponFreq = (int) java.lang.Double.parseDouble (astrValRecord[12].trim());</span>
<span class="nc" id="L307">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog)
				System.out.println (&quot;Bad coupon freq &quot; + astrValRecord[12] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L310">		}</span>

<span class="nc" id="L312">		java.lang.String strDayCount = org.drip.analytics.support.Helper.GetDayCountFromBBGCode</span>
<span class="nc" id="L313">			(astrValRecord[16]);</span>

<span class="nc bnc" id="L315" title="All 4 branches missed.">		if (null == strDayCount || strDayCount.isEmpty()) return null;</span>

<span class="nc" id="L317">		double dblFloatSpread = 0.;</span>

		try {
<span class="nc" id="L320">			dblFloatSpread = java.lang.Double.parseDouble (astrValRecord[78].trim());</span>
<span class="nc" id="L321">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog)
				System.out.println (&quot;Bad float spread &quot; + astrValRecord[78] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L324">		}</span>

<span class="nc" id="L326">		java.lang.String strRateIndex =</span>
<span class="nc" id="L327">			org.drip.analytics.support.Helper.RateIndexFromCcyAndCouponFreq (strCurrency,</span>
				iCouponFreq);

<span class="nc" id="L330">		java.lang.String strCalendar = astrValRecord[19];</span>

<span class="nc bnc" id="L332" title="All 2 branches missed.">		if (strCalendar.startsWith (INVALID_BBG_FIELD_START)) strCalendar = &quot;&quot;;</span>

<span class="nc" id="L334">		java.lang.String strMoodys = &quot;&quot;;</span>
<span class="nc" id="L335">		java.lang.String strSnP = &quot;&quot;;</span>
<span class="nc" id="L336">		java.lang.String strFitch = &quot;&quot;;</span>
<span class="nc" id="L337">		java.lang.String strIndustrySector = astrValRecord[54];</span>
<span class="nc" id="L338">		java.lang.String strIndustryGroup = astrValRecord[55];</span>
<span class="nc" id="L339">		java.lang.String strSnrSub = astrValRecord[20];</span>
<span class="nc" id="L340">		java.lang.String strIssuer = astrValRecord[0];</span>
<span class="nc" id="L341">		double dblAmountIssued = 0.;</span>

		try {
<span class="nc" id="L344">			dblAmountIssued = java.lang.Double.parseDouble (astrValRecord[21].trim());</span>
<span class="nc" id="L345">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad issue amt &quot; + astrValRecord[21] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L347">		}</span>

<span class="nc" id="L349">		double dblAmountOutstanding = 0.;</span>

		try {
<span class="nc" id="L352">			dblAmountOutstanding = java.lang.Double.parseDouble (astrValRecord[22].trim());</span>
<span class="nc" id="L353">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog)
				System.out.println (&quot;Bad outstanding amt &quot; + astrValRecord[22] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L356">		}</span>

<span class="nc" id="L358">		java.lang.String strOracleIssue = &quot;&quot;;</span>

		try {
<span class="nc" id="L361">			strOracleIssue = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L362">				(astrValRecord[29].trim());</span>
<span class="nc" id="L363">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad issue date &quot; + astrValRecord[29] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L365">		}</span>

<span class="nc" id="L367">		java.lang.String strCouponDates = &quot;&quot;;</span>
<span class="nc" id="L368">		java.lang.String strCouponFactors = &quot;&quot;;</span>
<span class="nc" id="L369">		java.lang.String strNotionalDates = &quot;&quot;;</span>
<span class="nc" id="L370">		java.lang.String strNotionalFactors = &quot;&quot;;</span>
<span class="nc" id="L371">		java.lang.String strIssuerSPN = &quot;&quot;;</span>
<span class="nc" id="L372">		java.lang.String strFloatQuote = &quot;FullCoupon&quot;;</span>

<span class="nc" id="L374">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

<span class="nc" id="L376">		sb.append (&quot;INSERT INTO BondRef VALUES (&quot;);</span>

<span class="nc" id="L378">		sb.append (&quot;'&quot; + strISIN + &quot;',&quot;);</span>

<span class="nc" id="L380">		sb.append (&quot;'&quot; + strCUSIP + &quot;',&quot;);</span>

<span class="nc" id="L382">		sb.append (&quot;'&quot; + strName + &quot;',&quot;);</span>

<span class="nc" id="L384">		sb.append (&quot;'&quot; + strDescription + &quot;',&quot;);</span>

<span class="nc" id="L386">		sb.append (&quot;'&quot; + strTicker + &quot;',&quot;);</span>

<span class="nc" id="L388">		sb.append (dblCoupon + &quot;,&quot;);</span>

<span class="nc" id="L390">		sb.append (&quot;'&quot; + strOracleMaturity + &quot;',&quot;);</span>

<span class="nc" id="L392">		sb.append (&quot;'&quot; + strOracleAnnounce + &quot;',&quot;);</span>

<span class="nc" id="L394">		sb.append (&quot;'&quot; + strOracleFirstSettle + &quot;',&quot;);</span>

<span class="nc" id="L396">		sb.append (&quot;'&quot; + strOracleFirstCoupon + &quot;',&quot;);</span>

<span class="nc" id="L398">		sb.append (&quot;'&quot; + strCurrency + &quot;',&quot;);</span>

<span class="nc" id="L400">		sb.append (iCouponFreq + &quot;,&quot;);</span>

<span class="nc" id="L402">		sb.append (&quot;'&quot; + strDayCount + &quot;',&quot;);</span>

<span class="nc" id="L404">		sb.append (dblFloatSpread + &quot;,&quot;);</span>

<span class="nc" id="L406">		sb.append (&quot;'&quot; + strRateIndex + &quot;',&quot;);</span>

<span class="nc" id="L408">		sb.append (&quot;'&quot; + strCalendar + &quot;',&quot;);</span>

<span class="nc" id="L410">		sb.append (&quot;'&quot; + strMoodys + &quot;',&quot;);</span>

<span class="nc" id="L412">		sb.append (&quot;'&quot; + strSnP + &quot;',&quot;);</span>

<span class="nc" id="L414">		sb.append (&quot;'&quot; + strFitch + &quot;',&quot;);</span>

<span class="nc" id="L416">		sb.append (&quot;'&quot; + strIndustrySector + &quot;',&quot;);</span>

<span class="nc" id="L418">		sb.append (&quot;'&quot; + strIndustryGroup + &quot;',&quot;);</span>

<span class="nc" id="L420">		sb.append (&quot;'&quot; + strSnrSub + &quot;',&quot;);</span>

<span class="nc" id="L422">		sb.append (&quot;'&quot; + strIssuer + &quot;',&quot;);</span>

<span class="nc" id="L424">		sb.append (dblAmountIssued + &quot;,&quot;);</span>

<span class="nc" id="L426">		sb.append (dblAmountOutstanding + &quot;,&quot;);</span>

<span class="nc" id="L428">		sb.append (&quot;'&quot; + strOracleIssue + &quot;',&quot;);</span>

<span class="nc" id="L430">		sb.append (&quot;'&quot; + strCouponDates + &quot;',&quot;);</span>

<span class="nc" id="L432">		sb.append (&quot;'&quot; + strCouponFactors + &quot;',&quot;);</span>

<span class="nc" id="L434">		sb.append (&quot;'&quot; + strNotionalDates + &quot;',&quot;);</span>

<span class="nc" id="L436">		sb.append (&quot;'&quot; + strNotionalFactors + &quot;',&quot;);</span>

<span class="nc" id="L438">		sb.append (&quot;'&quot; + strIssuerSPN + &quot;',&quot;);</span>

<span class="nc" id="L440">		sb.append (&quot;'&quot; + strFloatQuote + &quot;')&quot;);</span>

<span class="nc" id="L442">		return sb.toString();</span>
	}

	private static final java.lang.String ClearISINDateTypeFromEOS (
		final java.lang.String[] astrEOS)
	{
<span class="nc" id="L448">		java.lang.String strISIN = astrEOS[1].trim();</span>

<span class="nc" id="L450">		java.lang.String strOracleExerciseStartDate = &quot;&quot;;</span>

		try {
<span class="nc" id="L453">			strOracleExerciseStartDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L454">				(astrEOS[2].trim());</span>
<span class="nc" id="L455">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L456">			System.out.println (&quot;Bad exercise date &quot; + astrEOS[2] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L458">			return &quot;&quot;;</span>
<span class="nc" id="L459">		}</span>

<span class="nc" id="L461">		java.lang.String strOracleExerciseEndDate = &quot;&quot;;</span>

		try {
<span class="nc" id="L464">			strOracleExerciseEndDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L465">				(astrEOS[4].trim());</span>
<span class="nc" id="L466">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L467">			System.out.println (&quot;Bad exercise date &quot; + astrEOS[4] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L469">			return &quot;&quot;;</span>
<span class="nc" id="L470">		}</span>

<span class="nc" id="L472">		java.lang.String strCallOrPut = astrEOS[8].trim();</span>

<span class="nc" id="L474">		java.lang.String strEuroOrAmer = astrEOS[9].trim();</span>

<span class="nc" id="L476">		return &quot;delete from EOS where ISIN = '&quot; + strISIN + &quot;' and ExerciseStartDate = '&quot; +</span>
			strOracleExerciseStartDate + &quot;' and ExerciseEndDate = '&quot; + strOracleExerciseEndDate +
				&quot;' and CallOrPut = '&quot; + strCallOrPut + &quot;' and EuroAmer = '&quot; + strEuroOrAmer + &quot;'&quot;;
	}

	private static final java.lang.String InsertIntoEOS (
		final java.lang.String[] astrEOS)
	{
<span class="nc" id="L484">		java.lang.String strISIN = astrEOS[1].trim();</span>

<span class="nc" id="L486">		java.lang.String strOracleExerciseStartDate = &quot;&quot;;</span>

		try {
<span class="nc" id="L489">			strOracleExerciseStartDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L490">				(astrEOS[2].trim());</span>
<span class="nc" id="L491">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L492">			System.out.println (&quot;Bad exercise start &quot; + astrEOS[2] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L494">			return null;</span>
<span class="nc" id="L495">		}</span>

<span class="nc" id="L497">		java.lang.String strOracleExerciseEndDate = &quot;&quot;;</span>

		try {
<span class="nc" id="L500">			strOracleExerciseEndDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L501">				(astrEOS[4].trim());</span>
<span class="nc" id="L502">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L503">			System.out.println (&quot;Bad exercise end &quot; + astrEOS[4] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L505">			return null;</span>
<span class="nc" id="L506">		}</span>

<span class="nc" id="L508">		double dblExerciseFactor = java.lang.Double.NaN;</span>

		try {
<span class="nc" id="L511">			dblExerciseFactor = java.lang.Double.parseDouble (astrEOS[6].trim());</span>
<span class="nc" id="L512">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L513">			System.out.println (&quot;Bad exercise factor &quot; + astrEOS[6] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L515">			return null;</span>
<span class="nc" id="L516">		}</span>

<span class="nc" id="L518">		java.lang.String strExerciseCallOrPut = astrEOS[8].trim();</span>

<span class="nc" id="L520">		java.lang.String strExerciseEuroOrAmer = astrEOS[9].trim();</span>

<span class="nc" id="L522">		java.lang.String strStrikeType = astrEOS[12].trim();</span>

<span class="nc" id="L524">		int iKnockoutOnDefault = 1;</span>

		try {
<span class="nc" id="L527">			iKnockoutOnDefault = (int) java.lang.Double.parseDouble (astrEOS[13].trim());</span>
<span class="nc" id="L528">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L529">			System.out.println (&quot;Bad knockout on default &quot; + astrEOS[13] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L531">			return null;</span>
<span class="nc" id="L532">		}</span>

<span class="nc" id="L534">		return &quot;insert into EOS values('&quot; + strISIN + &quot;', '&quot; + strOracleExerciseStartDate + &quot;', '&quot; +</span>
			strOracleExerciseEndDate + &quot;', &quot; + dblExerciseFactor + &quot;, '&quot; + strExerciseCallOrPut + &quot;', '&quot; +
				strExerciseEuroOrAmer + &quot;', '&quot; + strStrikeType + &quot;', &quot; + iKnockoutOnDefault + &quot;, 'N')&quot;;
	}

	private static final java.lang.String ClearFromIREOD (
		final java.lang.String[] astrIREOD)
	{
<span class="nc" id="L542">		java.lang.String strType = astrIREOD[3].trim();</span>

<span class="nc" id="L544">		java.lang.String strCurrency = astrIREOD[4].trim();</span>

<span class="nc" id="L546">		java.lang.String strOracleCloseDate = &quot;&quot;;</span>

		try {
<span class="nc" id="L549">			strOracleCloseDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L550">				(astrIREOD[1].trim());</span>
<span class="nc" id="L551">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L552">			System.out.println (&quot;Bad date &quot; + astrIREOD[1] + &quot; for &quot; + strCurrency);</span>

<span class="nc" id="L554">			return null;</span>
<span class="nc" id="L555">		}</span>

<span class="nc" id="L557">		return &quot;delete from IR_EOD where EOD = '&quot; + strOracleCloseDate + &quot;' and Currency = '&quot; +</span>
			strCurrency + &quot;' and Type = '&quot; + strType + &quot;'&quot;;
	}

	private static final java.lang.String InsertIntoIREOD (
		final java.lang.String[] astrIREOD)
	{
<span class="nc" id="L564">		java.lang.String strType = astrIREOD[3].trim();</span>

<span class="nc" id="L566">		java.lang.String strCurrency = astrIREOD[4].trim();</span>

<span class="nc" id="L568">		java.lang.String strOracleCloseDate = &quot;&quot;;</span>
<span class="nc" id="L569">		double dbl1D = java.lang.Double.NaN;</span>
<span class="nc" id="L570">		double dbl1M = java.lang.Double.NaN;</span>
<span class="nc" id="L571">		double dbl2M = java.lang.Double.NaN;</span>
<span class="nc" id="L572">		double dbl3M = java.lang.Double.NaN;</span>
<span class="nc" id="L573">		double dbl4M = java.lang.Double.NaN;</span>
<span class="nc" id="L574">		double dbl5M = java.lang.Double.NaN;</span>
<span class="nc" id="L575">		double dbl6M = java.lang.Double.NaN;</span>
<span class="nc" id="L576">		double dbl9M = java.lang.Double.NaN;</span>
<span class="nc" id="L577">		double dbl1Y = java.lang.Double.NaN;</span>
<span class="nc" id="L578">		double dbl18M = java.lang.Double.NaN;</span>
<span class="nc" id="L579">		double dbl2Y = java.lang.Double.NaN;</span>
<span class="nc" id="L580">		double dbl3Y = java.lang.Double.NaN;</span>
<span class="nc" id="L581">		double dbl4Y = java.lang.Double.NaN;</span>
<span class="nc" id="L582">		double dbl5Y = java.lang.Double.NaN;</span>
<span class="nc" id="L583">		double dbl6Y = java.lang.Double.NaN;</span>
<span class="nc" id="L584">		double dbl7Y = java.lang.Double.NaN;</span>
<span class="nc" id="L585">		double dbl8Y = java.lang.Double.NaN;</span>
<span class="nc" id="L586">		double dbl9Y = java.lang.Double.NaN;</span>
<span class="nc" id="L587">		double dbl10Y = java.lang.Double.NaN;</span>
<span class="nc" id="L588">		double dbl12Y = java.lang.Double.NaN;</span>
<span class="nc" id="L589">		double dbl15Y = java.lang.Double.NaN;</span>
<span class="nc" id="L590">		double dbl20Y = java.lang.Double.NaN;</span>
<span class="nc" id="L591">		double dbl25Y = java.lang.Double.NaN;</span>
<span class="nc" id="L592">		double dbl30Y = java.lang.Double.NaN;</span>
<span class="nc" id="L593">		double dbl40Y = java.lang.Double.NaN;</span>

		try {
<span class="nc" id="L596">			strOracleCloseDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L597">				(astrIREOD[1].trim());</span>

<span class="nc" id="L599">			dbl1D = java.lang.Double.parseDouble (astrIREOD[5].trim());</span>

<span class="nc" id="L601">			dbl1M = java.lang.Double.parseDouble (astrIREOD[6].trim());</span>

<span class="nc" id="L603">			dbl2M = java.lang.Double.parseDouble (astrIREOD[7].trim());</span>

<span class="nc" id="L605">			dbl3M = java.lang.Double.parseDouble (astrIREOD[8].trim());</span>

<span class="nc" id="L607">			dbl4M = java.lang.Double.parseDouble (astrIREOD[9].trim());</span>

<span class="nc" id="L609">			dbl5M = java.lang.Double.parseDouble (astrIREOD[10].trim());</span>

<span class="nc" id="L611">			dbl6M = java.lang.Double.parseDouble (astrIREOD[11].trim());</span>

<span class="nc" id="L613">			dbl9M = java.lang.Double.parseDouble (astrIREOD[12].trim());</span>

<span class="nc" id="L615">			dbl1Y = java.lang.Double.parseDouble (astrIREOD[13].trim());</span>

<span class="nc" id="L617">			dbl18M = java.lang.Double.parseDouble (astrIREOD[14].trim());</span>

<span class="nc" id="L619">			dbl2Y = java.lang.Double.parseDouble (astrIREOD[15].trim());</span>

<span class="nc" id="L621">			dbl3Y = java.lang.Double.parseDouble (astrIREOD[16].trim());</span>

<span class="nc" id="L623">			dbl4Y = java.lang.Double.parseDouble (astrIREOD[17].trim());</span>

<span class="nc" id="L625">			dbl5Y = java.lang.Double.parseDouble (astrIREOD[18].trim());</span>

<span class="nc" id="L627">			dbl6Y = java.lang.Double.parseDouble (astrIREOD[19].trim());</span>

<span class="nc" id="L629">			dbl7Y = java.lang.Double.parseDouble (astrIREOD[20].trim());</span>

<span class="nc" id="L631">			dbl8Y = java.lang.Double.parseDouble (astrIREOD[21].trim());</span>

<span class="nc" id="L633">			dbl9Y = java.lang.Double.parseDouble (astrIREOD[22].trim());</span>

<span class="nc" id="L635">			dbl10Y = java.lang.Double.parseDouble (astrIREOD[23].trim());</span>

<span class="nc" id="L637">			dbl12Y = java.lang.Double.parseDouble (astrIREOD[24].trim());</span>

<span class="nc" id="L639">			dbl15Y = java.lang.Double.parseDouble (astrIREOD[25].trim());</span>

<span class="nc" id="L641">			dbl20Y = java.lang.Double.parseDouble (astrIREOD[26].trim());</span>

<span class="nc" id="L643">			dbl25Y = java.lang.Double.parseDouble (astrIREOD[27].trim());</span>

<span class="nc" id="L645">			dbl30Y = java.lang.Double.parseDouble (astrIREOD[28].trim());</span>

<span class="nc" id="L647">			dbl40Y = java.lang.Double.parseDouble (astrIREOD[29].trim());</span>
<span class="nc" id="L648">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L649">			System.out.println (&quot;Bad input marks for ccy &quot; + strCurrency);</span>

<span class="nc" id="L651">			return null;</span>
<span class="nc" id="L652">		}</span>

<span class="nc" id="L654">		java.lang.String str1DType = astrIREOD[30].trim();</span>

<span class="nc" id="L656">		java.lang.String str1MType = astrIREOD[31].trim();</span>

<span class="nc" id="L658">		java.lang.String str2MType = astrIREOD[32].trim();</span>

<span class="nc" id="L660">		java.lang.String str3MType = astrIREOD[33].trim();</span>

<span class="nc" id="L662">		java.lang.String str4MType = astrIREOD[34].trim();</span>

<span class="nc" id="L664">		java.lang.String str5MType = astrIREOD[35].trim();</span>

<span class="nc" id="L666">		java.lang.String str6MType = astrIREOD[36].trim();</span>

<span class="nc" id="L668">		java.lang.String str9MType = astrIREOD[37].trim();</span>

<span class="nc" id="L670">		java.lang.String str1YType = astrIREOD[38].trim();</span>

<span class="nc" id="L672">		java.lang.String str18MType = astrIREOD[39].trim();</span>

<span class="nc" id="L674">		java.lang.String str2YType = astrIREOD[40].trim();</span>

<span class="nc" id="L676">		java.lang.String str3YType = astrIREOD[41].trim();</span>

<span class="nc" id="L678">		java.lang.String str4YType = astrIREOD[42].trim();</span>

<span class="nc" id="L680">		java.lang.String str5YType = astrIREOD[43].trim();</span>

<span class="nc" id="L682">		java.lang.String str6YType = astrIREOD[44].trim();</span>

<span class="nc" id="L684">		java.lang.String str7YType = astrIREOD[45].trim();</span>

<span class="nc" id="L686">		java.lang.String str8YType = astrIREOD[46].trim();</span>

<span class="nc" id="L688">		java.lang.String str9YType = astrIREOD[47].trim();</span>

<span class="nc" id="L690">		java.lang.String str10YType = astrIREOD[48].trim();</span>

<span class="nc" id="L692">		java.lang.String str12YType = astrIREOD[49].trim();</span>

<span class="nc" id="L694">		java.lang.String str15YType = astrIREOD[50].trim();</span>

<span class="nc" id="L696">		java.lang.String str20YType = astrIREOD[51].trim();</span>

<span class="nc" id="L698">		java.lang.String str25YType = astrIREOD[52].trim();</span>

<span class="nc" id="L700">		java.lang.String str30YType = astrIREOD[53].trim();</span>

<span class="nc" id="L702">		java.lang.String str40YType = astrIREOD[54].trim();</span>

<span class="nc" id="L704">		java.lang.StringBuilder sbInsertIREOD = new java.lang.StringBuilder();</span>

<span class="nc" id="L706">		sbInsertIREOD.append (&quot;insert into IR_EOD values(&quot;);</span>

<span class="nc" id="L708">		sbInsertIREOD.append (&quot;'&quot;).append (strOracleCloseDate).append (&quot;', &quot;);</span>

<span class="nc" id="L710">		sbInsertIREOD.append (&quot;'&quot;).append (strType).append (&quot;', &quot;);</span>

<span class="nc" id="L712">		sbInsertIREOD.append (&quot;'&quot;).append (strCurrency).append (&quot;', &quot;);</span>

<span class="nc" id="L714">		sbInsertIREOD.append (dbl1D).append (&quot;, &quot;);</span>

<span class="nc" id="L716">		sbInsertIREOD.append (dbl1M).append (&quot;, &quot;);</span>

<span class="nc" id="L718">		sbInsertIREOD.append (dbl2M).append (&quot;, &quot;);</span>

<span class="nc" id="L720">		sbInsertIREOD.append (dbl3M).append (&quot;, &quot;);</span>

<span class="nc" id="L722">		sbInsertIREOD.append (dbl4M).append (&quot;, &quot;);</span>

<span class="nc" id="L724">		sbInsertIREOD.append (dbl5M).append (&quot;, &quot;);</span>

<span class="nc" id="L726">		sbInsertIREOD.append (dbl6M).append (&quot;, &quot;);</span>

<span class="nc" id="L728">		sbInsertIREOD.append (dbl9M).append (&quot;, &quot;);</span>

<span class="nc" id="L730">		sbInsertIREOD.append (dbl1Y).append (&quot;, &quot;);</span>

<span class="nc" id="L732">		sbInsertIREOD.append (dbl18M).append (&quot;, &quot;);</span>

<span class="nc" id="L734">		sbInsertIREOD.append (dbl2Y).append (&quot;, &quot;);</span>

<span class="nc" id="L736">		sbInsertIREOD.append (dbl3Y).append (&quot;, &quot;);</span>

<span class="nc" id="L738">		sbInsertIREOD.append (dbl4Y).append (&quot;, &quot;);</span>

<span class="nc" id="L740">		sbInsertIREOD.append (dbl5Y).append (&quot;, &quot;);</span>

<span class="nc" id="L742">		sbInsertIREOD.append (dbl6Y).append (&quot;, &quot;);</span>

<span class="nc" id="L744">		sbInsertIREOD.append (dbl7Y).append (&quot;, &quot;);</span>

<span class="nc" id="L746">		sbInsertIREOD.append (dbl8Y).append (&quot;, &quot;);</span>

<span class="nc" id="L748">		sbInsertIREOD.append (dbl9Y).append (&quot;, &quot;);</span>

<span class="nc" id="L750">		sbInsertIREOD.append (dbl10Y).append (&quot;, &quot;);</span>

<span class="nc" id="L752">		sbInsertIREOD.append (dbl12Y).append (&quot;, &quot;);</span>

<span class="nc" id="L754">		sbInsertIREOD.append (dbl15Y).append (&quot;, &quot;);</span>

<span class="nc" id="L756">		sbInsertIREOD.append (dbl20Y).append (&quot;, &quot;);</span>

<span class="nc" id="L758">		sbInsertIREOD.append (dbl25Y).append (&quot;, &quot;);</span>

<span class="nc" id="L760">		sbInsertIREOD.append (dbl30Y).append (&quot;, &quot;);</span>

<span class="nc" id="L762">		sbInsertIREOD.append (dbl40Y).append (&quot;, &quot;);</span>

<span class="nc" id="L764">		sbInsertIREOD.append (&quot;'&quot;).append (str1DType).append (&quot;', &quot;);</span>

<span class="nc" id="L766">		sbInsertIREOD.append (&quot;'&quot;).append (str1MType).append (&quot;', &quot;);</span>

<span class="nc" id="L768">		sbInsertIREOD.append (&quot;'&quot;).append (str2MType).append (&quot;', &quot;);</span>

<span class="nc" id="L770">		sbInsertIREOD.append (&quot;'&quot;).append (str3MType).append (&quot;', &quot;);</span>

<span class="nc" id="L772">		sbInsertIREOD.append (&quot;'&quot;).append (str4MType).append (&quot;', &quot;);</span>

<span class="nc" id="L774">		sbInsertIREOD.append (&quot;'&quot;).append (str5MType).append (&quot;', &quot;);</span>

<span class="nc" id="L776">		sbInsertIREOD.append (&quot;'&quot;).append (str6MType).append (&quot;', &quot;);</span>

<span class="nc" id="L778">		sbInsertIREOD.append (&quot;'&quot;).append (str9MType).append (&quot;', &quot;);</span>

<span class="nc" id="L780">		sbInsertIREOD.append (&quot;'&quot;).append (str1YType).append (&quot;', &quot;);</span>

<span class="nc" id="L782">		sbInsertIREOD.append (&quot;'&quot;).append (str18MType).append (&quot;', &quot;);</span>

<span class="nc" id="L784">		sbInsertIREOD.append (&quot;'&quot;).append (str2YType).append (&quot;', &quot;);</span>

<span class="nc" id="L786">		sbInsertIREOD.append (&quot;'&quot;).append (str3YType).append (&quot;', &quot;);</span>

<span class="nc" id="L788">		sbInsertIREOD.append (&quot;'&quot;).append (str4YType).append (&quot;', &quot;);</span>

<span class="nc" id="L790">		sbInsertIREOD.append (&quot;'&quot;).append (str5YType).append (&quot;', &quot;);</span>

<span class="nc" id="L792">		sbInsertIREOD.append (&quot;'&quot;).append (str6YType).append (&quot;', &quot;);</span>

<span class="nc" id="L794">		sbInsertIREOD.append (&quot;'&quot;).append (str7YType).append (&quot;', &quot;);</span>

<span class="nc" id="L796">		sbInsertIREOD.append (&quot;'&quot;).append (str8YType).append (&quot;', &quot;);</span>

<span class="nc" id="L798">		sbInsertIREOD.append (&quot;'&quot;).append (str9YType).append (&quot;', &quot;);</span>

<span class="nc" id="L800">		sbInsertIREOD.append (&quot;'&quot;).append (str10YType).append (&quot;', &quot;);</span>

<span class="nc" id="L802">		sbInsertIREOD.append (&quot;'&quot;).append (str12YType).append (&quot;', &quot;);</span>

<span class="nc" id="L804">		sbInsertIREOD.append (&quot;'&quot;).append (str15YType).append (&quot;', &quot;);</span>

<span class="nc" id="L806">		sbInsertIREOD.append (&quot;'&quot;).append (str20YType).append (&quot;', &quot;);</span>

<span class="nc" id="L808">		sbInsertIREOD.append (&quot;'&quot;).append (str25YType).append (&quot;', &quot;);</span>

<span class="nc" id="L810">		sbInsertIREOD.append (&quot;'&quot;).append (str30YType).append (&quot;', &quot;);</span>

<span class="nc" id="L812">		sbInsertIREOD.append (&quot;'&quot;).append (str40YType).append (&quot;')&quot;);</span>

<span class="nc" id="L814">		return sbInsertIREOD.toString();</span>
	}

	private static final java.lang.String ClearFromCREOD (
		final java.lang.String[] astrCREOD)
	{
<span class="nc" id="L820">		java.lang.String strSPN = astrCREOD[6].trim();</span>

<span class="nc" id="L822">		java.lang.String strOracleCloseDate = &quot;&quot;;</span>

		try {
<span class="nc" id="L825">			strOracleCloseDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L826">				(astrCREOD[2].trim());</span>
<span class="nc" id="L827">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L828">			System.out.println (&quot;Bad date &quot; + astrCREOD[2] + &quot; for &quot; + strSPN);</span>

<span class="nc" id="L830">			return null;</span>
<span class="nc" id="L831">		}</span>

<span class="nc" id="L833">		return &quot;delete from CR_EOD where EOD = '&quot; + strOracleCloseDate + &quot;' and SPN = '&quot; + strSPN + &quot;'&quot;;</span>
	}

	private static final java.lang.String InsertIntoCREOD (
		final java.lang.String[] astrCREOD)
	{
<span class="nc" id="L839">		java.lang.String strName = astrCREOD[4].trim();</span>

<span class="nc" id="L841">		java.lang.String strSPN = astrCREOD[6].trim();</span>

<span class="nc" id="L843">		java.lang.String strOracleCloseDate = &quot;&quot;;</span>
<span class="nc" id="L844">		double dblRecRate = java.lang.Double.NaN;</span>
<span class="nc" id="L845">		double dblCR3M = java.lang.Double.NaN;</span>
<span class="nc" id="L846">		double dblCR6M = java.lang.Double.NaN;</span>
<span class="nc" id="L847">		double dblCR9M = java.lang.Double.NaN;</span>
<span class="nc" id="L848">		double dblCR1Y = java.lang.Double.NaN;</span>
<span class="nc" id="L849">		double dblCR18M = java.lang.Double.NaN;</span>
<span class="nc" id="L850">		double dblCR2Y = java.lang.Double.NaN;</span>
<span class="nc" id="L851">		double dblCR3Y = java.lang.Double.NaN;</span>
<span class="nc" id="L852">		double dblCR4Y = java.lang.Double.NaN;</span>
<span class="nc" id="L853">		double dblCR5Y = java.lang.Double.NaN;</span>
<span class="nc" id="L854">		double dblCR6Y = java.lang.Double.NaN;</span>
<span class="nc" id="L855">		double dblCR7Y = java.lang.Double.NaN;</span>
<span class="nc" id="L856">		double dblCR8Y = java.lang.Double.NaN;</span>
<span class="nc" id="L857">		double dblCR9Y = java.lang.Double.NaN;</span>
<span class="nc" id="L858">		double dblCR10Y = java.lang.Double.NaN;</span>
<span class="nc" id="L859">		double dblCR11Y = java.lang.Double.NaN;</span>
<span class="nc" id="L860">		double dblCR12Y = java.lang.Double.NaN;</span>
<span class="nc" id="L861">		double dblCR15Y = java.lang.Double.NaN;</span>
<span class="nc" id="L862">		double dblCR20Y = java.lang.Double.NaN;</span>
<span class="nc" id="L863">		double dblCR30Y = java.lang.Double.NaN;</span>
<span class="nc" id="L864">		double dblCR40Y = java.lang.Double.NaN;</span>

		try {
<span class="nc" id="L867">			strOracleCloseDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L868">				(astrCREOD[2].trim());</span>

<span class="nc" id="L870">			dblRecRate = java.lang.Double.parseDouble (astrCREOD[7].trim());</span>

<span class="nc" id="L872">			dblCR3M = java.lang.Double.parseDouble (astrCREOD[8].trim());</span>

<span class="nc" id="L874">			dblCR6M = java.lang.Double.parseDouble (astrCREOD[9].trim());</span>

<span class="nc" id="L876">			dblCR9M = java.lang.Double.parseDouble (astrCREOD[10].trim());</span>

<span class="nc" id="L878">			dblCR1Y = java.lang.Double.parseDouble (astrCREOD[11].trim());</span>

<span class="nc" id="L880">			dblCR18M = java.lang.Double.parseDouble (astrCREOD[12].trim());</span>

<span class="nc" id="L882">			dblCR2Y = java.lang.Double.parseDouble (astrCREOD[13].trim());</span>

<span class="nc" id="L884">			dblCR3Y = java.lang.Double.parseDouble (astrCREOD[14].trim());</span>

<span class="nc" id="L886">			dblCR4Y = java.lang.Double.parseDouble (astrCREOD[15].trim());</span>

<span class="nc" id="L888">			dblCR5Y = java.lang.Double.parseDouble (astrCREOD[16].trim());</span>

<span class="nc" id="L890">			dblCR6Y = java.lang.Double.parseDouble (astrCREOD[17].trim());</span>

<span class="nc" id="L892">			dblCR7Y = java.lang.Double.parseDouble (astrCREOD[18].trim());</span>

<span class="nc" id="L894">			dblCR8Y = java.lang.Double.parseDouble (astrCREOD[19].trim());</span>

<span class="nc" id="L896">			dblCR9Y = java.lang.Double.parseDouble (astrCREOD[20].trim());</span>

<span class="nc" id="L898">			dblCR10Y = java.lang.Double.parseDouble (astrCREOD[21].trim());</span>

<span class="nc" id="L900">			dblCR11Y = java.lang.Double.parseDouble (astrCREOD[22].trim());</span>

<span class="nc" id="L902">			dblCR12Y = java.lang.Double.parseDouble (astrCREOD[23].trim());</span>

<span class="nc" id="L904">			dblCR15Y = java.lang.Double.parseDouble (astrCREOD[26].trim());</span>

<span class="nc" id="L906">			dblCR20Y = java.lang.Double.parseDouble (astrCREOD[31].trim());</span>

<span class="nc" id="L908">			dblCR30Y = java.lang.Double.parseDouble (astrCREOD[37].trim());</span>

<span class="nc" id="L910">			dblCR40Y = java.lang.Double.parseDouble (astrCREOD[39].trim());</span>
<span class="nc" id="L911">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L912">			System.out.println (&quot;Bad input marks for SPN &quot; + strSPN);</span>

<span class="nc" id="L914">			e.printStackTrace();</span>

<span class="nc" id="L916">			return null;</span>
<span class="nc" id="L917">		}</span>

<span class="nc" id="L919">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

<span class="nc" id="L921">		sb.append (&quot;insert into CR_EOD values(&quot;);</span>

<span class="nc" id="L923">		sb.append (&quot;'&quot; + strOracleCloseDate + &quot;', &quot;);</span>

<span class="nc" id="L925">		sb.append (&quot;'&quot; + strName + &quot;', &quot;);</span>

<span class="nc" id="L927">		sb.append (&quot;'&quot; + strSPN + &quot;', &quot;);</span>

<span class="nc" id="L929">		sb.append (dblRecRate + &quot;, &quot;);</span>

<span class="nc" id="L931">		sb.append (dblCR3M + &quot;, &quot;);</span>

<span class="nc" id="L933">		sb.append (dblCR6M + &quot;, &quot;);</span>

<span class="nc" id="L935">		sb.append (dblCR9M + &quot;, &quot;);</span>

<span class="nc" id="L937">		sb.append (dblCR1Y + &quot;, &quot;);</span>

<span class="nc" id="L939">		sb.append (dblCR18M + &quot;, &quot;);</span>

<span class="nc" id="L941">		sb.append (dblCR2Y + &quot;, &quot;);</span>

<span class="nc" id="L943">		sb.append (dblCR3Y + &quot;, &quot;);</span>

<span class="nc" id="L945">		sb.append (dblCR4Y + &quot;, &quot;);</span>

<span class="nc" id="L947">		sb.append (dblCR5Y + &quot;, &quot;);</span>

<span class="nc" id="L949">		sb.append (dblCR6Y + &quot;, &quot;);</span>

<span class="nc" id="L951">		sb.append (dblCR7Y + &quot;, &quot;);</span>

<span class="nc" id="L953">		sb.append (dblCR8Y + &quot;, &quot;);</span>

<span class="nc" id="L955">		sb.append (dblCR9Y + &quot;, &quot;);</span>

<span class="nc" id="L957">		sb.append (dblCR10Y + &quot;, &quot;);</span>

<span class="nc" id="L959">		sb.append (dblCR11Y + &quot;, &quot;);</span>

<span class="nc" id="L961">		sb.append (dblCR12Y + &quot;, &quot;);</span>

<span class="nc" id="L963">		sb.append (dblCR15Y + &quot;, &quot;);</span>

<span class="nc" id="L965">		sb.append (dblCR20Y + &quot;, &quot;);</span>

<span class="nc" id="L967">		sb.append (dblCR30Y + &quot;, &quot;);</span>

<span class="nc" id="L969">		sb.append (dblCR40Y + &quot;)&quot;);</span>

<span class="nc" id="L971">		return sb.toString();</span>
	}

	private static java.lang.String makeSQLClearISIN2 (
		final java.lang.String[] astrBondRef2)
	{
<span class="nc" id="L977">		java.lang.String strISIN = astrBondRef2[0];</span>

<span class="nc bnc" id="L979" title="All 4 branches missed.">		if (null == strISIN || strISIN.isEmpty()) return null;</span>

<span class="nc" id="L981">		return &quot;delete from BondRef where ISIN = '&quot; + strISIN + &quot;'&quot;;</span>
	}

	private static java.lang.String makeSQLInsert2 (
		final java.lang.String[] astrBondRef2)
	{
<span class="nc" id="L987">		java.lang.String strCUSIP = astrBondRef2[40];</span>

<span class="nc bnc" id="L989" title="All 4 branches missed.">		if (null == strCUSIP || strCUSIP.isEmpty()) return null;</span>

<span class="nc" id="L991">		java.lang.String strISIN = astrBondRef2[0];</span>

<span class="nc bnc" id="L993" title="All 4 branches missed.">		if (null == strISIN || strISIN.isEmpty()) return null;</span>

<span class="nc" id="L995">		java.lang.String strName = astrBondRef2[2];</span>

<span class="nc bnc" id="L997" title="All 4 branches missed.">		if (null == strName || strName.isEmpty()) return null;</span>

<span class="nc" id="L999">		java.lang.String strDescription = astrBondRef2[2];</span>

<span class="nc bnc" id="L1001" title="All 4 branches missed.">		if (null == strDescription || strDescription.isEmpty()) return null;</span>

<span class="nc" id="L1003">		System.out.println (astrBondRef2[1]);</span>

<span class="nc" id="L1005">		java.lang.String[] astrTicker = astrBondRef2[1].split (&quot; &quot;);</span>

<span class="nc" id="L1007">		java.lang.String strTicker = astrTicker[0];</span>
<span class="nc" id="L1008">		double dblCoupon = 0.;</span>

		try {
<span class="nc" id="L1011">			dblCoupon = java.lang.Double.parseDouble (astrBondRef2[11].trim());</span>
<span class="nc" id="L1012">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad coupon &quot; + astrBondRef2[11] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L1014">		}</span>

<span class="nc" id="L1016">		java.lang.String strOracleMaturity = &quot;&quot;;</span>

		try {
<span class="nc" id="L1019">			strOracleMaturity = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L1020">				(astrBondRef2[8].trim());</span>
<span class="nc" id="L1021">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1022">			System.out.println (&quot;Bad maturity &quot; + astrBondRef2[8] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L1024">			return null;</span>
<span class="nc" id="L1025">		}</span>

<span class="nc" id="L1027">		java.lang.String strOracleFirstSettle = &quot;&quot;;</span>

		try {
<span class="nc" id="L1030">			strOracleFirstSettle = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L1031">				(astrBondRef2[6].trim());</span>
<span class="nc" id="L1032">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1033">			System.out.println (&quot;Bad first settle &quot; + astrBondRef2[6] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L1035">			return null;</span>
<span class="nc" id="L1036">		}</span>

<span class="nc" id="L1038">		java.lang.String strOracleFirstCoupon = &quot;&quot;;</span>

		try {
<span class="nc" id="L1041">			strOracleFirstCoupon = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L1042">				(astrBondRef2[6].trim());</span>
<span class="nc" id="L1043">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1044">			System.out.println (&quot;Bad first coupon &quot; + astrBondRef2[6] + &quot; for ISIN &quot; + strISIN);</span>

<span class="nc" id="L1046">			return null;</span>
<span class="nc" id="L1047">		}</span>

<span class="nc" id="L1049">		java.lang.String strOracleAnnounce = strOracleFirstCoupon;</span>

<span class="nc" id="L1051">		java.lang.String strCurrency = astrBondRef2[5];</span>

<span class="nc bnc" id="L1053" title="All 4 branches missed.">		if (null == strCurrency || strCurrency.isEmpty()) return null;</span>

<span class="nc" id="L1055">		int iCouponFreq = 0;</span>

<span class="nc" id="L1057">		java.lang.String strCouponFreq = astrBondRef2[13];</span>

<span class="nc bnc" id="L1059" title="All 2 branches missed.">		if (&quot;A&quot;.equalsIgnoreCase (strCouponFreq))</span>
<span class="nc" id="L1060">			iCouponFreq = 1;</span>
<span class="nc bnc" id="L1061" title="All 2 branches missed.">		else if (&quot;M&quot;.equalsIgnoreCase (strCouponFreq))</span>
<span class="nc" id="L1062">			iCouponFreq = 12;</span>
<span class="nc bnc" id="L1063" title="All 2 branches missed.">		else if (&quot;Q&quot;.equalsIgnoreCase (strCouponFreq))</span>
<span class="nc" id="L1064">			iCouponFreq = 4;</span>
<span class="nc bnc" id="L1065" title="All 2 branches missed.">		else if (&quot;S&quot;.equalsIgnoreCase (strCouponFreq))</span>
<span class="nc" id="L1066">			iCouponFreq = 2;</span>

<span class="nc" id="L1068">		java.lang.String strDayCount = astrBondRef2[14];</span>

<span class="nc bnc" id="L1070" title="All 4 branches missed.">		if (null == strDayCount || strDayCount.isEmpty()) return null;</span>

<span class="nc" id="L1072">		double dblFloatSpread = 0.;</span>

		try {
<span class="nc" id="L1075">			dblFloatSpread = java.lang.Double.parseDouble (astrBondRef2[12].trim());</span>
<span class="nc" id="L1076">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog)
				System.out.println (&quot;Bad float spread &quot; + astrBondRef2[12] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L1079">		}</span>

<span class="nc" id="L1081">		java.lang.String strRateIndex = &quot;&quot;;</span>
<span class="nc" id="L1082">		java.lang.String strCalendar = astrBondRef2[5];</span>

<span class="nc bnc" id="L1084" title="All 2 branches missed.">		if (strCalendar.startsWith (INVALID_BBG_FIELD_START)) strCalendar = &quot;&quot;;</span>

<span class="nc" id="L1086">		java.lang.String strMoodys = &quot;&quot;;</span>
<span class="nc" id="L1087">		java.lang.String strSnP = &quot;&quot;;</span>
<span class="nc" id="L1088">		java.lang.String strFitch = &quot;&quot;;</span>
<span class="nc" id="L1089">		java.lang.String strIndustrySector = &quot;&quot;;</span>
<span class="nc" id="L1090">		java.lang.String strIndustryGroup = &quot;&quot;;</span>
<span class="nc" id="L1091">		java.lang.String strSnrSub = &quot;&quot;;</span>
<span class="nc" id="L1092">		java.lang.String strIssuer = astrBondRef2[2];</span>
<span class="nc" id="L1093">		double dblAmountIssued = 0.;</span>
<span class="nc" id="L1094">		double dblAmountOutstanding = 0.;</span>
<span class="nc" id="L1095">		java.lang.String strOracleIssue = &quot;&quot;;</span>

		try {
<span class="nc" id="L1098">			strOracleIssue = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L1099">				(astrBondRef2[6].trim());</span>
<span class="nc" id="L1100">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad issue date &quot; + astrBondRef2[6] + &quot; for ISIN &quot; + strISIN);
<span class="nc" id="L1102">		}</span>

<span class="nc" id="L1104">		java.lang.String strCouponDates = &quot;&quot;;</span>
<span class="nc" id="L1105">		java.lang.String strCouponFactors = &quot;&quot;;</span>
<span class="nc" id="L1106">		java.lang.String strNotionalDates = &quot;&quot;;</span>
<span class="nc" id="L1107">		java.lang.String strNotionalFactors = &quot;&quot;;</span>
<span class="nc" id="L1108">		java.lang.String strIssuerSPN = astrBondRef2[3];</span>
<span class="nc" id="L1109">		java.lang.String strFloatQuote = &quot;&quot;;</span>

<span class="nc" id="L1111">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

<span class="nc" id="L1113">		sb.append (&quot;INSERT INTO BondRef VALUES (&quot;);</span>

<span class="nc" id="L1115">		sb.append (&quot;'&quot; + strISIN + &quot;',&quot;);</span>

<span class="nc" id="L1117">		sb.append (&quot;'&quot; + strCUSIP + &quot;',&quot;);</span>

<span class="nc" id="L1119">		sb.append (&quot;'&quot; + strName + &quot;',&quot;);</span>

<span class="nc" id="L1121">		sb.append (&quot;'&quot; + strDescription + &quot;',&quot;);</span>

<span class="nc" id="L1123">		sb.append (&quot;'&quot; + strTicker + &quot;',&quot;);</span>

<span class="nc" id="L1125">		sb.append (dblCoupon + &quot;,&quot;);</span>

<span class="nc" id="L1127">		sb.append (&quot;'&quot; + strOracleMaturity + &quot;',&quot;);</span>

<span class="nc" id="L1129">		sb.append (&quot;'&quot; + strOracleAnnounce + &quot;',&quot;);</span>

<span class="nc" id="L1131">		sb.append (&quot;'&quot; + strOracleFirstSettle + &quot;',&quot;);</span>

<span class="nc" id="L1133">		sb.append (&quot;'&quot; + strOracleFirstCoupon + &quot;',&quot;);</span>

<span class="nc" id="L1135">		sb.append (&quot;'&quot; + strCurrency + &quot;',&quot;);</span>

<span class="nc" id="L1137">		sb.append (iCouponFreq + &quot;,&quot;);</span>

<span class="nc" id="L1139">		sb.append (&quot;'&quot; + strDayCount + &quot;',&quot;);</span>

<span class="nc" id="L1141">		sb.append (dblFloatSpread + &quot;,&quot;);</span>

<span class="nc" id="L1143">		sb.append (&quot;'&quot; + strRateIndex + &quot;',&quot;);</span>

<span class="nc" id="L1145">		sb.append (&quot;'&quot; + strCalendar + &quot;',&quot;);</span>

<span class="nc" id="L1147">		sb.append (&quot;'&quot; + strMoodys + &quot;',&quot;);</span>

<span class="nc" id="L1149">		sb.append (&quot;'&quot; + strSnP + &quot;',&quot;);</span>

<span class="nc" id="L1151">		sb.append (&quot;'&quot; + strFitch + &quot;',&quot;);</span>

<span class="nc" id="L1153">		sb.append (&quot;'&quot; + strIndustrySector + &quot;',&quot;);</span>

<span class="nc" id="L1155">		sb.append (&quot;'&quot; + strIndustryGroup + &quot;',&quot;);</span>

<span class="nc" id="L1157">		sb.append (&quot;'&quot; + strSnrSub + &quot;',&quot;);</span>

<span class="nc" id="L1159">		sb.append (&quot;'&quot; + strIssuer + &quot;',&quot;);</span>

<span class="nc" id="L1161">		sb.append (dblAmountIssued + &quot;,&quot;);</span>

<span class="nc" id="L1163">		sb.append (dblAmountOutstanding + &quot;,&quot;);</span>

<span class="nc" id="L1165">		sb.append (&quot;'&quot; + strOracleIssue + &quot;',&quot;);</span>

<span class="nc" id="L1167">		sb.append (&quot;'&quot; + strCouponDates + &quot;',&quot;);</span>

<span class="nc" id="L1169">		sb.append (&quot;'&quot; + strCouponFactors + &quot;',&quot;);</span>

<span class="nc" id="L1171">		sb.append (&quot;'&quot; + strNotionalDates + &quot;',&quot;);</span>

<span class="nc" id="L1173">		sb.append (&quot;'&quot; + strNotionalFactors + &quot;',&quot;);</span>

<span class="nc" id="L1175">		sb.append (&quot;'&quot; + strIssuerSPN + &quot;',&quot;);</span>

<span class="nc" id="L1177">		sb.append (&quot;'&quot; + strFloatQuote + &quot;')&quot;);</span>

<span class="nc" id="L1179">		return sb.toString();</span>
	}

	private static java.lang.String makeSQLClearAmortScheduleEntry (
		final java.lang.String[] astrAmortizationSchedule)
	{
<span class="nc bnc" id="L1185" title="All 4 branches missed.">		if (null == astrAmortizationSchedule || 5 != astrAmortizationSchedule.length) return null;</span>

<span class="nc" id="L1187">		java.lang.String strOracleAmortizationDate = &quot;&quot;;</span>

<span class="nc" id="L1189">		java.lang.String strCUSIP = astrAmortizationSchedule[1].trim();</span>

<span class="nc bnc" id="L1191" title="All 4 branches missed.">		if (null == strCUSIP || strCUSIP.isEmpty()) return null;</span>

<span class="nc" id="L1193">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

		try {
<span class="nc" id="L1196">			strOracleAmortizationDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L1197">				(astrAmortizationSchedule[2].trim());</span>
<span class="nc" id="L1198">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1199">			System.out.println (&quot;Bad date &quot; + astrAmortizationSchedule[2] + &quot; for CUSIP &quot; + strCUSIP);</span>

<span class="nc" id="L1201">			return null;</span>
<span class="nc" id="L1202">		}</span>

<span class="nc" id="L1204">		sb.append (&quot;delete from AmortizationSchedule where CUSIP = '&quot;).append (strCUSIP).append</span>
<span class="nc" id="L1205">			(&quot;' and AmortDate = '&quot;).append (strOracleAmortizationDate).append (&quot;'&quot;);</span>

<span class="nc" id="L1207">		return sb.toString();</span>
	}

	private static final java.lang.String InsertIntoAmortizationSchedule (
		final java.lang.String[] astrAmortizationSchedule)
	{
<span class="nc bnc" id="L1213" title="All 4 branches missed.">		if (null == astrAmortizationSchedule || 5 != astrAmortizationSchedule.length) return null;</span>

<span class="nc" id="L1215">		java.lang.String strCUSIP = astrAmortizationSchedule[1].trim();</span>

<span class="nc" id="L1217">		java.lang.String strOracleAmortizationDate = &quot;&quot;;</span>
<span class="nc" id="L1218">		double dblPrincipalPaydown = java.lang.Double.NaN;</span>

		try {
<span class="nc" id="L1221">			strOracleAmortizationDate = org.drip.analytics.date.DateUtil.MakeOracleDateFromBBGDate</span>
<span class="nc" id="L1222">				(astrAmortizationSchedule[2].trim());</span>
<span class="nc" id="L1223">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1224">			System.out.println (&quot;Bad date &quot; + astrAmortizationSchedule[2] + &quot; for CUSIP &quot; + strCUSIP);</span>

<span class="nc" id="L1226">			return null;</span>
<span class="nc" id="L1227">		}</span>

		try {
<span class="nc" id="L1230">			dblPrincipalPaydown = java.lang.Double.parseDouble (astrAmortizationSchedule[4].trim());</span>
<span class="nc" id="L1231">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1232">			System.out.println (&quot;Bad paydown factor &quot; + astrAmortizationSchedule[4] + &quot; for CUSIP &quot; +</span>
				strCUSIP);

<span class="nc" id="L1235">			return null;</span>
<span class="nc" id="L1236">		}</span>

<span class="nc" id="L1238">		return &quot;insert into AmortizationSchedule values('&quot; + strCUSIP + &quot;', '&quot; + strOracleAmortizationDate +</span>
			&quot;', &quot; + dblPrincipalPaydown + &quot;)&quot;;
	}

	private static void LoadBondRef()
		throws java.lang.Exception
	{
		/* int iNumBonds = 0;
		java.lang.String strValDataLine = &quot;&quot;;
		java.io.BufferedReader inValData = null;

		System.out.println (&quot;Loading BondRef ...&quot;);

		oracle.jdbc.pool.OracleDataSource ds = new oracle.jdbc.pool.OracleDataSource();

		ds.setDriverType (&quot;thin&quot;);

		ds.setServerName (&quot;localhost&quot;);

		ds.setPortNumber (1521);

		ds.setDatabaseName (&quot;XE&quot;);

		ds.setUser (&quot;hr&quot;);

		ds.setPassword (&quot;hr&quot;);

		java.sql.Connection con = ds.getConnection();

		java.sql.Statement stmt = con.createStatement();

		try {
			inValData = new java.io.BufferedReader (new java.io.FileReader
				(&quot;c:\\Lakshmi\\java\\BondAnal\\Data\\BondStaticRef\\FullTickers_Base\\RefDataSet.csv&quot;));
		} catch (java.lang.Exception e) {
			System.out.println (&quot;Cannot open Val Data record file&quot;);

			return;
		}

		while (null != (strValDataLine = inValData.readLine())) {
			int iNumRecord = 0;
			java.lang.String astrValRecord[] = new java.lang.String[33];

			java.util.StringTokenizer stValData = new java.util.StringTokenizer (strValDataLine, &quot;,&quot;);

			while (stValData.hasMoreTokens()) {
				java.lang.String stValDataField = stValData.nextToken();

				astrValRecord[iNumRecord++] = stValDataField;
			}

			java.lang.String strSQLClear = makeSQLClearISINOrCUSIP (astrValRecord);

			if (null != strSQLClear) stmt.executeUpdate (strSQLClear);

			java.lang.String strSQLInsert = makeSQLInsert (astrValRecord);

			if (null != strSQLInsert) {
				if (m_bBlog) System.out.println (&quot;SQL[&quot; + iNumBonds + &quot;]: &quot; + strSQLInsert);

				stmt.executeUpdate (strSQLInsert);
			}

			++iNumBonds;
		}

		inValData.close();

		System.out.println (&quot;Loaded &quot; + iNumBonds + &quot; into BondRef.&quot;); */
<span class="nc" id="L1308">	}</span>

	private static void LoadBondRef2()
		throws java.lang.Exception
	{
<span class="nc" id="L1313">		int iNumBonds = 0;</span>
<span class="nc" id="L1314">		java.lang.String strBondRef2Line = &quot;&quot;;</span>
<span class="nc" id="L1315">		java.io.BufferedReader inBondRef2 = null;</span>

<span class="nc" id="L1317">		System.out.println (&quot;Loading BondRef2 ...&quot;);</span>

<span class="nc" id="L1319">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1320">			(&quot;c:\\Lakshmi\\java\\BondAnal\\Config.xml&quot;);</span>

		try {
<span class="nc" id="L1323">			inBondRef2 = new java.io.BufferedReader (new java.io.FileReader</span>
				(&quot;C:\\Lakshmi\\RefDataAndMarks\\17Jan2012\\Bond.csv&quot;));
<span class="nc" id="L1325">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1326">			System.out.println (&quot;Cannot open BondRef record file&quot;);</span>

<span class="nc" id="L1328">			return;</span>
<span class="nc" id="L1329">		}</span>

<span class="nc bnc" id="L1331" title="All 2 branches missed.">		while (null != (strBondRef2Line = inBondRef2.readLine())) {</span>
<span class="nc" id="L1332">			java.lang.String[] astrBondRef2Record = strBondRef2Line.split (&quot;,&quot;);</span>

<span class="nc" id="L1334">			java.lang.String strSQLClear = makeSQLClearISIN2 (astrBondRef2Record);</span>

<span class="nc bnc" id="L1336" title="All 2 branches missed.">			if (null != strSQLClear) stmt.executeUpdate (strSQLClear);</span>

<span class="nc" id="L1338">			java.lang.String strSQLInsert = makeSQLInsert2 (astrBondRef2Record);</span>

<span class="nc bnc" id="L1340" title="All 2 branches missed.">			if (null != strSQLInsert) {</span>
				if (m_bBlog) System.out.println (&quot;SQL[&quot; + iNumBonds + &quot;]: &quot; + strSQLInsert);

<span class="nc" id="L1343">				stmt.executeUpdate (strSQLInsert);</span>
			}

<span class="nc" id="L1346">			++iNumBonds;</span>
<span class="nc" id="L1347">		}</span>

<span class="nc" id="L1349">		inBondRef2.close();</span>

<span class="nc" id="L1351">		System.out.println (&quot;Loaded &quot; + iNumBonds + &quot; into BondRef2&quot;);</span>
<span class="nc" id="L1352">	}</span>

	private static void LoadBondRef_FODATA()
		throws java.lang.Exception
	{
<span class="nc" id="L1357">		int iNumBonds = 0;</span>
<span class="nc" id="L1358">		java.lang.String strBondRefLine = &quot;&quot;;</span>
<span class="nc" id="L1359">		java.io.BufferedReader inBondRef = null;</span>

<span class="nc" id="L1361">		System.out.println (&quot;Loading BondRef_FODATA ...&quot;);</span>

<span class="nc" id="L1363">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1364">			(&quot;c:\\Lakshmi\\java\\BondAnal\\Config.xml&quot;);</span>

		try {
<span class="nc" id="L1367">			inBondRef = new java.io.BufferedReader (new java.io.FileReader</span>
				(&quot;C:\\Lakshmi\\RefDataAndMarks\\17Jan2012\\Bond.csv&quot;));
<span class="nc" id="L1369">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1370">			System.out.println (&quot;Cannot open BondRef record file&quot;);</span>

<span class="nc" id="L1372">			return;</span>
<span class="nc" id="L1373">		}</span>

<span class="nc bnc" id="L1375" title="All 2 branches missed.">		while (null != (strBondRefLine = inBondRef.readLine())) {</span>
<span class="nc" id="L1376">			java.lang.String[] astrBondRefRecord = strBondRefLine.split (&quot;,&quot;);</span>

<span class="nc" id="L1378">			java.lang.String strSQLClear = makeSQLClear_FODATA (astrBondRefRecord);</span>

<span class="nc bnc" id="L1380" title="All 2 branches missed.">			if (null != strSQLClear) stmt.executeUpdate (strSQLClear);</span>

<span class="nc" id="L1382">			java.lang.String strSQLInsert = makeSQLInsert_FODATA (astrBondRefRecord);</span>

<span class="nc bnc" id="L1384" title="All 2 branches missed.">			if (null != strSQLInsert) {</span>
				if (m_bBlog) System.out.println (&quot;SQL[&quot; + iNumBonds + &quot;]: &quot; + strSQLInsert);

<span class="nc" id="L1387">				stmt.executeUpdate (strSQLInsert);</span>
			}

<span class="nc" id="L1390">			++iNumBonds;</span>
<span class="nc" id="L1391">		}</span>

<span class="nc" id="L1393">		inBondRef.close();</span>

<span class="nc" id="L1395">		System.out.println (&quot;Loaded &quot; + iNumBonds + &quot; into BondRef_FODATA&quot;);</span>
<span class="nc" id="L1396">	}</span>

	private static void LoadBondMarks()
		throws java.lang.Exception
	{
<span class="nc" id="L1401">		int iNumMarks = 0;</span>
<span class="nc" id="L1402">		java.lang.String strMarksLine = &quot;&quot;;</span>
<span class="nc" id="L1403">		java.io.BufferedReader inMarks = null;</span>

<span class="nc" id="L1405">		System.out.println (&quot;Loading BondMark ...&quot;);</span>

<span class="nc" id="L1407">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1408">			(&quot;c:\\Lakshmi\\java\\BondAnal\\Config.xml&quot;);</span>

		try {
<span class="nc" id="L1411">			inMarks = new java.io.BufferedReader (new java.io.FileReader</span>
				(&quot;c:\\Lakshmi\\java\\BondAnal\\Data\\BondStaticRef\\Marks\\MatrixPricer_Prices_0715.csv&quot;));
<span class="nc" id="L1413">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1414">			System.out.println (&quot;Cannot open marks file&quot;);</span>

<span class="nc" id="L1416">			return;</span>
<span class="nc" id="L1417">		}</span>

<span class="nc bnc" id="L1419" title="All 2 branches missed.">		while (null != (strMarksLine = inMarks.readLine())) {</span>
<span class="nc" id="L1420">			int iNumMarksRecord = 0;</span>
<span class="nc" id="L1421">			java.lang.String astrMarks[] = new java.lang.String[9];</span>

<span class="nc" id="L1423">			java.util.StringTokenizer stMarks = new java.util.StringTokenizer (strMarksLine, &quot;,&quot;);</span>

<span class="nc bnc" id="L1425" title="All 2 branches missed.">			while (stMarks.hasMoreTokens()) {</span>
<span class="nc" id="L1426">				java.lang.String strMarks = stMarks.nextToken();</span>

<span class="nc" id="L1428">				astrMarks[iNumMarksRecord++] = strMarks;</span>
<span class="nc" id="L1429">			}</span>

<span class="nc" id="L1431">			java.lang.String strSQLClearMarks = makeSQLClearMarksForBondDate (astrMarks);</span>

<span class="nc bnc" id="L1433" title="All 2 branches missed.">			if (null != strSQLClearMarks) {</span>
				if (m_bBlog) System.out.println (&quot;SQL[&quot; + iNumMarks + &quot;]: &quot; + strSQLClearMarks);

<span class="nc" id="L1436">				stmt.executeUpdate (strSQLClearMarks);</span>
			}

<span class="nc" id="L1439">			java.lang.String strSQLInsertMarks = makeSQLBondMarksInsert (astrMarks);</span>

<span class="nc bnc" id="L1441" title="All 2 branches missed.">			if (null != strSQLInsertMarks) {</span>
				if (m_bBlog) System.out.println (&quot;SQL[&quot; + iNumMarks + &quot;]: &quot; + strSQLInsertMarks);

<span class="nc" id="L1444">				stmt.executeUpdate (strSQLInsertMarks);</span>
			}

<span class="nc" id="L1447">			++iNumMarks;</span>
<span class="nc" id="L1448">		}</span>

<span class="nc" id="L1450">		inMarks.close();</span>

<span class="nc" id="L1452">		System.out.println (&quot;Loaded &quot; + iNumMarks + &quot; into BondMark.&quot;);</span>
<span class="nc" id="L1453">	}</span>

	private static void LoadHolidayCalendar (
		final java.lang.String strHolLoc,
		final java.lang.String strHolLocFile)
		throws java.lang.Exception
	{
<span class="nc" id="L1460">		java.lang.String strHolsLine = &quot;&quot;;</span>
<span class="nc" id="L1461">		java.io.BufferedReader inHolCal = null;</span>

<span class="nc" id="L1463">		System.out.println (&quot;Loading &quot; + strHolLoc + &quot; from &quot; + strHolLocFile);</span>

<span class="nc" id="L1465">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1466">			(&quot;c:\\Lakshmi\\java\\BondAnal\\Config.xml&quot;);</span>

		try {
<span class="nc" id="L1469">			inHolCal = new java.io.BufferedReader (new java.io.FileReader (strHolLocFile));</span>
<span class="nc" id="L1470">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1471">			System.out.println (&quot;Cannot open hol cal file&quot;);</span>

<span class="nc" id="L1473">			return;</span>
<span class="nc" id="L1474">		}</span>

<span class="nc bnc" id="L1476" title="All 2 branches missed.">		while (null != (strHolsLine = inHolCal.readLine())) {</span>
<span class="nc" id="L1477">			java.util.StringTokenizer stHolFields = new java.util.StringTokenizer (strHolsLine, &quot;	&quot;);</span>

			try {
<span class="nc" id="L1480">				int iFieldNum = 0;</span>
<span class="nc" id="L1481">				java.lang.String[] astrHolFields = new java.lang.String[2];</span>
<span class="nc" id="L1482">				astrHolFields[0] = &quot;&quot;;</span>
<span class="nc" id="L1483">				astrHolFields[1] = &quot;&quot;;</span>
<span class="nc" id="L1484">				java.lang.String strORAHoliday = &quot;&quot;;</span>

<span class="nc bnc" id="L1486" title="All 4 branches missed.">				while (stHolFields.hasMoreTokens() &amp;&amp; iFieldNum &lt; astrHolFields.length)</span>
<span class="nc" id="L1487">					astrHolFields[iFieldNum++] = stHolFields.nextToken();</span>

<span class="nc" id="L1489">				java.lang.String strTextHol = astrHolFields[0].trim();</span>

				try {
<span class="nc" id="L1492">					strORAHoliday = org.drip.analytics.date.DateUtil.MakeOracleDateFromYYYYMMDD (strTextHol);</span>
<span class="nc" id="L1493">				} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1494">					java.util.StringTokenizer stTextHol = new java.util.StringTokenizer (strTextHol, &quot; &quot;);</span>

<span class="nc" id="L1496">					strORAHoliday = org.drip.analytics.date.DateUtil.MakeOracleDateFromYYYYMMDD</span>
<span class="nc" id="L1497">						(stTextHol.nextToken().trim());</span>
<span class="nc" id="L1498">				}</span>

<span class="nc" id="L1500">				java.lang.String strDescription = astrHolFields[1].trim();</span>

<span class="nc bnc" id="L1502" title="All 4 branches missed.">				if (null != strDescription &amp;&amp; !strDescription.isEmpty())</span>
<span class="nc" id="L1503">					strDescription = strDescription.replaceAll (&quot;'&quot;, &quot;&quot;);</span>
				else
<span class="nc" id="L1505">					strDescription = &quot;&quot;;</span>

<span class="nc" id="L1507">				stmt.executeUpdate (&quot;delete from Holidays where Location = '&quot; + strHolLoc +</span>
					&quot;' and Holiday = '&quot; + strORAHoliday + &quot;'&quot;);

<span class="nc" id="L1510">				stmt.executeUpdate (&quot;insert into Holidays values('&quot; + strHolLoc + &quot;', '&quot; + strORAHoliday +</span>
					&quot;', '&quot; + strDescription + &quot;')&quot;);
<span class="nc" id="L1512">			} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1513">				System.out.println (strHolLoc + &quot;: Check line &quot; + strHolsLine);</span>
<span class="nc" id="L1514">			}</span>
<span class="nc" id="L1515">		}</span>

<span class="nc" id="L1517">		inHolCal.close();</span>
<span class="nc" id="L1518">	}</span>

	private static void LoadHolsToHolderSource (
		final java.io.BufferedWriter bw,
		final java.lang.String strHolLoc,
		final java.lang.String strHolLocFile)
		throws java.lang.Exception
	{
<span class="nc" id="L1526">		java.lang.String strHolsLine = &quot;&quot;;</span>
<span class="nc" id="L1527">		java.io.BufferedReader inHolCal = null;</span>

<span class="nc" id="L1529">		System.out.println (&quot;Loading &quot; + strHolLoc + &quot; from &quot; + strHolLocFile);</span>

		try {
<span class="nc" id="L1532">			inHolCal = new java.io.BufferedReader (new java.io.FileReader (strHolLocFile));</span>
<span class="nc" id="L1533">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1534">			System.out.println (&quot;Cannot open hol cal file&quot;);</span>

<span class="nc" id="L1536">			return;</span>
<span class="nc" id="L1537">		}</span>

<span class="nc bnc" id="L1539" title="All 2 branches missed.">		while (null != (strHolsLine = inHolCal.readLine())) {</span>
<span class="nc" id="L1540">			java.util.StringTokenizer stHolFields = new java.util.StringTokenizer (strHolsLine, &quot;	&quot;);</span>

			try {
<span class="nc" id="L1543">				java.lang.String[] astrHolFields = new java.lang.String[2];</span>
<span class="nc" id="L1544">				java.lang.String strORAHoliday = &quot;&quot;;</span>
<span class="nc" id="L1545">				astrHolFields[0] = &quot;&quot;;</span>
<span class="nc" id="L1546">				astrHolFields[1] = &quot;&quot;;</span>
<span class="nc" id="L1547">				int iFieldNum = 0;</span>

<span class="nc bnc" id="L1549" title="All 4 branches missed.">				while (stHolFields.hasMoreTokens() &amp;&amp; iFieldNum &lt; astrHolFields.length)</span>
<span class="nc" id="L1550">					astrHolFields[iFieldNum++] = stHolFields.nextToken();</span>

<span class="nc" id="L1552">				java.lang.String strTextHol = astrHolFields[0].trim();</span>

				try {
<span class="nc" id="L1555">					strORAHoliday = org.drip.analytics.date.DateUtil.MakeOracleDateFromYYYYMMDD (strTextHol);</span>
<span class="nc" id="L1556">				} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1557">					java.util.StringTokenizer stTextHol = new java.util.StringTokenizer (strTextHol, &quot; &quot;);</span>

<span class="nc" id="L1559">					strORAHoliday = org.drip.analytics.date.DateUtil.MakeOracleDateFromYYYYMMDD</span>
<span class="nc" id="L1560">						(stTextHol.nextToken().trim());</span>
<span class="nc" id="L1561">				}</span>

<span class="nc" id="L1563">				java.lang.String strDescription = astrHolFields[1].trim();</span>

<span class="nc bnc" id="L1565" title="All 4 branches missed.">				if (null != strDescription &amp;&amp; !strDescription.isEmpty())</span>
<span class="nc" id="L1566">					strDescription = strDescription.replaceAll (&quot;'&quot;, &quot;&quot;);</span>
				else
<span class="nc" id="L1568">					strDescription = &quot;&quot;;</span>

<span class="nc" id="L1570">				java.lang.String strLocHolDates = &quot;lh.addStaticHoliday (\&quot;&quot; + strORAHoliday + &quot;\&quot;, \&quot;&quot; +</span>
					strDescription + &quot;\&quot;);&quot;;

				if (m_bBlog) System.out.println (strLocHolDates);

<span class="nc" id="L1575">				bw.write (&quot;\t\t&quot; + strLocHolDates + &quot;\n\n&quot;);</span>
<span class="nc" id="L1576">			} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1577">				System.out.println (strHolLoc + &quot;: Check line &quot; + strHolsLine);</span>
<span class="nc" id="L1578">			}</span>
<span class="nc" id="L1579">		}</span>

<span class="nc" id="L1581">		bw.flush();</span>

<span class="nc" id="L1583">		inHolCal.close();</span>
<span class="nc" id="L1584">	}</span>

	private static final void LoadHolCals()
		throws java.lang.Exception
	{
<span class="nc" id="L1589">		java.lang.String strHolDir = &quot;c:\\Lakshmi\\java\\BondAnal\\Data\\Holidays\\&quot;;</span>

<span class="nc" id="L1591">		java.io.File f = new java.io.File (strHolDir);</span>

<span class="nc" id="L1593">		java.lang.String[] astrFile = f.list();</span>

<span class="nc bnc" id="L1595" title="All 2 branches missed.">		for (int i = 0; i &lt; astrFile.length; ++i) {</span>
<span class="nc" id="L1596">			java.util.StringTokenizer stLoc = new java.util.StringTokenizer (astrFile[i], &quot;.&quot;);</span>

<span class="nc" id="L1598">			java.lang.String strPrefix = stLoc.nextToken();</span>

<span class="nc bnc" id="L1600" title="All 2 branches missed.">			if (!&quot;holiday&quot;.equalsIgnoreCase (strPrefix)) continue;</span>

<span class="nc" id="L1602">			LoadHolidayCalendar (stLoc.nextToken().toUpperCase(), strHolDir + astrFile[i]);</span>
		}
<span class="nc" id="L1604">	}</span>

	private static final void AccumulateHolidays()
		throws java.lang.Exception
	{
<span class="nc" id="L1609">		java.lang.String strHolDir = &quot;c:\\Lakshmi\\BondAnal\\Data\\Holidays\\&quot;;</span>

<span class="nc" id="L1611">		java.io.File f = new java.io.File (strHolDir);</span>

<span class="nc" id="L1613">		java.lang.String[] astrFile = f.list();</span>

<span class="nc bnc" id="L1615" title="All 2 branches missed.">		for (int i = 0; i &lt; astrFile.length; ++i) {</span>
<span class="nc" id="L1616">			java.util.StringTokenizer stLoc = new java.util.StringTokenizer (astrFile[i], &quot;.&quot;);</span>

<span class="nc" id="L1618">			java.lang.String strPrefix = stLoc.nextToken();</span>

<span class="nc bnc" id="L1620" title="All 2 branches missed.">			if (!&quot;holiday&quot;.equalsIgnoreCase (strPrefix)) continue;</span>

<span class="nc" id="L1622">			java.lang.String strSuffix = stLoc.nextToken().toUpperCase();</span>

<span class="nc" id="L1624">			java.io.BufferedWriter bw = new java.io.BufferedWriter (new java.io.FileWriter</span>
				(&quot;c:\\DRIP\\CreditAnalytics\\org\\drip\\analytics\\holset\\&quot; + strSuffix + &quot;Holiday.java&quot;));

<span class="nc" id="L1627">			bw.write (&quot;\npackage org.drip.analytics.holset;\n\n&quot;);</span>

<span class="nc" id="L1629">			bw.write</span>
<span class="nc" id="L1630">				(&quot;/*\n * -*- mode: java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-\n */\n&quot;);</span>

<span class="nc" id="L1632">			bw.write (&quot;\n/*\n *    GENERATED on &quot; + new java.util.Date().toString() +</span>
				&quot; ---- DO NOT DELETE\n */\n&quot;);

<span class="nc" id="L1635">			bw.write (&quot;\n/*!\n * Copyright (C) 2013 Lakshmi Krishnamurthy\n&quot;);</span>

<span class="nc" id="L1637">			bw.write (&quot; * Copyright (C) 2012 Lakshmi Krishnamurthy\n&quot;);</span>

<span class="nc" id="L1639">			bw.write (&quot; * Copyright (C) 2011 Lakshmi Krishnamurthy\n *\n&quot;);</span>

<span class="nc" id="L1641">			bw.write (&quot; * This file is part of CreditAnalytics, a free-software/open-source library for\n&quot;);</span>

<span class="nc" id="L1643">			bw.write (&quot; *		fixed income analysts and developers - http://www.credit-trader.org\n *\n&quot;);</span>

<span class="nc" id="L1645">			bw.write (&quot; * CreditAnalytics is a free, full featured, fixed income credit analytics library,&quot;);</span>

<span class="nc" id="L1647">			bw.write (&quot; developed with a special focus\n&quot;);</span>

<span class="nc" id="L1649">			bw.write (&quot; * 		towards the needs of the bonds and credit products community.\n *\n&quot;);</span>

<span class="nc" id="L1651">			bw.write (&quot; *  Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);\n&quot;);</span>

<span class="nc" id="L1653">			bw.write (&quot; *   	you may not use this file except in compliance with the License.\n&quot;);</span>

<span class="nc" id="L1655">			bw.write (&quot; *\n *  You may obtain a copy of the License at\n&quot;);</span>

<span class="nc" id="L1657">			bw.write (&quot; *  	http://www.apache.org/licenses/LICENSE-2.0\n *\n&quot;);</span>

<span class="nc" id="L1659">			bw.write (&quot; *  Unless required by applicable law or agreed to in writing, software\n&quot;);</span>

<span class="nc" id="L1661">			bw.write (&quot; *  	distributed under the License is distributed on an \&quot;AS IS\&quot; BASIS,\n&quot;);</span>

<span class="nc" id="L1663">			bw.write (&quot; *  	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n&quot;);</span>

<span class="nc" id="L1665">			bw.write (&quot; *  \n *  See the License for the specific language governing permissions and\n&quot;);</span>

<span class="nc" id="L1667">			bw.write (&quot; *  	limitations under the License.\n */\n\n&quot;);</span>

<span class="nc" id="L1669">			bw.write (&quot;public class &quot; + strSuffix +</span>
				&quot;Holiday implements org.drip.analytics.holset.LocationHoliday {\n&quot;);

<span class="nc" id="L1672">			bw.write (&quot;\tpublic &quot; + strSuffix + &quot;Holiday()\n\t{\n\t}\n\n&quot;);</span>

<span class="nc" id="L1674">			bw.write (&quot;\tpublic java.lang.String getHolidayLoc()\n\t{\n&quot;);</span>

<span class="nc" id="L1676">			bw.write (&quot;\t\treturn \&quot;&quot; + strSuffix + &quot;\&quot;;\n\t}\n\n&quot;);</span>

<span class="nc" id="L1678">			bw.write (&quot;\tpublic org.drip.analytics.holiday.Locale getHolidaySet()\n\t{&quot;);</span>

<span class="nc" id="L1680">			bw.write (&quot;\n\t\torg.drip.analytics.holiday.Locale lh = new\n&quot;);</span>

<span class="nc" id="L1682">			bw.write (&quot;\t\t\torg.drip.analytics.holiday.Locale();\n\n&quot;);</span>

<span class="nc" id="L1684">			LoadHolsToHolderSource (bw, strSuffix, strHolDir + astrFile[i]);</span>

<span class="nc" id="L1686">			bw.write (&quot;\t\tlh.addStandardWeekend();\n\n&quot;);</span>

<span class="nc" id="L1688">			bw.write (&quot;\t\treturn lh;\n\t}\n}\n&quot;);</span>

<span class="nc" id="L1690">			bw.close();</span>
		}
<span class="nc" id="L1692">	}</span>

	private static final void LoadEOS()
		throws java.lang.Exception
	{
<span class="nc" id="L1697">		int iNumSchedules = 0;</span>
<span class="nc" id="L1698">		java.lang.String strEOSLine = &quot;&quot;;</span>
<span class="nc" id="L1699">		java.io.BufferedReader inEOS = null;</span>

<span class="nc" id="L1701">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1702">			(&quot;c:\\Lakshmi\\BondAnal\\Config.xml&quot;);</span>

<span class="nc" id="L1704">		System.out.println (&quot;Loading EOS ...&quot;);</span>

		try {
<span class="nc" id="L1707">			inEOS = new java.io.BufferedReader (new java.io.FileReader</span>
				(&quot;C:\\Lakshmi\\RefDataAndMarks\\17Jan2012\\OptionSchedule.csv&quot;));
<span class="nc" id="L1709">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1710">			System.out.println (&quot;Cannot open EOS file&quot;);</span>

<span class="nc" id="L1712">			return;</span>
<span class="nc" id="L1713">		}</span>

<span class="nc bnc" id="L1715" title="All 2 branches missed.">		while (null != (strEOSLine = inEOS.readLine())) {</span>
<span class="nc" id="L1716">			int iNumRecord = 0;</span>
<span class="nc" id="L1717">			java.lang.String astrEOS[] = new java.lang.String[14];</span>

<span class="nc" id="L1719">			java.util.StringTokenizer stEOS = new java.util.StringTokenizer (strEOSLine, &quot;,&quot;);</span>

<span class="nc bnc" id="L1721" title="All 2 branches missed.">			while (stEOS.hasMoreTokens()) {</span>
<span class="nc" id="L1722">				java.lang.String strEOS = stEOS.nextToken();</span>

<span class="nc" id="L1724">				astrEOS[iNumRecord++] = strEOS;</span>
<span class="nc" id="L1725">			}</span>

<span class="nc" id="L1727">			java.lang.String strClearEOS = ClearISINDateTypeFromEOS (astrEOS);</span>

<span class="nc bnc" id="L1729" title="All 4 branches missed.">			if (null != strClearEOS &amp;&amp; !strClearEOS.isEmpty()) stmt.executeQuery (strClearEOS);</span>

<span class="nc" id="L1731">			java.lang.String strInsertEOS = InsertIntoEOS (astrEOS);</span>

<span class="nc bnc" id="L1733" title="All 4 branches missed.">			if (null != strInsertEOS &amp;&amp; !strInsertEOS.isEmpty())</span>
<span class="nc" id="L1734">				stmt.executeQuery (strInsertEOS);</span>

<span class="nc" id="L1736">			++iNumSchedules;</span>
<span class="nc" id="L1737">		}</span>

<span class="nc" id="L1739">		inEOS.close();</span>

<span class="nc" id="L1741">		System.out.println (&quot;Loaded &quot; + iNumSchedules + &quot; into EOS.&quot;);</span>
<span class="nc" id="L1742">	}</span>

	private static final void LoadAmortizationSchedule()
		throws java.lang.Exception
	{
<span class="nc" id="L1747">		int iNumSchedules = 0;</span>
<span class="nc" id="L1748">		java.lang.String strAmortizationScheduleLine = &quot;&quot;;</span>
<span class="nc" id="L1749">		java.io.BufferedReader inAmortizationSchedule = null;</span>

<span class="nc" id="L1751">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1752">			(&quot;c:\\Lakshmi\\java\\BondAnal\\Config.xml&quot;);</span>

<span class="nc" id="L1754">		System.out.println (&quot;Loading AmortizationSchedule ...&quot;);</span>

		try {
<span class="nc" id="L1757">			inAmortizationSchedule = new java.io.BufferedReader (new java.io.FileReader</span>
				(&quot;C:\\Lakshmi\\RefDataAndMarks\\17Jan2012\\AmortizationSchedule.csv&quot;));
<span class="nc" id="L1759">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1760">			System.out.println (&quot;Cannot open AmortizationSchedule file&quot;);</span>

<span class="nc" id="L1762">			return;</span>
<span class="nc" id="L1763">		}</span>

<span class="nc bnc" id="L1765" title="All 2 branches missed.">		while (null != (strAmortizationScheduleLine = inAmortizationSchedule.readLine())) {</span>
<span class="nc" id="L1766">			int iNumRecord = 0;</span>
<span class="nc" id="L1767">			java.lang.String astrAmortizationSchedule[] = new java.lang.String[5];</span>

<span class="nc" id="L1769">			java.util.StringTokenizer stAmortizationSchedule = new java.util.StringTokenizer</span>
				(strAmortizationScheduleLine, &quot;,&quot;);

<span class="nc bnc" id="L1772" title="All 2 branches missed.">			while (stAmortizationSchedule.hasMoreTokens()) {</span>
<span class="nc" id="L1773">				java.lang.String strAmortizationSchedule = stAmortizationSchedule.nextToken();</span>

<span class="nc" id="L1775">				astrAmortizationSchedule[iNumRecord++] = strAmortizationSchedule;</span>
<span class="nc" id="L1776">			}</span>

<span class="nc" id="L1778">			java.lang.String strClearAmortizationSchedule = makeSQLClearAmortScheduleEntry</span>
<span class="nc" id="L1779">				(astrAmortizationSchedule);</span>

<span class="nc bnc" id="L1781" title="All 4 branches missed.">			if (null != strClearAmortizationSchedule &amp;&amp; !strClearAmortizationSchedule.isEmpty())</span>
<span class="nc" id="L1782">				stmt.executeQuery (strClearAmortizationSchedule);</span>

<span class="nc" id="L1784">			java.lang.String strInsertAmortizationSchedule = InsertIntoAmortizationSchedule</span>
<span class="nc" id="L1785">				(astrAmortizationSchedule);</span>

<span class="nc bnc" id="L1787" title="All 4 branches missed.">			if (null != strInsertAmortizationSchedule &amp;&amp; !strInsertAmortizationSchedule.isEmpty())</span>
<span class="nc" id="L1788">				stmt.executeQuery (strInsertAmortizationSchedule);</span>

<span class="nc" id="L1790">			++iNumSchedules;</span>
<span class="nc" id="L1791">		}</span>

<span class="nc" id="L1793">		inAmortizationSchedule.close();</span>

<span class="nc" id="L1795">		System.out.println (&quot;Loaded &quot; + iNumSchedules + &quot; into AmortizationSchedule.&quot;);</span>
<span class="nc" id="L1796">	}</span>

	private static final void LoadIREOD()
		throws java.lang.Exception
	{
<span class="nc" id="L1801">		int iNumIREOD = 0;</span>
<span class="nc" id="L1802">		java.lang.String strIREODLine = &quot;&quot;;</span>
<span class="nc" id="L1803">		java.io.BufferedReader inIREOD = null;</span>

<span class="nc" id="L1805">		System.out.println (&quot;Loading IREOD ...&quot;);</span>

<span class="nc" id="L1807">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1808">			(&quot;c:\\Lakshmi\\BondAnal\\Config.xml&quot;);</span>

		try {
<span class="nc" id="L1811">			inIREOD = new java.io.BufferedReader (new java.io.FileReader</span>
				(&quot;C:\\Lakshmi\\RefDataAndMarks\\17Jan2012\\EODIRCurves.csv&quot;));
<span class="nc" id="L1813">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1814">			System.out.println (&quot;Cannot open IREOD file&quot;);</span>

<span class="nc" id="L1816">			return;</span>
<span class="nc" id="L1817">		}</span>

<span class="nc bnc" id="L1819" title="All 2 branches missed.">		while (null != (strIREODLine = inIREOD.readLine())) {</span>
<span class="nc" id="L1820">			int iNumRecord = 0;</span>
<span class="nc" id="L1821">			java.lang.String astrIREOD[] = new java.lang.String[58];</span>

<span class="nc" id="L1823">			java.util.StringTokenizer stIREOD = new java.util.StringTokenizer (strIREODLine, &quot;,&quot;);</span>

<span class="nc bnc" id="L1825" title="All 2 branches missed.">			while (stIREOD.hasMoreTokens())</span>
<span class="nc" id="L1826">				astrIREOD[iNumRecord++] = stIREOD.nextToken();</span>

<span class="nc" id="L1828">			java.lang.String strClearIREOD = ClearFromIREOD (astrIREOD);</span>

<span class="nc bnc" id="L1830" title="All 4 branches missed.">			if (null != strClearIREOD &amp;&amp; !strClearIREOD.isEmpty()) stmt.executeQuery (strClearIREOD);</span>

<span class="nc" id="L1832">			java.lang.String strInsertIREOD = InsertIntoIREOD (astrIREOD);</span>

<span class="nc bnc" id="L1834" title="All 4 branches missed.">			if (null != strInsertIREOD &amp;&amp; !strInsertIREOD.isEmpty()) stmt.executeQuery (strInsertIREOD);</span>

<span class="nc" id="L1836">			++iNumIREOD;</span>
<span class="nc" id="L1837">		}</span>

<span class="nc" id="L1839">		inIREOD.close();</span>

<span class="nc" id="L1841">		System.out.println (&quot;Loaded &quot; + iNumIREOD + &quot; into IR_EOD.&quot;);</span>
<span class="nc" id="L1842">	}</span>

	private static final void LoadBondSPN()
		throws java.lang.Exception
	{
<span class="nc" id="L1847">		int iNumSPN = 0;</span>
<span class="nc" id="L1848">		java.lang.String strSPNLine = &quot;&quot;;</span>
<span class="nc" id="L1849">		java.io.BufferedReader inSPN = null;</span>

<span class="nc" id="L1851">		System.out.println (&quot;Loading SPN ...&quot;);</span>

<span class="nc" id="L1853">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1854">			(&quot;c:\\Lakshmi\\java\\BondAnal\\Config.xml&quot;);</span>

		try {
<span class="nc" id="L1857">			inSPN = new java.io.BufferedReader (new java.io.FileReader</span>
				(&quot;c:\\Lakshmi\\BondAnal\\Data\\BondStaticRef\\Closes\\Bond.csv&quot;));
<span class="nc" id="L1859">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1860">			System.out.println (&quot;Cannot open SPN file&quot;);</span>

<span class="nc" id="L1862">			return;</span>
<span class="nc" id="L1863">		}</span>

<span class="nc bnc" id="L1865" title="All 2 branches missed.">		while (null != (strSPNLine = inSPN.readLine())) {</span>
<span class="nc" id="L1866">			java.lang.String[] astrSPN = strSPNLine.split (&quot;,&quot;);</span>

<span class="nc" id="L1868">			java.lang.String strISIN = astrSPN[0];</span>
<span class="nc" id="L1869">			java.lang.String strSPN = astrSPN[3];</span>

<span class="nc bnc" id="L1871" title="All 8 branches missed.">			if (null != strSPN &amp;&amp; !strSPN.isEmpty() &amp;&amp; null != strSPN &amp;&amp; !strSPN.isEmpty()) {</span>
<span class="nc" id="L1872">				stmt.executeQuery (&quot;update BondRef set IssuerSPN = '&quot; + strSPN + &quot;' where ISIN = '&quot; + strISIN</span>
					+ &quot;'&quot;);

<span class="nc" id="L1875">				++iNumSPN;</span>
			}
<span class="nc" id="L1877">		}</span>

<span class="nc" id="L1879">		System.out.println (&quot;Loaded &quot; + iNumSPN + &quot; SPNs into BondRef.&quot;);</span>

<span class="nc" id="L1881">		inSPN.close();</span>
<span class="nc" id="L1882">	}</span>

	private static final void LoadCREOD()
		throws java.lang.Exception
	{
<span class="nc" id="L1887">		int iNumCREOD = 0;</span>
<span class="nc" id="L1888">		java.lang.String strCREODLine = &quot;&quot;;</span>
<span class="nc" id="L1889">		java.io.BufferedReader inCREOD = null;</span>

<span class="nc" id="L1891">		System.out.println (&quot;Loading CREOD ...&quot;);</span>

<span class="nc" id="L1893">		java.sql.Statement stmt = org.drip.param.config.ConfigLoader.OracleInit</span>
<span class="nc" id="L1894">			(&quot;c:\\Lakshmi\\BondAnal\\Config.xml&quot;);</span>

		try {
<span class="nc" id="L1897">			inCREOD = new java.io.BufferedReader (new java.io.FileReader</span>
				(&quot;c:\\Lakshmi\\BondAnal\\Data\\BondStaticRef\\Closes\\EODCR_2Q_2011.csv&quot;));
<span class="nc" id="L1899">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L1900">			System.out.println (&quot;Cannot open CREOD file&quot;);</span>

<span class="nc" id="L1902">			return;</span>
<span class="nc" id="L1903">		}</span>

<span class="nc bnc" id="L1905" title="All 2 branches missed.">		while (null != (strCREODLine = inCREOD.readLine())) {</span>
<span class="nc" id="L1906">			java.lang.String[] astrCREOD = strCREODLine.split (&quot;,&quot;);</span>

<span class="nc" id="L1908">			java.lang.String strClearCREOD = ClearFromCREOD (astrCREOD);</span>

<span class="nc bnc" id="L1910" title="All 4 branches missed.">			if (null != strClearCREOD &amp;&amp; !strClearCREOD.isEmpty()) stmt.executeQuery (strClearCREOD);</span>

<span class="nc" id="L1912">			java.lang.String strInsertCREOD = InsertIntoCREOD (astrCREOD);</span>

<span class="nc bnc" id="L1914" title="All 4 branches missed.">			if (null != strInsertCREOD &amp;&amp; !strInsertCREOD.isEmpty()) {</span>
<span class="nc" id="L1915">				System.out.println (strInsertCREOD);</span>

<span class="nc" id="L1917">				stmt.executeQuery (strInsertCREOD);</span>
			}

<span class="nc" id="L1920">			++iNumCREOD;</span>
<span class="nc" id="L1921">		}</span>

<span class="nc" id="L1923">		System.out.println (&quot;Loaded &quot; + iNumCREOD + &quot; into CREOD.&quot;);</span>

<span class="nc" id="L1925">		inCREOD.close();</span>
<span class="nc" id="L1926">	}</span>

	public static void main (
		final java.lang.String[] astrArgs)
		throws java.lang.Exception
	{
<span class="nc bnc" id="L1932" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-loadbondref2&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1933">			LoadBondRef2();</span>

<span class="nc" id="L1935">			return;</span>
		}

<span class="nc bnc" id="L1938" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-loadbondref_fodata&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1939">			LoadBondRef_FODATA();</span>

<span class="nc" id="L1941">			return;</span>
		}

<span class="nc bnc" id="L1944" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-bondmarks&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1945">			LoadBondMarks();</span>

<span class="nc" id="L1947">			return;</span>
		}

<span class="nc bnc" id="L1950" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-holcals&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1951">			LoadHolCals();</span>

<span class="nc" id="L1953">			return;</span>
		}

<span class="nc bnc" id="L1956" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-acchols&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1957">			AccumulateHolidays();</span>

<span class="nc" id="L1959">			return;</span>
		}

<span class="nc bnc" id="L1962" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-eos&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1963">			LoadEOS();</span>

<span class="nc" id="L1965">			return;</span>
		}

<span class="nc bnc" id="L1968" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-amortsched&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1969">			LoadAmortizationSchedule();</span>

<span class="nc" id="L1971">			return;</span>
		}

<span class="nc bnc" id="L1974" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-ireod&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1975">			LoadIREOD();</span>

<span class="nc" id="L1977">			return;</span>
		}

<span class="nc bnc" id="L1980" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-creod&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1981">			LoadCREOD();</span>

<span class="nc" id="L1983">			return;</span>
		}

<span class="nc bnc" id="L1986" title="All 4 branches missed.">		if (0 &lt; astrArgs.length &amp;&amp; &quot;-spn&quot;.equalsIgnoreCase (astrArgs[0])) {</span>
<span class="nc" id="L1987">			LoadBondSPN();</span>

<span class="nc" id="L1989">			return;</span>
		}

<span class="nc" id="L1992">		LoadBondRef();</span>

<span class="nc" id="L1994">		LoadEOS();</span>

<span class="nc" id="L1996">		LoadBondSPN();</span>
<span class="nc" id="L1997">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>