<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MultipleRecursiveGeneratorLEcuyer.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">DROP</a> &gt; <a href="index.source.html" class="el_package">org.drip.measure.crng</a> &gt; <span class="el_source">MultipleRecursiveGeneratorLEcuyer.java</span></div><h1>MultipleRecursiveGeneratorLEcuyer.java</h1><pre class="source lang-java linenums">
package org.drip.measure.crng;

/*
 * -*- mode: java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
 */

/*!
 * Copyright (C) 2018 Lakshmi Krishnamurthy
 * Copyright (C) 2017 Lakshmi Krishnamurthy
 * 
 *  This file is part of DRIP, a free-software/open-source library for buy/side financial/trading model
 *  	libraries targeting analysts and developers
 *  	https://lakshmidrip.github.io/DRIP/
 *  
 *  DRIP is composed of four main libraries:
 *  
 *  - DRIP Fixed Income - https://lakshmidrip.github.io/DRIP-Fixed-Income/
 *  - DRIP Asset Allocation - https://lakshmidrip.github.io/DRIP-Asset-Allocation/
 *  - DRIP Numerical Optimizer - https://lakshmidrip.github.io/DRIP-Numerical-Optimizer/
 *  - DRIP Statistical Learning - https://lakshmidrip.github.io/DRIP-Statistical-Learning/
 * 
 *  - DRIP Fixed Income: Library for Instrument/Trading Conventions, Treasury Futures/Options,
 *  	Funding/Forward/Overnight Curves, Multi-Curve Construction/Valuation, Collateral Valuation and XVA
 *  	Metric Generation, Calibration and Hedge Attributions, Statistical Curve Construction, Bond RV
 *  	Metrics, Stochastic Evolution and Option Pricing, Interest Rate Dynamics and Option Pricing, LMM
 *  	Extensions/Calibrations/Greeks, Algorithmic Differentiation, and Asset Backed Models and Analytics.
 * 
 *  - DRIP Asset Allocation: Library for model libraries for MPT framework, Black Litterman Strategy
 *  	Incorporator, Holdings Constraint, and Transaction Costs.
 * 
 *  - DRIP Numerical Optimizer: Library for Numerical Optimization and Spline Functionality.
 * 
 *  - DRIP Statistical Learning: Library for Statistical Evaluation and Machine Learning.
 * 
 *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 *   	you may not use this file except in compliance with the License.
 *   
 *  You may obtain a copy of the License at
 *  	http://www.apache.org/licenses/LICENSE-2.0
 *  
 *  Unless required by applicable law or agreed to in writing, software
 *  	distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 *  	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  
 *  See the License for the specific language governing permissions and
 *  	limitations under the License.
 */

/**
 * MultipleRecursiveGeneratorLEcuyer - L'Ecuyer's Multiple Recursive Generator - combines Multiple Recursive
 *  Sequences to produce a Large State Space with good Randomness Properties. MRG32k3a is a special Type of
 *  MultipleRecursiveGeneratorLEcuyer.
 *
 * @author Lakshmi Krishnamurthy
 */

public class MultipleRecursiveGeneratorLEcuyer implements org.drip.measure.crng.RecursiveGenerator {
<span class="fc" id="L59">	private long _lM1 = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L60">	private long _lM2 = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L61">	private long _lA12 = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L62">	private long _lA13 = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L63">	private long _lA21 = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L64">	private long _lA23 = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L65">	private long _lY1Prev = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L66">	private long _lY2Prev = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L67">	private long _lY1PrevPrev = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L68">	private long _lY2PrevPrev = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L69">	private long _lY1PrevPrevPrev = java.lang.Long.MIN_VALUE;</span>
<span class="fc" id="L70">	private long _lY2PrevPrevPrev = java.lang.Long.MIN_VALUE;</span>

	/**
	 * Generate the MRG32k3a Variant of the L'Ecuyer's Multiple Recursive Generator
	 * 
	 * @return The MRG32k3a Variant of the L'Ecuyer's Multiple Recursive Generator
	 */

	public static final MultipleRecursiveGeneratorLEcuyer MRG32k3a()
	{
<span class="fc" id="L80">		long l2Power32 = 1;</span>

<span class="fc bfc" id="L82" title="All 2 branches covered.">		for (int i = 0; i &lt; 32; ++i)</span>
<span class="fc" id="L83">			l2Power32 *= 2;</span>

		try {
<span class="fc" id="L86">			return new MultipleRecursiveGeneratorLEcuyer (</span>
<span class="fc" id="L87">				System.nanoTime(),</span>
<span class="fc" id="L88">				System.nanoTime(),</span>
<span class="fc" id="L89">				System.nanoTime(),</span>
<span class="fc" id="L90">				System.nanoTime(),</span>
<span class="fc" id="L91">				System.nanoTime(),</span>
<span class="fc" id="L92">				System.nanoTime(),</span>
				1403580,
				-810728,
				 527612,
				-1370589,
				l2Power32 - 209,
				l2Power32 - 22853
			);
<span class="nc" id="L100">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L101">			e.printStackTrace();</span>
		}

<span class="nc" id="L104">		return null;</span>
	}

	/**
	 * MultipleRecursiveGeneratorLEcuyer Constructor
	 * 
	 * @param lY1Prev Y1 Previous
	 * @param lY1PrevPrev Y1 Previous Previous
	 * @param lY1PrevPrevPrev Y1 Previous Previous Previous
	 * @param lY2Prev Y2 Previous
	 * @param lY2PrevPrev Y2 Previous Previous
	 * @param lY2PrevPrevPrev Y2 Previous Previous Previous
	 * @param lA12 A12
	 * @param lA13 A13
	 * @param lA21 A21
	 * @param lA23 A23
	 * @param lM1 M1
	 * @param lM2 M2
	 * 
	 * @throws java.lang.Exception Thrown if the Inputs are Invalid
	 */

	public MultipleRecursiveGeneratorLEcuyer (
		final long lY1Prev,
		final long lY1PrevPrev,
		final long lY1PrevPrevPrev,
		final long lY2Prev,
		final long lY2PrevPrev,
		final long lY2PrevPrevPrev,
		final long lA12,
		final long lA13,
		final long lA21,
		final long lA23,
		final long lM1,
		final long lM2)
		throws java.lang.Exception
<span class="fc" id="L140">	{</span>
<span class="pc bpc" id="L141" title="1 of 2 branches missed.">		if (!org.drip.quant.common.NumberUtil.IsValid (_lY1Prev = lY1Prev) ||</span>
<span class="pc bpc" id="L142" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lY1PrevPrev = lY1PrevPrev) ||</span>
<span class="pc bpc" id="L143" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lY1PrevPrevPrev = lY1PrevPrevPrev) ||</span>
<span class="pc bpc" id="L144" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lY2Prev = lY2Prev) ||</span>
<span class="pc bpc" id="L145" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lY2PrevPrev = lY2PrevPrev) ||</span>
<span class="pc bpc" id="L146" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lY2PrevPrevPrev = lY2PrevPrevPrev) ||</span>
<span class="pc bpc" id="L147" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lA12 = lA12) ||</span>
<span class="pc bpc" id="L148" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lA13 = lA13) ||</span>
<span class="pc bpc" id="L149" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lA21 = lA21) ||</span>
<span class="pc bpc" id="L150" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lA23 = lA23) ||</span>
<span class="pc bpc" id="L151" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lM1 = lM1) ||</span>
<span class="pc bpc" id="L152" title="1 of 2 branches missed.">			!org.drip.quant.common.NumberUtil.IsValid (_lM2 = lM2))</span>
<span class="nc" id="L153">			throw new java.lang.Exception</span>
				(&quot;MultipleRecursiveGeneratorLEcuyer Constructor =&gt; Invalid Inputs&quot;);
<span class="fc" id="L155">	}</span>

	/**
	 * Retrieve M1
	 * 
	 * @return M1
	 */

	public long m1()
	{
<span class="nc" id="L165">		return _lM1;</span>
	}

	/**
	 * Retrieve M2
	 * 
	 * @return M2
	 */

	public long m2()
	{
<span class="nc" id="L176">		return _lM2;</span>
	}

	/**
	 * Retrieve A12
	 * 
	 * @return A12
	 */

	public long a12()
	{
<span class="nc" id="L187">		return _lA12;</span>
	}

	/**
	 * Retrieve A13
	 * 
	 * @return A13
	 */

	public long a13()
	{
<span class="nc" id="L198">		return _lA13;</span>
	}

	/**
	 * Retrieve A21
	 * 
	 * @return A21
	 */

	public long a21()
	{
<span class="nc" id="L209">		return _lA21;</span>
	}

	/**
	 * Retrieve A23
	 * 
	 * @return A23
	 */

	public long a23()
	{
<span class="nc" id="L220">		return _lA23;</span>
	}

	/**
	 * Retrieve Y1 Previous
	 * 
	 * @return Y1 Previous
	 */

	public long y1Prev()
	{
<span class="nc" id="L231">		return _lY1Prev;</span>
	}

	/**
	 * Retrieve Y1 Previous Previous
	 * 
	 * @return Y1 Previous Previous
	 */

	public long y1PrevPrev()
	{
<span class="nc" id="L242">		return _lY1PrevPrev;</span>
	}

	/**
	 * Retrieve Y1 Previous Previous Previous
	 * 
	 * @return Y1 Previous Previous Previous
	 */

	public long y1PrevPrevPrev()
	{
<span class="nc" id="L253">		return _lY1PrevPrevPrev;</span>
	}

	/**
	 * Retrieve Y2 Previous
	 * 
	 * @return Y2 Previous
	 */

	public long y2Prev()
	{
<span class="nc" id="L264">		return _lY2Prev;</span>
	}

	/**
	 * Retrieve Y2 Previous Previous
	 * 
	 * @return Y2 Previous Previous
	 */

	public long y2PrevPrev()
	{
<span class="nc" id="L275">		return _lY2PrevPrev;</span>
	}

	/**
	 * Retrieve Y2 Previous Previous Previous
	 * 
	 * @return Y2 Previous Previous Previous
	 */

	public long y2PrevPrevPrev()
	{
<span class="nc" id="L286">		return _lY2PrevPrevPrev;</span>
	}

	@Override public long next()
	{
<span class="fc" id="L291">		long lY1 = (_lA12 * _lY1PrevPrev + _lA13 * _lY1PrevPrevPrev) % _lM1;</span>
<span class="fc" id="L292">		long lY2 = (_lA21 * _lY2Prev     + _lA23 * _lY2PrevPrevPrev) % _lM2;</span>
<span class="fc" id="L293">		_lY2PrevPrevPrev = _lY2PrevPrev;</span>
<span class="fc" id="L294">		_lY1PrevPrevPrev = _lY1PrevPrev;</span>
<span class="fc" id="L295">		_lY2PrevPrev = _lY2Prev;</span>
<span class="fc" id="L296">		_lY1PrevPrev = _lY1Prev;</span>
<span class="fc" id="L297">		_lY2Prev = lY2;</span>
<span class="fc" id="L298">		_lY1Prev = lY1;</span>
<span class="fc" id="L299">		return lY1 + lY2;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>