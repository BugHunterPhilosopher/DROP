<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Test.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">DROP</a> &gt; <a href="index.source.html" class="el_package">org.drip.sample.json</a> &gt; <span class="el_source">Test.java</span></div><h1>Test.java</h1><pre class="source lang-java linenums">
package org.drip.sample.json;

import java.io.*;
import java.util.*;

import org.drip.json.parser.*;
import org.drip.json.simple.*;
import org.drip.service.env.EnvManager;

/*
 * -*- mode: java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
 */

/*!
 * Copyright (C) 2019 Lakshmi Krishnamurthy
 * Copyright (C) 2018 Lakshmi Krishnamurthy
 * Copyright (C) 2017 Lakshmi Krishnamurthy
 * Copyright (C) 2016 Lakshmi Krishnamurthy
 * Copyright (C) 2015 Lakshmi Krishnamurthy
 * 
 *  This file is part of DROP, an open-source library targeting risk, transaction costs, exposure, margin
 *  	calculations, valuation adjustment, and portfolio construction within and across fixed income,
 *  	credit, commodity, equity, FX, and structured products.
 *  
 *  	https://lakshmidrip.github.io/DROP/
 *  
 *  DROP is composed of three modules:
 *  
 *  - DROP Analytics Core - https://lakshmidrip.github.io/DROP-Analytics-Core/
 *  - DROP Portfolio Core - https://lakshmidrip.github.io/DROP-Portfolio-Core/
 *  - DROP Numerical Core - https://lakshmidrip.github.io/DROP-Numerical-Core/
 * 
 * 	DROP Analytics Core implements libraries for the following:
 * 	- Fixed Income Analytics
 * 	- Asset Backed Analytics
 * 	- XVA Analytics
 * 	- Exposure and Margin Analytics
 * 
 * 	DROP Portfolio Core implements libraries for the following:
 * 	- Asset Allocation Analytics
 * 	- Transaction Cost Analytics
 * 
 * 	DROP Numerical Core implements libraries for the following:
 * 	- Statistical Learning
 * 	- Numerical Optimizer
 * 	- Spline Builder
 * 	- Algorithm Support
 * 
 * 	Documentation for DROP is Spread Over:
 * 
 * 	- Main                     =&gt; https://lakshmidrip.github.io/DROP/
 * 	- Wiki                     =&gt; https://github.com/lakshmiDRIP/DROP/wiki
 * 	- GitHub                   =&gt; https://github.com/lakshmiDRIP/DROP
 * 	- Repo Layout Taxonomy     =&gt; https://github.com/lakshmiDRIP/DROP/blob/master/Taxonomy.md
 * 	- Javadoc                  =&gt; https://lakshmidrip.github.io/DROP/Javadoc/index.html
 * 	- Technical Specifications =&gt; https://github.com/lakshmiDRIP/DROP/tree/master/Docs/Internal
 * 	- Release Versions         =&gt; https://lakshmidrip.github.io/DROP/version.html
 * 	- Community Credits        =&gt; https://lakshmidrip.github.io/DROP/credits.html
 * 	- Issues Catalog           =&gt; https://github.com/lakshmiDRIP/DROP/issues
 * 	- JUnit                    =&gt; https://lakshmidrip.github.io/DROP/junit/index.html
 * 	- Jacoco                   =&gt; https://lakshmidrip.github.io/DROP/jacoco/index.html
 * 
 *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 *   	you may not use this file except in compliance with the License.
 *   
 *  You may obtain a copy of the License at
 *  	http://www.apache.org/licenses/LICENSE-2.0
 *  
 *  Unless required by applicable law or agreed to in writing, software
 *  	distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 *  	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  
 *  See the License for the specific language governing permissions and
 *  	limitations under the License.
 */

/**
 * &lt;i&gt;Test&lt;/i&gt; is an Adaptation of the Test Class from the RFC4627 compliant JSON Simple
 * (https://code.google.com/p/json-simple/).
 *  
 * &lt;br&gt;&lt;br&gt;
 *  &lt;ul&gt;
 *		&lt;li&gt;&lt;b&gt;Module &lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/NumericalCore.md&quot;&gt;Numerical Core Module&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Library&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/AlgorithmSupportLibrary.md&quot;&gt;Algorithm Support Library&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Project&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/src/main/java/org/drip/sample/README.md&quot;&gt;Sample&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Package&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/src/main/java/org/drip/sample/json/README.md&quot;&gt;JSON Serialization and De-serialization&lt;/a&gt;&lt;/li&gt;
 *  &lt;/ul&gt;
 * &lt;br&gt;&lt;br&gt;
 *
 * @author Fang Yidong
 * @author Lakshmi Krishnamurthy
 */

<span class="nc" id="L95">public class Test {</span>

    @SuppressWarnings (&quot;rawtypes&quot;) public static final void testDecode() throws Exception{
<span class="fc" id="L98">            System.out.println(&quot;=======decode=======&quot;);</span>
            
<span class="fc" id="L100">            String s=&quot;[0,{\&quot;1\&quot;:{\&quot;2\&quot;:{\&quot;3\&quot;:{\&quot;4\&quot;:[5,{\&quot;6\&quot;:7}]}}}}]&quot;;</span>
<span class="fc" id="L101">            Object obj=JSONValue.parse(s);</span>
<span class="fc" id="L102">            JSONArray array=(JSONArray)obj;</span>
<span class="fc" id="L103">            System.out.println(&quot;======the 2nd element of array======&quot;);</span>
<span class="fc" id="L104">            System.out.println(array.get(1));</span>
<span class="fc" id="L105">            System.out.println();</span>
<span class="fc" id="L106">            System.out.println (&quot;{\&quot;1\&quot;:{\&quot;2\&quot;:{\&quot;3\&quot;:{\&quot;4\&quot;:[5,{\&quot;6\&quot;:7}]}}}}&quot;.equalsIgnoreCase(array.get(1).toString()));</span>
            
<span class="fc" id="L108">            JSONObject obj2=(JSONObject)array.get(1);</span>
<span class="fc" id="L109">            System.out.println(&quot;======field \&quot;1\&quot;==========&quot;);</span>
<span class="fc" id="L110">            System.out.println(obj2.get(&quot;1&quot;));      </span>
<span class="fc" id="L111">            System.out.println (&quot;{\&quot;2\&quot;:{\&quot;3\&quot;:{\&quot;4\&quot;:[5,{\&quot;6\&quot;:7}]}}}&quot;.equalsIgnoreCase(obj2.get(&quot;1&quot;).toString()));</span>
            
<span class="fc" id="L113">            s=&quot;{}&quot;;</span>
<span class="fc" id="L114">            obj=JSONValue.parse(s);</span>
<span class="fc" id="L115">            System.out.println (&quot;{}&quot;.equalsIgnoreCase(obj.toString()));</span>
            
<span class="fc" id="L117">            s=&quot;[5,]&quot;;</span>
<span class="fc" id="L118">            obj=JSONValue.parse(s);</span>
<span class="fc" id="L119">            System.out.println (&quot;[5]&quot;.equalsIgnoreCase(obj.toString()));</span>
            
<span class="fc" id="L121">            s=&quot;[5,,2]&quot;;</span>
<span class="fc" id="L122">            obj=JSONValue.parse(s);</span>
<span class="fc" id="L123">            System.out.println (&quot;[5,2]&quot;.equalsIgnoreCase(obj.toString()));</span>
            
<span class="fc" id="L125">            s=&quot;[\&quot;hello\\bworld\\\&quot;abc\\tdef\\\\ghi\\rjkl\\n123\\u4e2d\&quot;]&quot;;</span>
<span class="fc" id="L126">            obj=JSONValue.parse(s);</span>
<span class="fc" id="L127">            System.out.println (&quot;hello\bworld\&quot;abc\tdef\\ghi\rjkl\n123ä¸­&quot;.equalsIgnoreCase(((List)obj).get(0).toString()));</span>
            
<span class="fc" id="L129">            JSONParser parser = new JSONParser();</span>
<span class="fc" id="L130">            s=&quot;{\&quot;name\&quot;:&quot;;</span>
            try{
<span class="nc" id="L132">                    obj = parser.parse(s);</span>
            }
<span class="fc" id="L134">            catch(ParseException pe){</span>
<span class="pc bpc" id="L135" title="1 of 2 branches missed.">            	System.out.println (ParseException.ERROR_UNEXPECTED_TOKEN == pe.getErrorType());</span>
<span class="pc bpc" id="L136" title="1 of 2 branches missed.">            	System.out.println (8 == pe.getPosition());</span>
<span class="nc" id="L137">            }</span>
            
<span class="fc" id="L139">            s=&quot;{\&quot;name\&quot;:}&quot;;</span>
            try{
<span class="nc" id="L141">                    obj = parser.parse(s);</span>
            }
<span class="fc" id="L143">            catch(ParseException pe){</span>
<span class="pc bpc" id="L144" title="1 of 2 branches missed.">                    System.out.println (ParseException.ERROR_UNEXPECTED_TOKEN == pe.getErrorType());</span>
<span class="pc bpc" id="L145" title="1 of 2 branches missed.">                    System.out.println (8 == pe.getPosition());</span>
<span class="nc" id="L146">            }</span>
            
            
<span class="fc" id="L149">            s=&quot;{\&quot;name&quot;;</span>
            try{
<span class="nc" id="L151">                    obj = parser.parse(s);</span>
            }
<span class="fc" id="L153">            catch(ParseException pe){</span>
<span class="pc bpc" id="L154" title="1 of 2 branches missed.">                    System.out.println (ParseException.ERROR_UNEXPECTED_TOKEN == pe.getErrorType());</span>
<span class="pc bpc" id="L155" title="1 of 2 branches missed.">                    System.out.println (6 == pe.getPosition());</span>
<span class="nc" id="L156">            }</span>
            
            
<span class="fc" id="L159">            s = &quot;[[null, 123.45, \&quot;a\\\tb c\&quot;}, true]&quot;;</span>
            try{
<span class="nc" id="L161">                    parser.parse(s);</span>
            }
<span class="fc" id="L163">            catch(ParseException pe){</span>
<span class="pc bpc" id="L164" title="1 of 2 branches missed.">                    System.out.println (24 == pe.getPosition());</span>
<span class="fc" id="L165">                    System.out.println(&quot;Error at character position: &quot; + pe.getPosition());</span>
<span class="pc bpc" id="L166" title="3 of 4 branches missed.">                    switch(pe.getErrorType()){</span>
                    case ParseException.ERROR_UNEXPECTED_TOKEN:
<span class="fc" id="L168">                            System.out.println(&quot;Unexpected token: &quot; + pe.getUnexpectedObject());</span>
<span class="fc" id="L169">                            break;</span>
                    case ParseException.ERROR_UNEXPECTED_CHAR:
<span class="nc" id="L171">                            System.out.println(&quot;Unexpected character: &quot; + pe.getUnexpectedObject());</span>
<span class="nc" id="L172">                            break;</span>
                    case ParseException.ERROR_UNEXPECTED_EXCEPTION:
<span class="nc" id="L174">                            ((Exception)pe.getUnexpectedObject()).printStackTrace();</span>
                            break;
                    }
<span class="nc" id="L177">            }</span>
            
<span class="fc" id="L179">            s = &quot;{\&quot;first\&quot;: 123, \&quot;second\&quot;: [4, 5, 6], \&quot;third\&quot;: 789}&quot;;</span>
<span class="fc" id="L180">            ContainerFactory containerFactory = new ContainerFactory(){</span>
                    public List creatArrayContainer() {
<span class="fc" id="L182">                            return new LinkedList();</span>
                    }

                    public Map createObjectContainer() {
<span class="fc" id="L186">                            return new LinkedHashMap();</span>
                    }
                    
            };
            
            try{
<span class="fc" id="L192">                    Map json = (Map)parser.parse(s, containerFactory);</span>
<span class="fc" id="L193">                    Iterator iter = json.entrySet().iterator();</span>
<span class="fc" id="L194">                    System.out.println(&quot;==iterate result==&quot;);</span>
<span class="fc bfc" id="L195" title="All 2 branches covered.">                    while(iter.hasNext()){</span>
<span class="fc" id="L196">                            Map.Entry entry = (Map.Entry)iter.next();</span>
<span class="fc" id="L197">                            System.out.println(entry.getKey() + &quot;=&gt;&quot; + entry.getValue());</span>
<span class="fc" id="L198">                    }</span>
                    
<span class="fc" id="L200">                    System.out.println(&quot;==toJSONString()==&quot;);                       </span>
<span class="fc" id="L201">                    System.out.println(JSONValue.toJSONString(json));</span>
<span class="fc" id="L202">                    System.out.println (&quot;{\&quot;first\&quot;:123,\&quot;second\&quot;:[4,5,6],\&quot;third\&quot;:789}&quot;.equalsIgnoreCase(JSONValue.toJSONString(json)));</span>
            }
<span class="nc" id="L204">            catch(ParseException pe){</span>
<span class="nc" id="L205">                    pe.printStackTrace();</span>
<span class="fc" id="L206">            }</span>
            
<span class="fc" id="L208">            s = &quot;{\&quot;first\&quot;: 123, \&quot;second\&quot;: [{\&quot;s1\&quot;:{\&quot;s11\&quot;:\&quot;v11\&quot;}}, 4, 5, 6], \&quot;third\&quot;: 789}&quot;;</span>
<span class="fc" id="L209">            ContentHandler myHandler = new ContentHandler() {</span>

                    public boolean endArray() throws ParseException {
<span class="fc" id="L212">                            System.out.println(&quot;endArray()&quot;);</span>
<span class="fc" id="L213">                            return true;</span>
                    }

                    public void endJSON() throws ParseException {
<span class="fc" id="L217">                            System.out.println(&quot;endJSON()&quot;);</span>
<span class="fc" id="L218">                    }</span>

                    public boolean endObject() throws ParseException {
<span class="fc" id="L221">                            System.out.println(&quot;endObject()&quot;);</span>
<span class="fc" id="L222">                            return true;</span>
                    }

                    public boolean endObjectEntry() throws ParseException {
<span class="fc" id="L226">                            System.out.println(&quot;endObjectEntry()&quot;);</span>
<span class="fc" id="L227">                            return true;</span>
                    }

                    public boolean primitive(Object value) throws ParseException {
<span class="fc" id="L231">                            System.out.println(&quot;primitive(): &quot; + value);</span>
<span class="fc" id="L232">                            return true;</span>
                    }

                    public boolean startArray() throws ParseException {
<span class="fc" id="L236">                            System.out.println(&quot;startArray()&quot;);</span>
<span class="fc" id="L237">                            return true;</span>
                    }

                    public void startJSON() throws ParseException {
<span class="fc" id="L241">                            System.out.println(&quot;startJSON()&quot;);</span>
<span class="fc" id="L242">                    }</span>

                    public boolean startObject() throws ParseException {
<span class="fc" id="L245">                            System.out.println(&quot;startObject()&quot;);</span>
<span class="fc" id="L246">                            return true;</span>
                    }

                    public boolean startObjectEntry(String key) throws ParseException {
<span class="fc" id="L250">                            System.out.println(&quot;startObjectEntry(), key:&quot; + key);</span>
<span class="fc" id="L251">                            return true;</span>
                    }
                    
            };
            try{
<span class="fc" id="L256">                    parser.parse(s, myHandler);</span>
            }
<span class="nc" id="L258">            catch(ParseException pe){</span>
<span class="nc" id="L259">                    pe.printStackTrace();</span>
<span class="fc" id="L260">            }</span>
    
<span class="fc" id="L262">    class KeyFinder implements ContentHandler{</span>
        private Object value;
<span class="fc" id="L264">        private boolean found = false;</span>
<span class="fc" id="L265">        private boolean end = false;</span>
        private String key;
        private String matchKey;
        
        public void setMatchKey(String matchKey){
<span class="fc" id="L270">            this.matchKey = matchKey;</span>
<span class="fc" id="L271">        }</span>
        
        public Object getValue(){
<span class="fc" id="L274">            return value;</span>
        }
        
        public boolean isEnd(){
<span class="fc" id="L278">            return end;</span>
        }
        
        public void setFound(boolean found){
<span class="fc" id="L282">            this.found = found;</span>
<span class="fc" id="L283">        }</span>
        
        public boolean isFound(){
<span class="fc" id="L286">            return found;</span>
        }
        
        public void startJSON() throws ParseException, IOException {
<span class="fc" id="L290">            found = false;</span>
<span class="fc" id="L291">            end = false;</span>
<span class="fc" id="L292">        }</span>

        public void endJSON() throws ParseException, IOException {
<span class="fc" id="L295">            end = true;</span>
<span class="fc" id="L296">        }</span>

        public boolean primitive(Object value) throws ParseException, IOException {
<span class="fc bfc" id="L299" title="All 2 branches covered.">            if(key != null){</span>
<span class="fc bfc" id="L300" title="All 2 branches covered.">                if(key.equals(matchKey)){</span>
<span class="fc" id="L301">                    found = true;</span>
<span class="fc" id="L302">                    this.value = value;</span>
<span class="fc" id="L303">                    key = null;</span>
<span class="fc" id="L304">                    return false;</span>
                }
            }
<span class="fc" id="L307">            return true;</span>
        }

        public boolean startArray() throws ParseException, IOException {
<span class="fc" id="L311">            return true;</span>
        }

        
        public boolean startObject() throws ParseException, IOException {
<span class="fc" id="L316">            return true;</span>
        }

        public boolean startObjectEntry(String key) throws ParseException, IOException {
<span class="fc" id="L320">            this.key = key;</span>
<span class="fc" id="L321">            return true;</span>
        }
        
        public boolean endArray() throws ParseException, IOException {
<span class="fc" id="L325">            return false;</span>
        }

        public boolean endObject() throws ParseException, IOException {
<span class="fc" id="L329">            return true;</span>
        }

        public boolean endObjectEntry() throws ParseException, IOException {
<span class="fc" id="L333">            return true;</span>
        }
    };
    
<span class="fc" id="L337">    s = &quot;{\&quot;first\&quot;: 123, \&quot;second\&quot;: [{\&quot;k1\&quot;:{\&quot;id\&quot;:\&quot;id1\&quot;}}, 4, 5, 6, {\&quot;id\&quot;: 123}], \&quot;third\&quot;: 789, \&quot;id\&quot;: null}&quot;;</span>
<span class="fc" id="L338">    parser.reset();</span>
<span class="fc" id="L339">    KeyFinder keyFinder = new KeyFinder();</span>
<span class="fc" id="L340">    keyFinder.setMatchKey(&quot;id&quot;);</span>
<span class="fc" id="L341">    int i = 0;</span>
    try{
<span class="fc bfc" id="L343" title="All 2 branches covered.">        while(!keyFinder.isEnd()){</span>
<span class="fc" id="L344">            parser.parse(s, keyFinder, true);</span>
<span class="fc bfc" id="L345" title="All 2 branches covered.">            if(keyFinder.isFound()){</span>
<span class="fc" id="L346">                i++;</span>
<span class="fc" id="L347">                keyFinder.setFound(false);</span>
<span class="fc" id="L348">                System.out.println(&quot;found id:&quot;);</span>
<span class="fc" id="L349">                System.out.println(keyFinder.getValue());</span>
<span class="fc bfc" id="L350" title="All 2 branches covered.">                if(i == 1)</span>
<span class="fc" id="L351">                    System.out.println (&quot;id1&quot;.equalsIgnoreCase((String)keyFinder.getValue()));</span>
<span class="fc bfc" id="L352" title="All 2 branches covered.">                if(i == 2){</span>
<span class="fc" id="L353">                	System.out.println (keyFinder.getValue() instanceof Number);</span>
<span class="fc" id="L354">                    System.out.println (&quot;123&quot;.equalsIgnoreCase(String.valueOf(keyFinder.getValue())));</span>
                }
<span class="fc bfc" id="L356" title="All 2 branches covered.">                if(i == 3)</span>
<span class="pc bpc" id="L357" title="1 of 2 branches missed.">                	System.out.println (null == keyFinder.getValue());</span>
            }
        }
    }
<span class="nc" id="L361">    catch(ParseException pe){</span>
<span class="nc" id="L362">        pe.printStackTrace();</span>
<span class="fc" id="L363">    }</span>
<span class="fc" id="L364">    }</span>
    
    @SuppressWarnings ({&quot;rawtypes&quot;, &quot;unchecked&quot;}) public static final void testEncode() throws Exception{
<span class="fc" id="L367">            System.out.println(&quot;=======encode=======&quot;);</span>
            
<span class="fc" id="L369">            JSONArray array1=new JSONArray();</span>
<span class="fc" id="L370">            array1.add(&quot;abc\u0010a/&quot;);</span>
<span class="fc" id="L371">            array1.add(Integer.toString(123));</span>
<span class="fc" id="L372">            array1.add(Double.toString(222.123));</span>
<span class="fc" id="L373">            array1.add(Boolean.toString(true));</span>
<span class="fc" id="L374">            System.out.println(&quot;======array1==========&quot;);</span>
<span class="fc" id="L375">            System.out.println(array1);</span>
<span class="fc" id="L376">            System.out.println();</span>
<span class="fc" id="L377">            System.out.println (&quot;[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true]&quot;.equalsIgnoreCase(array1.toString()));</span>
            
<span class="fc" id="L379">            JSONObject obj1=new JSONObject();</span>
<span class="fc" id="L380">            obj1.put(&quot;name&quot;,&quot;fang&quot;);</span>
<span class="fc" id="L381">            obj1.put(&quot;age&quot;,Integer.toString(27));</span>
<span class="fc" id="L382">            obj1.put(&quot;is_developer&quot;, Boolean.toString(true));</span>
<span class="fc" id="L383">            obj1.put(&quot;weight&quot;, Double.toString(60.21));</span>
<span class="fc" id="L384">            obj1.put(&quot;array1&quot;,array1);</span>
<span class="fc" id="L385">            System.out.println(&quot;======obj1 with array1===========&quot;);</span>
<span class="fc" id="L386">            System.out.println(obj1);</span>
<span class="fc" id="L387">            System.out.println();</span>
<span class="fc" id="L388">            System.out.println (&quot;{\&quot;array1\&quot;:[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true],\&quot;weight\&quot;:60.21,\&quot;age\&quot;:27,\&quot;name\&quot;:\&quot;fang\&quot;,\&quot;is_developer\&quot;:true}&quot;.equalsIgnoreCase(obj1.toString()));</span>
            
<span class="fc" id="L390">            obj1.remove(&quot;array1&quot;);</span>
<span class="fc" id="L391">            array1.add(obj1);</span>
<span class="fc" id="L392">            System.out.println(&quot;======array1 with obj1========&quot;);</span>
<span class="fc" id="L393">            System.out.println(array1);</span>
<span class="fc" id="L394">            System.out.println();</span>
<span class="fc" id="L395">            System.out.println (&quot;[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true,{\&quot;weight\&quot;:60.21,\&quot;age\&quot;:27,\&quot;name\&quot;:\&quot;fang\&quot;,\&quot;is_developer\&quot;:true}]&quot;.equalsIgnoreCase(array1.toString()));</span>
    
<span class="fc" id="L397">            List list = new ArrayList();</span>
<span class="fc" id="L398">            list.add(&quot;abc\u0010a/&quot;);</span>
<span class="fc" id="L399">            list.add(Integer.toString (123));</span>
<span class="fc" id="L400">            list.add(Double.toString (222.123));</span>
<span class="fc" id="L401">            list.add(Boolean.toString (true));</span>
<span class="fc" id="L402">            list.add(null);</span>
<span class="fc" id="L403">            System.out.println(&quot;======list==========&quot;);</span>
<span class="fc" id="L404">            System.out.println(JSONArray.toJSONString(list));</span>
<span class="fc" id="L405">            System.out.println();</span>
<span class="fc" id="L406">            System.out.println (&quot;[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true,null]&quot;.equalsIgnoreCase(JSONArray.toJSONString(list)));</span>
            
<span class="fc" id="L408">            Map map = new HashMap();</span>
<span class="fc" id="L409">            map.put(&quot;name&quot;,&quot;fang&quot;);</span>
<span class="fc" id="L410">            map.put(&quot;age&quot;, Integer.toString (27));</span>
<span class="fc" id="L411">            map.put(&quot;is_developer&quot;, Boolean.toString (true));</span>
<span class="fc" id="L412">            map.put(&quot;weight&quot;, Double.toString (60.21));</span>
<span class="fc" id="L413">            map.put(&quot;array1&quot;,list);</span>
<span class="fc" id="L414">            System.out.println(&quot;======map with list===========&quot;);</span>
<span class="fc" id="L415">            System.out.println(map);</span>
<span class="fc" id="L416">            System.out.println();</span>
<span class="fc" id="L417">            System.out.println (&quot;{\&quot;array1\&quot;:[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true,null],\&quot;weight\&quot;:60.21,\&quot;age\&quot;:27,\&quot;name\&quot;:\&quot;fang\&quot;,\&quot;is_developer\&quot;:true}&quot;.equalsIgnoreCase(JSONObject.toJSONString(map)));               </span>
            
<span class="fc" id="L419">    Map m1 = new LinkedHashMap();</span>
<span class="fc" id="L420">    Map m2 = new HashMap();</span>
<span class="fc" id="L421">    List  l1 = new LinkedList();</span>

<span class="fc" id="L423">    m1.put(&quot;k11&quot;,&quot;v11&quot;);</span>
<span class="fc" id="L424">    m1.put(&quot;k12&quot;,&quot;v12&quot;);</span>
<span class="fc" id="L425">    m1.put(&quot;k13&quot;, &quot;v13&quot;);</span>
<span class="fc" id="L426">    m2.put(&quot;k21&quot;,&quot;v21&quot;);</span>
<span class="fc" id="L427">    m2.put(&quot;k22&quot;,&quot;v22&quot;);</span>
<span class="fc" id="L428">    m2.put(&quot;k23&quot;,&quot;v23&quot;);</span>
<span class="fc" id="L429">    l1.add(m1);</span>
<span class="fc" id="L430">    l1.add(m2);</span>
<span class="fc" id="L431">    String jsonString = JSONValue.toJSONString(l1);</span>
<span class="fc" id="L432">    System.out.println(jsonString);</span>
<span class="fc" id="L433">    System.out.println (&quot;[{\&quot;k11\&quot;:\&quot;v11\&quot;,\&quot;k12\&quot;:\&quot;v12\&quot;,\&quot;k13\&quot;:\&quot;v13\&quot;},{\&quot;k22\&quot;:\&quot;v22\&quot;,\&quot;k21\&quot;:\&quot;v21\&quot;,\&quot;k23\&quot;:\&quot;v23\&quot;}]&quot;.equalsIgnoreCase(jsonString));</span>

<span class="fc" id="L435">    StringWriter out = new StringWriter();</span>
<span class="fc" id="L436">    JSONValue.writeJSONString(l1, out);</span>
<span class="fc" id="L437">    jsonString = out.toString();</span>
<span class="fc" id="L438">    System.out.println(jsonString);</span>
<span class="fc" id="L439">    System.out.println (&quot;[{\&quot;k11\&quot;:\&quot;v11\&quot;,\&quot;k12\&quot;:\&quot;v12\&quot;,\&quot;k13\&quot;:\&quot;v13\&quot;},{\&quot;k22\&quot;:\&quot;v22\&quot;,\&quot;k21\&quot;:\&quot;v21\&quot;,\&quot;k23\&quot;:\&quot;v23\&quot;}]&quot;.equalsIgnoreCase(jsonString));</span>
    
<span class="fc" id="L441">    List l2 = new LinkedList();</span>
<span class="fc" id="L442">    Map m3 = new LinkedHashMap();</span>
<span class="fc" id="L443">    m3.put(&quot;k31&quot;, &quot;v3&quot;);</span>
<span class="fc" id="L444">    m3.put(&quot;k32&quot;, Double.toString (123.45));</span>
<span class="fc" id="L445">    m3.put(&quot;k33&quot;, Boolean.toString (false));</span>
<span class="fc" id="L446">    m3.put(&quot;k34&quot;, null);</span>
<span class="fc" id="L447">    l2.add(&quot;vvv&quot;);</span>
<span class="fc" id="L448">    l2.add(&quot;1.23456789123456789&quot;);</span>
<span class="fc" id="L449">    l2.add(Boolean.toString (true));</span>
<span class="fc" id="L450">    l2.add(null);</span>
<span class="fc" id="L451">    m3.put(&quot;k35&quot;, l2);</span>
<span class="fc" id="L452">    m1.put(&quot;k14&quot;, m3);</span>
<span class="fc" id="L453">    out = new StringWriter();</span>
<span class="fc" id="L454">    JSONValue.writeJSONString(l1, out);</span>
<span class="fc" id="L455">    jsonString = out.toString();</span>
<span class="fc" id="L456">    System.out.println(jsonString);</span>
<span class="fc" id="L457">    System.out.println (&quot;[{\&quot;k11\&quot;:\&quot;v11\&quot;,\&quot;k12\&quot;:\&quot;v12\&quot;,\&quot;k13\&quot;:\&quot;v13\&quot;,\&quot;k14\&quot;:{\&quot;k31\&quot;:\&quot;v3\&quot;,\&quot;k32\&quot;:123.45,\&quot;k33\&quot;:false,\&quot;k34\&quot;:null,\&quot;k35\&quot;:[\&quot;vvv\&quot;,\&quot;1.23456789123456789\&quot;,true,null]}},{\&quot;k22\&quot;:\&quot;v22\&quot;,\&quot;k21\&quot;:\&quot;v21\&quot;,\&quot;k23\&quot;:\&quot;v23\&quot;}]&quot;.equalsIgnoreCase(jsonString));</span>
<span class="fc" id="L458">}</span>

    public static final void main (
    	final String[] astrArgs)
    	throws Exception
    {
<span class="fc" id="L464">    	EnvManager.InitEnv (&quot;&quot;);</span>

<span class="fc" id="L466">    	testEncode();</span>

<span class="fc" id="L468">    	testDecode();</span>

<span class="fc" id="L470">    	EnvManager.TerminateEnv();</span>
<span class="fc" id="L471">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>