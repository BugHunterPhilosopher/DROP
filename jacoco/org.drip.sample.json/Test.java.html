<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Test.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">DROP</a> &gt; <a href="index.source.html" class="el_package">org.drip.sample.json</a> &gt; <span class="el_source">Test.java</span></div><h1>Test.java</h1><pre class="source lang-java linenums">
package org.drip.sample.json;

import java.io.*;
import java.util.*;

import org.drip.json.parser.*;
import org.drip.json.simple.*;

/*
 * -*- mode: java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
 */

/*!
 * Copyright (C) 2018 Lakshmi Krishnamurthy
 * Copyright (C) 2017 Lakshmi Krishnamurthy
 * Copyright (C) 2016 Lakshmi Krishnamurthy
 * Copyright (C) 2015 Lakshmi Krishnamurthy
 * 
 *  This file is part of DRIP, a free-software/open-source library for buy/side financial/trading model
 *  	libraries targeting analysts and developers
 *  	https://lakshmidrip.github.io/DRIP/
 *  
 *  DRIP is composed of four main libraries:
 *  
 *  - DRIP Fixed Income - https://lakshmidrip.github.io/DRIP-Fixed-Income/
 *  - DRIP Asset Allocation - https://lakshmidrip.github.io/DRIP-Asset-Allocation/
 *  - DRIP Numerical Optimizer - https://lakshmidrip.github.io/DRIP-Numerical-Optimizer/
 *  - DRIP Statistical Learning - https://lakshmidrip.github.io/DRIP-Statistical-Learning/
 * 
 *  - DRIP Fixed Income: Library for Instrument/Trading Conventions, Treasury Futures/Options,
 *  	Funding/Forward/Overnight Curves, Multi-Curve Construction/Valuation, Collateral Valuation and XVA
 *  	Metric Generation, Calibration and Hedge Attributions, Statistical Curve Construction, Bond RV
 *  	Metrics, Stochastic Evolution and Option Pricing, Interest Rate Dynamics and Option Pricing, LMM
 *  	Extensions/Calibrations/Greeks, Algorithmic Differentiation, and Asset Backed Models and Analytics.
 * 
 *  - DRIP Asset Allocation: Library for model libraries for MPT framework, Black Litterman Strategy
 *  	Incorporator, Holdings Constraint, and Transaction Costs.
 * 
 *  - DRIP Numerical Optimizer: Library for Numerical Optimization and Spline Functionality.
 * 
 *  - DRIP Statistical Learning: Library for Statistical Evaluation and Machine Learning.
 * 
 *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 *   	you may not use this file except in compliance with the License.
 *   
 *  You may obtain a copy of the License at
 *  	http://www.apache.org/licenses/LICENSE-2.0
 *  
 *  Unless required by applicable law or agreed to in writing, software
 *  	distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 *  	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  
 *  See the License for the specific language governing permissions and
 *  	limitations under the License.
 */

/**
 * Test is an Adaptation of the Test Class from the RFC4627 compliant JSON Simple
 *  (https://code.google.com/p/json-simple/).
 *
 * @author Fang Yidong
 * @author Lakshmi Krishnamurthy
 */

<span class="nc" id="L66">public class Test {</span>

    @SuppressWarnings (&quot;rawtypes&quot;) public static final void testDecode() throws Exception{
<span class="fc" id="L69">            System.out.println(&quot;=======decode=======&quot;);</span>
            
<span class="fc" id="L71">            String s=&quot;[0,{\&quot;1\&quot;:{\&quot;2\&quot;:{\&quot;3\&quot;:{\&quot;4\&quot;:[5,{\&quot;6\&quot;:7}]}}}}]&quot;;</span>
<span class="fc" id="L72">            Object obj=JSONValue.parse(s);</span>
<span class="fc" id="L73">            JSONArray array=(JSONArray)obj;</span>
<span class="fc" id="L74">            System.out.println(&quot;======the 2nd element of array======&quot;);</span>
<span class="fc" id="L75">            System.out.println(array.get(1));</span>
<span class="fc" id="L76">            System.out.println();</span>
<span class="fc" id="L77">            System.out.println (&quot;{\&quot;1\&quot;:{\&quot;2\&quot;:{\&quot;3\&quot;:{\&quot;4\&quot;:[5,{\&quot;6\&quot;:7}]}}}}&quot;.equalsIgnoreCase(array.get(1).toString()));</span>
            
<span class="fc" id="L79">            JSONObject obj2=(JSONObject)array.get(1);</span>
<span class="fc" id="L80">            System.out.println(&quot;======field \&quot;1\&quot;==========&quot;);</span>
<span class="fc" id="L81">            System.out.println(obj2.get(&quot;1&quot;));      </span>
<span class="fc" id="L82">            System.out.println (&quot;{\&quot;2\&quot;:{\&quot;3\&quot;:{\&quot;4\&quot;:[5,{\&quot;6\&quot;:7}]}}}&quot;.equalsIgnoreCase(obj2.get(&quot;1&quot;).toString()));</span>
            
<span class="fc" id="L84">            s=&quot;{}&quot;;</span>
<span class="fc" id="L85">            obj=JSONValue.parse(s);</span>
<span class="fc" id="L86">            System.out.println (&quot;{}&quot;.equalsIgnoreCase(obj.toString()));</span>
            
<span class="fc" id="L88">            s=&quot;[5,]&quot;;</span>
<span class="fc" id="L89">            obj=JSONValue.parse(s);</span>
<span class="fc" id="L90">            System.out.println (&quot;[5]&quot;.equalsIgnoreCase(obj.toString()));</span>
            
<span class="fc" id="L92">            s=&quot;[5,,2]&quot;;</span>
<span class="fc" id="L93">            obj=JSONValue.parse(s);</span>
<span class="fc" id="L94">            System.out.println (&quot;[5,2]&quot;.equalsIgnoreCase(obj.toString()));</span>
            
<span class="fc" id="L96">            s=&quot;[\&quot;hello\\bworld\\\&quot;abc\\tdef\\\\ghi\\rjkl\\n123\\u4e2d\&quot;]&quot;;</span>
<span class="fc" id="L97">            obj=JSONValue.parse(s);</span>
<span class="fc" id="L98">            System.out.println (&quot;hello\bworld\&quot;abc\tdef\\ghi\rjkl\n123ä¸­&quot;.equalsIgnoreCase(((List)obj).get(0).toString()));</span>
            
<span class="fc" id="L100">            JSONParser parser = new JSONParser();</span>
<span class="fc" id="L101">            s=&quot;{\&quot;name\&quot;:&quot;;</span>
            try{
<span class="nc" id="L103">                    obj = parser.parse(s);</span>
            }
<span class="fc" id="L105">            catch(ParseException pe){</span>
<span class="pc bpc" id="L106" title="1 of 2 branches missed.">            	System.out.println (ParseException.ERROR_UNEXPECTED_TOKEN == pe.getErrorType());</span>
<span class="pc bpc" id="L107" title="1 of 2 branches missed.">            	System.out.println (8 == pe.getPosition());</span>
<span class="nc" id="L108">            }</span>
            
<span class="fc" id="L110">            s=&quot;{\&quot;name\&quot;:}&quot;;</span>
            try{
<span class="nc" id="L112">                    obj = parser.parse(s);</span>
            }
<span class="fc" id="L114">            catch(ParseException pe){</span>
<span class="pc bpc" id="L115" title="1 of 2 branches missed.">                    System.out.println (ParseException.ERROR_UNEXPECTED_TOKEN == pe.getErrorType());</span>
<span class="pc bpc" id="L116" title="1 of 2 branches missed.">                    System.out.println (8 == pe.getPosition());</span>
<span class="nc" id="L117">            }</span>
            
            
<span class="fc" id="L120">            s=&quot;{\&quot;name&quot;;</span>
            try{
<span class="nc" id="L122">                    obj = parser.parse(s);</span>
            }
<span class="fc" id="L124">            catch(ParseException pe){</span>
<span class="pc bpc" id="L125" title="1 of 2 branches missed.">                    System.out.println (ParseException.ERROR_UNEXPECTED_TOKEN == pe.getErrorType());</span>
<span class="pc bpc" id="L126" title="1 of 2 branches missed.">                    System.out.println (6 == pe.getPosition());</span>
<span class="nc" id="L127">            }</span>
            
            
<span class="fc" id="L130">            s = &quot;[[null, 123.45, \&quot;a\\\tb c\&quot;}, true]&quot;;</span>
            try{
<span class="nc" id="L132">                    parser.parse(s);</span>
            }
<span class="fc" id="L134">            catch(ParseException pe){</span>
<span class="pc bpc" id="L135" title="1 of 2 branches missed.">                    System.out.println (24 == pe.getPosition());</span>
<span class="fc" id="L136">                    System.out.println(&quot;Error at character position: &quot; + pe.getPosition());</span>
<span class="pc bpc" id="L137" title="3 of 4 branches missed.">                    switch(pe.getErrorType()){</span>
                    case ParseException.ERROR_UNEXPECTED_TOKEN:
<span class="fc" id="L139">                            System.out.println(&quot;Unexpected token: &quot; + pe.getUnexpectedObject());</span>
<span class="fc" id="L140">                            break;</span>
                    case ParseException.ERROR_UNEXPECTED_CHAR:
<span class="nc" id="L142">                            System.out.println(&quot;Unexpected character: &quot; + pe.getUnexpectedObject());</span>
<span class="nc" id="L143">                            break;</span>
                    case ParseException.ERROR_UNEXPECTED_EXCEPTION:
<span class="nc" id="L145">                            ((Exception)pe.getUnexpectedObject()).printStackTrace();</span>
                            break;
                    }
<span class="nc" id="L148">            }</span>
            
<span class="fc" id="L150">            s = &quot;{\&quot;first\&quot;: 123, \&quot;second\&quot;: [4, 5, 6], \&quot;third\&quot;: 789}&quot;;</span>
<span class="fc" id="L151">            ContainerFactory containerFactory = new ContainerFactory(){</span>
                    public List creatArrayContainer() {
<span class="fc" id="L153">                            return new LinkedList();</span>
                    }

                    public Map createObjectContainer() {
<span class="fc" id="L157">                            return new LinkedHashMap();</span>
                    }
                    
            };
            
            try{
<span class="fc" id="L163">                    Map json = (Map)parser.parse(s, containerFactory);</span>
<span class="fc" id="L164">                    Iterator iter = json.entrySet().iterator();</span>
<span class="fc" id="L165">                    System.out.println(&quot;==iterate result==&quot;);</span>
<span class="fc bfc" id="L166" title="All 2 branches covered.">                    while(iter.hasNext()){</span>
<span class="fc" id="L167">                            Map.Entry entry = (Map.Entry)iter.next();</span>
<span class="fc" id="L168">                            System.out.println(entry.getKey() + &quot;=&gt;&quot; + entry.getValue());</span>
<span class="fc" id="L169">                    }</span>
                    
<span class="fc" id="L171">                    System.out.println(&quot;==toJSONString()==&quot;);                       </span>
<span class="fc" id="L172">                    System.out.println(JSONValue.toJSONString(json));</span>
<span class="fc" id="L173">                    System.out.println (&quot;{\&quot;first\&quot;:123,\&quot;second\&quot;:[4,5,6],\&quot;third\&quot;:789}&quot;.equalsIgnoreCase(JSONValue.toJSONString(json)));</span>
            }
<span class="nc" id="L175">            catch(ParseException pe){</span>
<span class="nc" id="L176">                    pe.printStackTrace();</span>
<span class="fc" id="L177">            }</span>
            
<span class="fc" id="L179">            s = &quot;{\&quot;first\&quot;: 123, \&quot;second\&quot;: [{\&quot;s1\&quot;:{\&quot;s11\&quot;:\&quot;v11\&quot;}}, 4, 5, 6], \&quot;third\&quot;: 789}&quot;;</span>
<span class="fc" id="L180">            ContentHandler myHandler = new ContentHandler() {</span>

                    public boolean endArray() throws ParseException {
<span class="fc" id="L183">                            System.out.println(&quot;endArray()&quot;);</span>
<span class="fc" id="L184">                            return true;</span>
                    }

                    public void endJSON() throws ParseException {
<span class="fc" id="L188">                            System.out.println(&quot;endJSON()&quot;);</span>
<span class="fc" id="L189">                    }</span>

                    public boolean endObject() throws ParseException {
<span class="fc" id="L192">                            System.out.println(&quot;endObject()&quot;);</span>
<span class="fc" id="L193">                            return true;</span>
                    }

                    public boolean endObjectEntry() throws ParseException {
<span class="fc" id="L197">                            System.out.println(&quot;endObjectEntry()&quot;);</span>
<span class="fc" id="L198">                            return true;</span>
                    }

                    public boolean primitive(Object value) throws ParseException {
<span class="fc" id="L202">                            System.out.println(&quot;primitive(): &quot; + value);</span>
<span class="fc" id="L203">                            return true;</span>
                    }

                    public boolean startArray() throws ParseException {
<span class="fc" id="L207">                            System.out.println(&quot;startArray()&quot;);</span>
<span class="fc" id="L208">                            return true;</span>
                    }

                    public void startJSON() throws ParseException {
<span class="fc" id="L212">                            System.out.println(&quot;startJSON()&quot;);</span>
<span class="fc" id="L213">                    }</span>

                    public boolean startObject() throws ParseException {
<span class="fc" id="L216">                            System.out.println(&quot;startObject()&quot;);</span>
<span class="fc" id="L217">                            return true;</span>
                    }

                    public boolean startObjectEntry(String key) throws ParseException {
<span class="fc" id="L221">                            System.out.println(&quot;startObjectEntry(), key:&quot; + key);</span>
<span class="fc" id="L222">                            return true;</span>
                    }
                    
            };
            try{
<span class="fc" id="L227">                    parser.parse(s, myHandler);</span>
            }
<span class="nc" id="L229">            catch(ParseException pe){</span>
<span class="nc" id="L230">                    pe.printStackTrace();</span>
<span class="fc" id="L231">            }</span>
    
<span class="fc" id="L233">    class KeyFinder implements ContentHandler{</span>
        private Object value;
<span class="fc" id="L235">        private boolean found = false;</span>
<span class="fc" id="L236">        private boolean end = false;</span>
        private String key;
        private String matchKey;
        
        public void setMatchKey(String matchKey){
<span class="fc" id="L241">            this.matchKey = matchKey;</span>
<span class="fc" id="L242">        }</span>
        
        public Object getValue(){
<span class="fc" id="L245">            return value;</span>
        }
        
        public boolean isEnd(){
<span class="fc" id="L249">            return end;</span>
        }
        
        public void setFound(boolean found){
<span class="fc" id="L253">            this.found = found;</span>
<span class="fc" id="L254">        }</span>
        
        public boolean isFound(){
<span class="fc" id="L257">            return found;</span>
        }
        
        public void startJSON() throws ParseException, IOException {
<span class="fc" id="L261">            found = false;</span>
<span class="fc" id="L262">            end = false;</span>
<span class="fc" id="L263">        }</span>

        public void endJSON() throws ParseException, IOException {
<span class="fc" id="L266">            end = true;</span>
<span class="fc" id="L267">        }</span>

        public boolean primitive(Object value) throws ParseException, IOException {
<span class="fc bfc" id="L270" title="All 2 branches covered.">            if(key != null){</span>
<span class="fc bfc" id="L271" title="All 2 branches covered.">                if(key.equals(matchKey)){</span>
<span class="fc" id="L272">                    found = true;</span>
<span class="fc" id="L273">                    this.value = value;</span>
<span class="fc" id="L274">                    key = null;</span>
<span class="fc" id="L275">                    return false;</span>
                }
            }
<span class="fc" id="L278">            return true;</span>
        }

        public boolean startArray() throws ParseException, IOException {
<span class="fc" id="L282">            return true;</span>
        }

        
        public boolean startObject() throws ParseException, IOException {
<span class="fc" id="L287">            return true;</span>
        }

        public boolean startObjectEntry(String key) throws ParseException, IOException {
<span class="fc" id="L291">            this.key = key;</span>
<span class="fc" id="L292">            return true;</span>
        }
        
        public boolean endArray() throws ParseException, IOException {
<span class="fc" id="L296">            return false;</span>
        }

        public boolean endObject() throws ParseException, IOException {
<span class="fc" id="L300">            return true;</span>
        }

        public boolean endObjectEntry() throws ParseException, IOException {
<span class="fc" id="L304">            return true;</span>
        }
    };
    
<span class="fc" id="L308">    s = &quot;{\&quot;first\&quot;: 123, \&quot;second\&quot;: [{\&quot;k1\&quot;:{\&quot;id\&quot;:\&quot;id1\&quot;}}, 4, 5, 6, {\&quot;id\&quot;: 123}], \&quot;third\&quot;: 789, \&quot;id\&quot;: null}&quot;;</span>
<span class="fc" id="L309">    parser.reset();</span>
<span class="fc" id="L310">    KeyFinder keyFinder = new KeyFinder();</span>
<span class="fc" id="L311">    keyFinder.setMatchKey(&quot;id&quot;);</span>
<span class="fc" id="L312">    int i = 0;</span>
    try{
<span class="fc bfc" id="L314" title="All 2 branches covered.">        while(!keyFinder.isEnd()){</span>
<span class="fc" id="L315">            parser.parse(s, keyFinder, true);</span>
<span class="fc bfc" id="L316" title="All 2 branches covered.">            if(keyFinder.isFound()){</span>
<span class="fc" id="L317">                i++;</span>
<span class="fc" id="L318">                keyFinder.setFound(false);</span>
<span class="fc" id="L319">                System.out.println(&quot;found id:&quot;);</span>
<span class="fc" id="L320">                System.out.println(keyFinder.getValue());</span>
<span class="fc bfc" id="L321" title="All 2 branches covered.">                if(i == 1)</span>
<span class="fc" id="L322">                    System.out.println (&quot;id1&quot;.equalsIgnoreCase((String)keyFinder.getValue()));</span>
<span class="fc bfc" id="L323" title="All 2 branches covered.">                if(i == 2){</span>
<span class="fc" id="L324">                	System.out.println (keyFinder.getValue() instanceof Number);</span>
<span class="fc" id="L325">                    System.out.println (&quot;123&quot;.equalsIgnoreCase(String.valueOf(keyFinder.getValue())));</span>
                }
<span class="fc bfc" id="L327" title="All 2 branches covered.">                if(i == 3)</span>
<span class="pc bpc" id="L328" title="1 of 2 branches missed.">                	System.out.println (null == keyFinder.getValue());</span>
            }
        }
    }
<span class="nc" id="L332">    catch(ParseException pe){</span>
<span class="nc" id="L333">        pe.printStackTrace();</span>
<span class="fc" id="L334">    }</span>
<span class="fc" id="L335">    }</span>
    
    @SuppressWarnings ({&quot;rawtypes&quot;, &quot;unchecked&quot;}) public static final void testEncode() throws Exception{
<span class="fc" id="L338">            System.out.println(&quot;=======encode=======&quot;);</span>
            
<span class="fc" id="L340">            JSONArray array1=new JSONArray();</span>
<span class="fc" id="L341">            array1.add(&quot;abc\u0010a/&quot;);</span>
<span class="fc" id="L342">            array1.add(new Integer(123));</span>
<span class="fc" id="L343">            array1.add(new Double(222.123));</span>
<span class="fc" id="L344">            array1.add(new Boolean(true));</span>
<span class="fc" id="L345">            System.out.println(&quot;======array1==========&quot;);</span>
<span class="fc" id="L346">            System.out.println(array1);</span>
<span class="fc" id="L347">            System.out.println();</span>
<span class="fc" id="L348">            System.out.println (&quot;[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true]&quot;.equalsIgnoreCase(array1.toString()));</span>
            
<span class="fc" id="L350">            JSONObject obj1=new JSONObject();</span>
<span class="fc" id="L351">            obj1.put(&quot;name&quot;,&quot;fang&quot;);</span>
<span class="fc" id="L352">            obj1.put(&quot;age&quot;,new Integer(27));</span>
<span class="fc" id="L353">            obj1.put(&quot;is_developer&quot;,new Boolean(true));</span>
<span class="fc" id="L354">            obj1.put(&quot;weight&quot;,new Double(60.21));</span>
<span class="fc" id="L355">            obj1.put(&quot;array1&quot;,array1);</span>
<span class="fc" id="L356">            System.out.println(&quot;======obj1 with array1===========&quot;);</span>
<span class="fc" id="L357">            System.out.println(obj1);</span>
<span class="fc" id="L358">            System.out.println();</span>
<span class="fc" id="L359">            System.out.println (&quot;{\&quot;array1\&quot;:[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true],\&quot;weight\&quot;:60.21,\&quot;age\&quot;:27,\&quot;name\&quot;:\&quot;fang\&quot;,\&quot;is_developer\&quot;:true}&quot;.equalsIgnoreCase(obj1.toString()));</span>
            
<span class="fc" id="L361">            obj1.remove(&quot;array1&quot;);</span>
<span class="fc" id="L362">            array1.add(obj1);</span>
<span class="fc" id="L363">            System.out.println(&quot;======array1 with obj1========&quot;);</span>
<span class="fc" id="L364">            System.out.println(array1);</span>
<span class="fc" id="L365">            System.out.println();</span>
<span class="fc" id="L366">            System.out.println (&quot;[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true,{\&quot;weight\&quot;:60.21,\&quot;age\&quot;:27,\&quot;name\&quot;:\&quot;fang\&quot;,\&quot;is_developer\&quot;:true}]&quot;.equalsIgnoreCase(array1.toString()));</span>
    
<span class="fc" id="L368">            List list = new ArrayList();</span>
<span class="fc" id="L369">            list.add(&quot;abc\u0010a/&quot;);</span>
<span class="fc" id="L370">            list.add(new Integer(123));</span>
<span class="fc" id="L371">            list.add(new Double(222.123));</span>
<span class="fc" id="L372">            list.add(new Boolean(true));</span>
<span class="fc" id="L373">            list.add(null);</span>
<span class="fc" id="L374">            System.out.println(&quot;======list==========&quot;);</span>
<span class="fc" id="L375">            System.out.println(JSONArray.toJSONString(list));</span>
<span class="fc" id="L376">            System.out.println();</span>
<span class="fc" id="L377">            System.out.println (&quot;[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true,null]&quot;.equalsIgnoreCase(JSONArray.toJSONString(list)));</span>
            
<span class="fc" id="L379">            Map map = new HashMap();</span>
<span class="fc" id="L380">            map.put(&quot;name&quot;,&quot;fang&quot;);</span>
<span class="fc" id="L381">            map.put(&quot;age&quot;,new Integer(27));</span>
<span class="fc" id="L382">            map.put(&quot;is_developer&quot;,new Boolean(true));</span>
<span class="fc" id="L383">            map.put(&quot;weight&quot;,new Double(60.21));</span>
<span class="fc" id="L384">            map.put(&quot;array1&quot;,list);</span>
<span class="fc" id="L385">            System.out.println(&quot;======map with list===========&quot;);</span>
<span class="fc" id="L386">            System.out.println(map);</span>
<span class="fc" id="L387">            System.out.println();</span>
<span class="fc" id="L388">            System.out.println (&quot;{\&quot;array1\&quot;:[\&quot;abc\\u0010a\\/\&quot;,123,222.123,true,null],\&quot;weight\&quot;:60.21,\&quot;age\&quot;:27,\&quot;name\&quot;:\&quot;fang\&quot;,\&quot;is_developer\&quot;:true}&quot;.equalsIgnoreCase(JSONObject.toJSONString(map)));               </span>
            
<span class="fc" id="L390">    Map m1 = new LinkedHashMap();</span>
<span class="fc" id="L391">    Map m2 = new HashMap();</span>
<span class="fc" id="L392">    List  l1 = new LinkedList();</span>

<span class="fc" id="L394">    m1.put(&quot;k11&quot;,&quot;v11&quot;);</span>
<span class="fc" id="L395">    m1.put(&quot;k12&quot;,&quot;v12&quot;);</span>
<span class="fc" id="L396">    m1.put(&quot;k13&quot;, &quot;v13&quot;);</span>
<span class="fc" id="L397">    m2.put(&quot;k21&quot;,&quot;v21&quot;);</span>
<span class="fc" id="L398">    m2.put(&quot;k22&quot;,&quot;v22&quot;);</span>
<span class="fc" id="L399">    m2.put(&quot;k23&quot;,&quot;v23&quot;);</span>
<span class="fc" id="L400">    l1.add(m1);</span>
<span class="fc" id="L401">    l1.add(m2);</span>
<span class="fc" id="L402">    String jsonString = JSONValue.toJSONString(l1);</span>
<span class="fc" id="L403">    System.out.println(jsonString);</span>
<span class="fc" id="L404">    System.out.println (&quot;[{\&quot;k11\&quot;:\&quot;v11\&quot;,\&quot;k12\&quot;:\&quot;v12\&quot;,\&quot;k13\&quot;:\&quot;v13\&quot;},{\&quot;k22\&quot;:\&quot;v22\&quot;,\&quot;k21\&quot;:\&quot;v21\&quot;,\&quot;k23\&quot;:\&quot;v23\&quot;}]&quot;.equalsIgnoreCase(jsonString));</span>

<span class="fc" id="L406">    StringWriter out = new StringWriter();</span>
<span class="fc" id="L407">    JSONValue.writeJSONString(l1, out);</span>
<span class="fc" id="L408">    jsonString = out.toString();</span>
<span class="fc" id="L409">    System.out.println(jsonString);</span>
<span class="fc" id="L410">    System.out.println (&quot;[{\&quot;k11\&quot;:\&quot;v11\&quot;,\&quot;k12\&quot;:\&quot;v12\&quot;,\&quot;k13\&quot;:\&quot;v13\&quot;},{\&quot;k22\&quot;:\&quot;v22\&quot;,\&quot;k21\&quot;:\&quot;v21\&quot;,\&quot;k23\&quot;:\&quot;v23\&quot;}]&quot;.equalsIgnoreCase(jsonString));</span>
    
<span class="fc" id="L412">    List l2 = new LinkedList();</span>
<span class="fc" id="L413">    Map m3 = new LinkedHashMap();</span>
<span class="fc" id="L414">    m3.put(&quot;k31&quot;, &quot;v3&quot;);</span>
<span class="fc" id="L415">    m3.put(&quot;k32&quot;, new Double(123.45));</span>
<span class="fc" id="L416">    m3.put(&quot;k33&quot;, new Boolean(false));</span>
<span class="fc" id="L417">    m3.put(&quot;k34&quot;, null);</span>
<span class="fc" id="L418">    l2.add(&quot;vvv&quot;);</span>
<span class="fc" id="L419">    l2.add(&quot;1.23456789123456789&quot;);</span>
<span class="fc" id="L420">    l2.add(new Boolean(true));</span>
<span class="fc" id="L421">    l2.add(null);</span>
<span class="fc" id="L422">    m3.put(&quot;k35&quot;, l2);</span>
<span class="fc" id="L423">    m1.put(&quot;k14&quot;, m3);</span>
<span class="fc" id="L424">    out = new StringWriter();</span>
<span class="fc" id="L425">    JSONValue.writeJSONString(l1, out);</span>
<span class="fc" id="L426">    jsonString = out.toString();</span>
<span class="fc" id="L427">    System.out.println(jsonString);</span>
<span class="fc" id="L428">    System.out.println (&quot;[{\&quot;k11\&quot;:\&quot;v11\&quot;,\&quot;k12\&quot;:\&quot;v12\&quot;,\&quot;k13\&quot;:\&quot;v13\&quot;,\&quot;k14\&quot;:{\&quot;k31\&quot;:\&quot;v3\&quot;,\&quot;k32\&quot;:123.45,\&quot;k33\&quot;:false,\&quot;k34\&quot;:null,\&quot;k35\&quot;:[\&quot;vvv\&quot;,\&quot;1.23456789123456789\&quot;,true,null]}},{\&quot;k22\&quot;:\&quot;v22\&quot;,\&quot;k21\&quot;:\&quot;v21\&quot;,\&quot;k23\&quot;:\&quot;v23\&quot;}]&quot;.equalsIgnoreCase(jsonString));</span>
<span class="fc" id="L429">}</span>

    public static final void main (
    	final String[] astrArgs)
    	throws Exception
    {
<span class="fc" id="L435">    	testEncode();</span>

<span class="fc" id="L437">    	testDecode();</span>
<span class="fc" id="L438">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>