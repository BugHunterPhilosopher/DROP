<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BondProductBuilder.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">DROP</a> &gt; <a href="index.source.html" class="el_package">org.drip.product.creator</a> &gt; <span class="el_source">BondProductBuilder.java</span></div><h1>BondProductBuilder.java</h1><pre class="source lang-java linenums">
package org.drip.product.creator;

/*
 * -*- mode: java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
 */

/*!
 * Copyright (C) 2019 Lakshmi Krishnamurthy
 * Copyright (C) 2018 Lakshmi Krishnamurthy
 * Copyright (C) 2017 Lakshmi Krishnamurthy
 * Copyright (C) 2016 Lakshmi Krishnamurthy
 * Copyright (C) 2015 Lakshmi Krishnamurthy
 * Copyright (C) 2014 Lakshmi Krishnamurthy
 * Copyright (C) 2013 Lakshmi Krishnamurthy
 * Copyright (C) 2012 Lakshmi Krishnamurthy
 * Copyright (C) 2011 Lakshmi Krishnamurthy
 * 
 *  This file is part of DROP, an open-source library targeting risk, transaction costs, exposure, margin
 *  	calculations, and portfolio construction within and across fixed income, credit, commodity, equity,
 *  	FX, and structured products.
 *  
 *  	https://lakshmidrip.github.io/DROP/
 *  
 *  DROP is composed of three main modules:
 *  
 *  - DROP Analytics Core - https://lakshmidrip.github.io/DROP-Analytics-Core/
 *  - DROP Portfolio Core - https://lakshmidrip.github.io/DROP-Portfolio-Core/
 *  - DROP Numerical Core - https://lakshmidrip.github.io/DROP-Numerical-Core/
 * 
 * 	DROP Analytics Core implements libraries for the following:
 * 	- Fixed Income Analytics
 * 	- Asset Backed Analytics
 * 	- XVA Analytics
 * 	- Exposure and Margin Analytics
 * 
 * 	DROP Portfolio Core implements libraries for the following:
 * 	- Asset Allocation Analytics
 * 	- Transaction Cost Analytics
 * 
 * 	DROP Numerical Core implements libraries for the following:
 * 	- Statistical Learning Library
 * 	- Numerical Optimizer Library
 * 	- Machine Learning Library
 * 	- Spline Builder Library
 * 
 * 	Documentation for DROP is Spread Over:
 * 
 * 	- Main                     =&gt; https://lakshmidrip.github.io/DROP/
 * 	- Wiki                     =&gt; https://github.com/lakshmiDRIP/DROP/wiki
 * 	- GitHub                   =&gt; https://github.com/lakshmiDRIP/DROP
 * 	- Javadoc                  =&gt; https://lakshmidrip.github.io/DROP/Javadoc/index.html
 * 	- Technical Specifications =&gt; https://github.com/lakshmiDRIP/DROP/tree/master/Docs/Internal
 * 	- Release Versions         =&gt; https://lakshmidrip.github.io/DROP/version.html
 * 	- Community Credits        =&gt; https://lakshmidrip.github.io/DROP/credits.html
 * 	- Issues Catalog           =&gt; https://github.com/lakshmiDRIP/DROP/issues
 * 	- JUnit                    =&gt; https://lakshmidrip.github.io/DROP/junit/index.html
 * 	- Jacoco                   =&gt; https://lakshmidrip.github.io/DROP/jacoco/index.html
 * 
 *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 *   	you may not use this file except in compliance with the License.
 *   
 *  You may obtain a copy of the License at
 *  	http://www.apache.org/licenses/LICENSE-2.0
 *  
 *  Unless required by applicable law or agreed to in writing, software
 *  	distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 *  	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  
 *  See the License for the specific language governing permissions and
 *  	limitations under the License.
 */

/**
 * &lt;i&gt;BondProductBuilder&lt;/i&gt; holds the static parameters of the bond product needed for the full bond
 * valuation. It contains the bond identifier parameters (ISIN, CUSIP), the issuer level parameters (Ticker,
 * SPN or the credit curve string), coupon parameters (coupon rate, coupon frequency, coupon type, day
 * count), maturity parameters (maturity date, maturity type, final maturity, redemption value), date
 * parameters (announce, first settle, first coupon, interest accrual start, and issue dates), embedded
 * option parameters (callable, putable, has been exercised), currency parameters (trade, coupon, and
 * redemption currencies), floater parameters (floater flag, floating coupon convention, current coupon, rate
 * index, spread), and whether the bond is perpetual or has defaulted.
 *
 *	&lt;br&gt;&lt;br&gt;
 *  &lt;ul&gt;
 *		&lt;li&gt;&lt;b&gt;Module &lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/AnalyticsCore.md&quot;&gt;Analytics Core Module&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Library&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/FixedIncomeAnalyticsLibrary.md&quot;&gt;Fixed Income Analytics Library&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Project&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/src/main/java/org/drip/product&quot;&gt;Product&lt;/a&gt;&lt;/li&gt;
 *		&lt;li&gt;&lt;b&gt;Package&lt;/b&gt; = &lt;a href = &quot;https://github.com/lakshmiDRIP/DROP/tree/master/src/main/java/org/drip/product/creator&quot;&gt;Creator&lt;/a&gt;&lt;/li&gt;
 *  &lt;/ul&gt;
 * &lt;br&gt;&lt;br&gt;
 * 
 * @author Lakshmi Krishnamurthy
 *
 */

public class BondProductBuilder {
	private static final boolean m_bBlog = false;
	private static final boolean m_bDisplayWarnings = true;

	/**
	 * ISIN
	 */

<span class="nc" id="L105">	public java.lang.String _strISIN = &quot;&quot;;</span>

	/**
	 * CUSIP
	 */

<span class="nc" id="L111">	public java.lang.String _strCUSIP = &quot;&quot;;</span>

	/**
	 * Ticker
	 */

<span class="nc" id="L117">	public java.lang.String _strTicker = &quot;&quot;;</span>

	/**
	 * Coupon
	 */

<span class="nc" id="L123">	public double _dblCoupon = java.lang.Double.NaN;</span>

	/**
	 * Maturity
	 */

<span class="nc" id="L129">	public org.drip.analytics.date.JulianDate _dtMaturity = null;</span>

	/**
	 * Coupon Frequency
	 */

<span class="nc" id="L135">	public int _iCouponFreq = 0;</span>

	/**
	 * Coupon Type
	 */

<span class="nc" id="L141">	public java.lang.String _strCouponType = &quot;&quot;;</span>

	/**
	 * Maturity Type
	 */

<span class="nc" id="L147">	public java.lang.String _strMaturityType = &quot;&quot;;</span>

	/**
	 * Calculation Type
	 */

<span class="nc" id="L153">	public java.lang.String _strCalculationType = &quot;&quot;;</span>

	/**
	 * Day count Code
	 */

<span class="nc" id="L159">	public java.lang.String _strDayCountCode = &quot;&quot;;</span>

	/**
	 * Redemption Value
	 */

<span class="nc" id="L165">	public double _dblRedemptionValue = java.lang.Double.NaN;</span>

	/**
	 * Announce Date
	 */

<span class="nc" id="L171">	public org.drip.analytics.date.JulianDate _dtAnnounce = null;</span>

	/**
	 * First Settle Date
	 */

<span class="nc" id="L177">	public org.drip.analytics.date.JulianDate _dtFirstSettle = null;</span>

	/**
	 * First Coupon Date
	 */

<span class="nc" id="L183">	public org.drip.analytics.date.JulianDate _dtFirstCoupon = null;</span>

	/**
	 * Interest Accrual Start Date
	 */

<span class="nc" id="L189">	public org.drip.analytics.date.JulianDate _dtInterestAccrualStart = null;</span>

	/**
	 * Issue Date
	 */

<span class="nc" id="L195">	public org.drip.analytics.date.JulianDate _dtIssue = null;</span>

	/**
	 * Callable flag
	 */

<span class="nc" id="L201">	public boolean _bIsCallable = false;</span>

	/**
	 * Putable flag
	 */

<span class="nc" id="L207">	public boolean _bIsPutable = false;</span>

	/**
	 * Sinkable flag
	 */

<span class="nc" id="L213">	public boolean _bIsSinkable = false;</span>

	/**
	 * Redemption Currency
	 */

<span class="nc" id="L219">	public java.lang.String _strRedemptionCurrency = &quot;&quot;;</span>

	/**
	 * Coupon Currency
	 */

<span class="nc" id="L225">	public java.lang.String _strCouponCurrency = &quot;&quot;;</span>

	/**
	 * Trade Currency
	 */

<span class="nc" id="L231">	public java.lang.String _strTradeCurrency = &quot;&quot;;</span>

	/**
	 * Has Been Exercised flag
	 */

<span class="nc" id="L237">	public boolean _bHasBeenCalled = false;</span>

	/**
	 * Floater Coupon Day Count Convention
	 */

<span class="nc" id="L243">	public java.lang.String _strFloatCouponConvention = &quot;&quot;;</span>

	/**
	 * Current Coupon
	 */

<span class="nc" id="L249">	public double _dblCurrentCoupon = java.lang.Double.NaN;</span>

	/**
	 * Is Floater flag
	 */

<span class="nc" id="L255">	public boolean _bIsFloater = false;</span>

	/**
	 * Final Maturity Date
	 */

<span class="nc" id="L261">	public org.drip.analytics.date.JulianDate _dtFinalMaturity = null;</span>

	/**
	 * Is Perpetual flag
	 */

<span class="nc" id="L267">	public boolean _bIsPerpetual = false;</span>

	/**
	 * Is Defaulted flag
	 */

<span class="nc" id="L273">	public boolean _bIsDefaulted = false;</span>

	/**
	 * Floater Spread
	 */

<span class="nc" id="L279">	public double _dblFloatSpread = java.lang.Double.NaN;</span>

	/**
	 * Rate Index
	 */

<span class="nc" id="L285">	public java.lang.String _strRateIndex = &quot;&quot;;</span>

	/**
	 * Issuer SPN
	 */

<span class="nc" id="L291">	public java.lang.String _strIssuerSPN = &quot;&quot;;</span>

	private static final java.lang.String DES (
		final BondProductBuilder bpb)
	{
<span class="nc" id="L296">		return bpb._strTicker + &quot;  &quot; + bpb._dtMaturity.toString() + &quot;[&quot; + bpb._strISIN + &quot;]&quot;;</span>
	}

	private org.drip.analytics.date.JulianDate reconcileStartDate()
	{
<span class="nc bnc" id="L301" title="All 2 branches missed.">		if (null != _dtInterestAccrualStart) return _dtInterestAccrualStart;</span>

<span class="nc bnc" id="L303" title="All 2 branches missed.">		if (null != _dtIssue) return _dtIssue;</span>

<span class="nc bnc" id="L305" title="All 2 branches missed.">		if (null != _dtFirstSettle) return _dtFirstSettle;</span>

<span class="nc" id="L307">		return _dtAnnounce;</span>
	}

	/**
	 * Create BondProductBuilder from the SQL ResultSet and the input MPC
	 * 
	 * @param rs SQL ResultSet
	 * @param mpc org.drip.param.definition.MarketParams to help fill some of the fields in
	 * 
	 * @return BondProductBuilder object
	 */

	public static final BondProductBuilder CreateFromResultSet (
		final java.sql.ResultSet rs,
		final org.drip.param.definition.ScenarioMarketParams mpc)
	{
		try {
<span class="nc" id="L324">			BondProductBuilder bpb = new BondProductBuilder();</span>

<span class="nc bnc" id="L326" title="All 2 branches missed.">			if (null == (bpb._strISIN = rs.getString (&quot;ISIN&quot;))) {</span>
<span class="nc" id="L327">				System.out.println (&quot;No ISIN!&quot;);</span>

<span class="nc" id="L329">				return null;</span>
			}

			if (m_bBlog) System.out.println (&quot;Loading &quot; + bpb._strISIN + &quot; ...&quot;);

<span class="nc bnc" id="L334" title="All 2 branches missed.">			if (null == (bpb._strCUSIP = rs.getString (&quot;CUSIP&quot;))) {</span>
<span class="nc" id="L335">				System.out.println (&quot;No CUSIP!&quot;);</span>

<span class="nc" id="L337">				return null;</span>
			}

<span class="nc" id="L340">			bpb._strTicker = rs.getString (&quot;Ticker&quot;);</span>

<span class="nc bnc" id="L342" title="All 2 branches missed.">			if (!org.drip.numerical.common.NumberUtil.IsValid (bpb._dblCoupon = 0.01 * rs.getDouble (&quot;Coupon&quot;)))</span>
			{
<span class="nc" id="L344">				System.out.println (&quot;Invalid coupon for ISIN &quot; + bpb._strISIN);</span>

<span class="nc" id="L346">				return null;</span>
			}

<span class="nc bnc" id="L349" title="All 2 branches missed.">			if (null == (bpb._dtMaturity = org.drip.analytics.date.DateUtil.MakeJulianFromRSEntry (rs.getDate</span>
<span class="nc" id="L350">				(&quot;Maturity&quot;)))) {</span>
<span class="nc" id="L351">				System.out.println (&quot;Invalid maturity for ISIN &quot; + bpb._strISIN);</span>

<span class="nc" id="L353">				return null;</span>
			}

<span class="nc" id="L356">			bpb._iCouponFreq = rs.getInt (&quot;CouponFreq&quot;);</span>

<span class="nc" id="L358">			bpb._strCouponType = rs.getString (&quot;CouponType&quot;);</span>

<span class="nc" id="L360">			bpb._strMaturityType = rs.getString (&quot;MaturityType&quot;);</span>

<span class="nc" id="L362">			bpb._strCalculationType = rs.getString (&quot;CalculationType&quot;);</span>

<span class="nc" id="L364">			bpb._strDayCountCode = rs.getString (&quot;DayCountConv&quot;);</span>

<span class="nc" id="L366">			bpb._dblRedemptionValue = rs.getDouble (&quot;RedemptionValue&quot;);</span>

<span class="nc bnc" id="L368" title="All 2 branches missed.">			if (null == (bpb._dtAnnounce = org.drip.analytics.date.DateUtil.MakeJulianFromRSEntry (rs.getDate</span>
<span class="nc" id="L369">				(&quot;AnnounceDate&quot;)))) {</span>
<span class="nc" id="L370">				System.out.println (&quot;Invalid announce date for ISIN &quot; + DES (bpb));</span>

<span class="nc" id="L372">				return null;</span>
			}

<span class="nc" id="L375">			if (null == (bpb._dtFirstSettle = org.drip.analytics.date.DateUtil.MakeJulianFromRSEntry</span>
<span class="nc bnc" id="L376" title="All 2 branches missed.">				(rs.getDate (&quot;FirstSettleDate&quot;)))) {</span>
<span class="nc" id="L377">				System.out.println (&quot;Invalid first settle date for ISIN &quot; + DES (bpb));</span>

<span class="nc" id="L379">				return null;</span>
			}

<span class="nc" id="L382">			if (null == (bpb._dtFirstCoupon = org.drip.analytics.date.DateUtil.MakeJulianFromRSEntry</span>
<span class="nc bnc" id="L383" title="All 2 branches missed.">				(rs.getDate (&quot;FirstCouponDate&quot;)))) {</span>
				if (m_bBlog) System.out.println (&quot;Invalid first coupon date for ISIN &quot; + DES (bpb));
			}

<span class="nc" id="L387">			if (null == (bpb._dtInterestAccrualStart = org.drip.analytics.date.DateUtil.MakeJulianFromRSEntry</span>
<span class="nc bnc" id="L388" title="All 2 branches missed.">				(rs.getDate (&quot;AccrualStartDate&quot;)))) {</span>
<span class="nc" id="L389">				System.out.println (&quot;Invalid accrual start date for &quot; + DES (bpb));</span>

<span class="nc" id="L391">				return null;</span>
			}

<span class="nc bnc" id="L394" title="All 2 branches missed.">			if (null == (bpb._dtIssue = org.drip.analytics.date.DateUtil.MakeJulianFromRSEntry (rs.getDate</span>
<span class="nc" id="L395">				(&quot;IssueDate&quot;)))) {</span>
<span class="nc" id="L396">				System.out.println (&quot;Invalid issue date for &quot; + DES (bpb));</span>

<span class="nc" id="L398">				return null;</span>
			}

<span class="nc" id="L401">			bpb._bIsCallable = org.drip.numerical.common.StringUtil.ParseFromUnitaryString (rs.getString</span>
<span class="nc" id="L402">				(&quot;IsCallable&quot;));</span>

<span class="nc" id="L404">			bpb._bIsPutable = org.drip.numerical.common.StringUtil.ParseFromUnitaryString (rs.getString</span>
<span class="nc" id="L405">				(&quot;IsPutable&quot;));</span>

<span class="nc" id="L407">			bpb._bIsSinkable = org.drip.numerical.common.StringUtil.ParseFromUnitaryString (rs.getString</span>
<span class="nc" id="L408">				(&quot;IsSinkable&quot;));</span>

<span class="nc" id="L410">			bpb._strRedemptionCurrency = org.drip.analytics.support.Helper.SwitchIRCurve</span>
<span class="nc" id="L411">				(rs.getString (&quot;RedemptionCurrency&quot;));</span>

<span class="nc bnc" id="L413" title="All 4 branches missed.">			if (null == bpb._strRedemptionCurrency || bpb._strRedemptionCurrency.isEmpty()) {</span>
<span class="nc" id="L414">				System.out.println (&quot;Invalid redemption currency for &quot; + DES (bpb));</span>

<span class="nc" id="L416">				return null;</span>
			}

<span class="nc" id="L419">			bpb._strCouponCurrency = org.drip.analytics.support.Helper.SwitchIRCurve</span>
<span class="nc" id="L420">				(rs.getString (&quot;CouponCurrency&quot;));</span>

<span class="nc bnc" id="L422" title="All 4 branches missed.">			if (null == bpb._strCouponCurrency || bpb._strCouponCurrency.isEmpty()) {</span>
<span class="nc" id="L423">				System.out.println (&quot;Invalid coupon currency for &quot; + DES (bpb));</span>

<span class="nc" id="L425">				return null;</span>
			}

<span class="nc" id="L428">			bpb._strTradeCurrency = org.drip.analytics.support.Helper.SwitchIRCurve</span>
<span class="nc" id="L429">				(rs.getString (&quot;TradeCurrency&quot;));</span>

<span class="nc bnc" id="L431" title="All 4 branches missed.">			if (null == bpb._strTradeCurrency || bpb._strTradeCurrency.isEmpty()) {</span>
<span class="nc" id="L432">				System.out.println (&quot;Invalid trade currency for &quot; + DES (bpb));</span>

<span class="nc" id="L434">				return null;</span>
			}

<span class="nc" id="L437">			bpb._bHasBeenCalled = org.drip.numerical.common.StringUtil.ParseFromUnitaryString (rs.getString</span>
<span class="nc" id="L438">				(&quot;Called&quot;));</span>

<span class="nc" id="L440">			bpb._strFloatCouponConvention = rs.getString (&quot;FloatCouponConvention&quot;);</span>

<span class="nc" id="L442">			bpb._bIsFloater = org.drip.numerical.common.StringUtil.ParseFromUnitaryString (rs.getString</span>
<span class="nc" id="L443">				(&quot;Floater&quot;));</span>

			// bpb._dblCurrentCoupon = 0.01 * rs.getDouble (&quot;CurrentCoupon&quot;);

<span class="nc" id="L447">			bpb._dtFinalMaturity = org.drip.analytics.date.DateUtil.MakeJulianFromRSEntry (rs.getDate</span>
<span class="nc" id="L448">				(&quot;FinalMaturity&quot;));</span>

<span class="nc" id="L450">			bpb._bIsPerpetual = org.drip.numerical.common.StringUtil.ParseFromUnitaryString (rs.getString</span>
<span class="nc" id="L451">				(&quot;Perpetual&quot;));</span>

<span class="nc" id="L453">			bpb._bIsDefaulted = org.drip.numerical.common.StringUtil.ParseFromUnitaryString (rs.getString</span>
<span class="nc" id="L454">				(&quot;Defaulted&quot;));</span>

<span class="nc" id="L456">			bpb._dblFloatSpread = 0.0001 * rs.getDouble (&quot;FloatSpread&quot;);</span>

<span class="nc" id="L458">			bpb._strRateIndex = rs.getString (&quot;RateIndex&quot;);</span>

<span class="nc bnc" id="L460" title="All 6 branches missed.">			if (bpb._bIsFloater &amp;&amp; !org.drip.numerical.common.NumberUtil.IsValid (bpb._dblFloatSpread) &amp;&amp; (null ==</span>
<span class="nc bnc" id="L461" title="All 2 branches missed.">				bpb._strRateIndex || bpb._strRateIndex.isEmpty())) {</span>
<span class="nc" id="L462">				System.out.println (&quot;Invalid float spread for &quot; + DES (bpb));</span>

<span class="nc" id="L464">				return null;</span>
			}

<span class="nc" id="L467">			bpb._strIssuerSPN = rs.getString (&quot;SPN&quot;);</span>

<span class="nc bnc" id="L469" title="All 2 branches missed.">			if (!bpb.validate (mpc)) return null;</span>

			if (m_bBlog) System.out.println (&quot;Loaded &quot; + DES (bpb) + &quot;.&quot;);

<span class="nc" id="L473">			return bpb;</span>
<span class="nc" id="L474">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L475">			e.printStackTrace();</span>
		}

<span class="nc" id="L478">		return null;</span>
	}

	/**
	 * Create BondProductBuilder from the JSON Map and the input MPC
	 * 
	 * @param mapJSON The JSON Ref Data Map
	 * @param mpc org.drip.param.definition.MarketParams to help fill some of the fields in
	 * 
	 * @return BondProductBuilder object
	 */

	public static final BondProductBuilder CreateFromJSONMap (
		final org.drip.analytics.support.CaseInsensitiveTreeMap&lt;java.lang.String&gt; mapJSON,
		final org.drip.param.definition.ScenarioMarketParams mpc)
	{
		/* if (null == mapJSON || 0 == mapJSON.size() || !mapJSON.containsKey (&quot;isin&quot;) || !mapJSON.containsKey
			(&quot;cusip&quot;) || !mapJSON.containsKey (&quot;ticker&quot;) || !mapJSON.containsKey (&quot;coupon&quot;) ||
				!mapJSON.containsKey (&quot;maturity&quot;) || !mapJSON.containsKey (&quot;frequency&quot;) ||
					!mapJSON.containsKey (&quot;couponType&quot;) || !mapJSON.containsKey (&quot;maturityType&quot;) ||
						!mapJSON.containsKey (&quot;calcType&quot;) || !mapJSON.containsKey (&quot;dayCount&quot;) ||
							!mapJSON.containsKey (&quot;redempValue&quot;) || !mapJSON.containsKey (&quot;redempCrncy&quot;) ||
								!mapJSON.containsKey (&quot;cpnCrncy&quot;) || !mapJSON.containsKey (&quot;tradeCrncy&quot;) ||
									!mapJSON.containsKey (&quot;firstCpnDate&quot;) || !mapJSON.containsKey
										(&quot;issueDate&quot;) || !mapJSON.containsKey (&quot;called&quot;) ||
											!mapJSON.containsKey (&quot;defaulted&quot;) || !mapJSON.containsKey
												(&quot;quotedMargin&quot;))
			return null; */

<span class="nc" id="L507">		BondProductBuilder bpb = new BondProductBuilder();</span>

<span class="nc bnc" id="L509" title="All 2 branches missed.">		if (null == (bpb._strISIN = mapJSON.get (&quot;isin&quot;))) return null;</span>

<span class="nc bnc" id="L511" title="All 2 branches missed.">		if (null == (bpb._strCUSIP = mapJSON.get (&quot;cusip&quot;))) return null;</span>

<span class="nc bnc" id="L513" title="All 2 branches missed.">		if (null == (bpb._strTicker = mapJSON.get (&quot;ticker&quot;))) return null;</span>

<span class="nc bnc" id="L515" title="All 2 branches missed.">		if (!org.drip.numerical.common.NumberUtil.IsValid (bpb._dblCoupon = 0.01 * java.lang.Double.parseDouble</span>
<span class="nc" id="L516">			(mapJSON.get (&quot;coupon&quot;))))</span>
<span class="nc" id="L517">			return null;</span>

<span class="nc" id="L519">		if (null == (bpb._dtMaturity = org.drip.analytics.date.DateUtil.MakeJulianFromYYYYMMDD</span>
<span class="nc bnc" id="L520" title="All 2 branches missed.">			(mapJSON.get (&quot;maturity&quot;), &quot;-&quot;)))</span>
<span class="nc" id="L521">			return null;</span>

<span class="nc" id="L523">		bpb._iCouponFreq = java.lang.Integer.parseInt (mapJSON.get (&quot;frequency&quot;));</span>

<span class="nc" id="L525">		bpb._strCouponType = mapJSON.get (&quot;couponType&quot;);</span>

<span class="nc" id="L527">		bpb._strMaturityType = mapJSON.get (&quot;maturityType&quot;);</span>

<span class="nc" id="L529">		bpb._strCalculationType = mapJSON.get (&quot;calcType&quot;);</span>

<span class="nc" id="L531">		bpb._strDayCountCode = mapJSON.get (&quot;dayCount&quot;);</span>

<span class="nc" id="L533">		bpb._dblRedemptionValue = java.lang.Double.parseDouble (mapJSON.get (&quot;redempValue&quot;));</span>

<span class="nc bnc" id="L535" title="All 2 branches missed.">		if (null == (bpb._strRedemptionCurrency = mapJSON.get (&quot;redempCrncy&quot;)) ||</span>
<span class="nc bnc" id="L536" title="All 2 branches missed.">			bpb._strRedemptionCurrency.isEmpty()) {</span>
<span class="nc" id="L537">			System.out.println (&quot;Invalid redemption currency for &quot; + DES (bpb));</span>

<span class="nc" id="L539">			return null;</span>
		}

<span class="nc bnc" id="L542" title="All 4 branches missed.">		if (null == (bpb._strCouponCurrency = mapJSON.get (&quot;cpnCrncy&quot;)) || bpb._strCouponCurrency.isEmpty())</span>
		{
<span class="nc" id="L544">			System.out.println (&quot;Invalid Coupon currency for &quot; + DES (bpb));</span>

<span class="nc" id="L546">			return null;</span>
		}

<span class="nc bnc" id="L549" title="All 4 branches missed.">		if (null == (bpb._strTradeCurrency = mapJSON.get (&quot;tradeCrncy&quot;)) || bpb._strTradeCurrency.isEmpty())</span>
		{
<span class="nc" id="L551">			System.out.println (&quot;Invalid Trade currency for &quot; + DES (bpb));</span>

<span class="nc" id="L553">			return null;</span>
		}

<span class="nc" id="L556">		if (null == (bpb._dtFirstCoupon = org.drip.analytics.date.DateUtil.MakeJulianFromYYYYMMDD</span>
<span class="nc bnc" id="L557" title="All 2 branches missed.">			(mapJSON.get (&quot;firstCpnDate&quot;), &quot;-&quot;)))</span>
<span class="nc" id="L558">			return null;</span>

<span class="nc" id="L560">		if (null == (bpb._dtIssue = org.drip.analytics.date.DateUtil.MakeJulianFromYYYYMMDD</span>
<span class="nc bnc" id="L561" title="All 2 branches missed.">			(mapJSON.get (&quot;issueDate&quot;), &quot;-&quot;)))</span>
<span class="nc" id="L562">			return null;</span>

		try {
<span class="nc" id="L565">			bpb._bIsCallable = java.lang.Boolean.parseBoolean (mapJSON.get (&quot;callable&quot;));</span>

<span class="nc" id="L567">			bpb._bIsPutable = java.lang.Boolean.parseBoolean (mapJSON.get (&quot;putable&quot;));</span>

<span class="nc" id="L569">			bpb._bIsSinkable = java.lang.Boolean.parseBoolean (mapJSON.get (&quot;sinkable&quot;));</span>

<span class="nc" id="L571">			bpb._bHasBeenCalled = java.lang.Boolean.parseBoolean (mapJSON.get (&quot;called&quot;));</span>

			// bpb._strFloatCouponConvention = rs.getString (&quot;FloatCouponConvention&quot;);

<span class="nc" id="L575">			bpb._bIsFloater = java.lang.Boolean.parseBoolean (mapJSON.get (&quot;floater&quot;));</span>

			// bpb._dblCurrentCoupon = 0.01 * rs.getDouble (&quot;CurrentCoupon&quot;);

<span class="nc" id="L579">			if (null == (bpb._dtFinalMaturity = org.drip.analytics.date.DateUtil.MakeJulianFromYYYYMMDD</span>
<span class="nc bnc" id="L580" title="All 2 branches missed.">				(mapJSON.get (&quot;finalMaturityDt&quot;), &quot;-&quot;)))</span>
<span class="nc" id="L581">				return null;</span>

<span class="nc" id="L583">			bpb._bIsPerpetual = java.lang.Boolean.parseBoolean (mapJSON.get (&quot;perpetual&quot;));</span>

<span class="nc" id="L585">			bpb._bIsDefaulted = java.lang.Boolean.parseBoolean (mapJSON.get (&quot;defaulted&quot;));</span>

			// bpb._dblFloatSpread = java.lang.Double.parseDouble (mapJSON.get (&quot;quotedMargin&quot;));

<span class="nc" id="L589">			bpb._strRateIndex = mapJSON.get (&quot;resetIndex&quot;);</span>

<span class="nc bnc" id="L591" title="All 6 branches missed.">			if (bpb._bIsFloater &amp;&amp; !org.drip.numerical.common.NumberUtil.IsValid (bpb._dblFloatSpread) &amp;&amp; (null ==</span>
<span class="nc bnc" id="L592" title="All 2 branches missed.">				bpb._strRateIndex || bpb._strRateIndex.isEmpty())) {</span>
<span class="nc" id="L593">				System.out.println (&quot;Invalid float spread for &quot; + DES (bpb));</span>

<span class="nc" id="L595">				return null;</span>
			}

			// bpb._strIssuerSPN = rs.getString (&quot;SPN&quot;);

<span class="nc bnc" id="L600" title="All 2 branches missed.">			if (!bpb.validate (mpc)) return null;</span>

			if (m_bBlog) System.out.println (&quot;Loaded &quot; + DES (bpb) + &quot;.&quot;);

<span class="nc" id="L604">			return bpb;</span>
<span class="nc" id="L605">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L606">			e.printStackTrace();</span>
		}

<span class="nc" id="L609">		return null;</span>
	}

	/**
	 * Empty BondProductBuilder ctr - uninitialized members
	 */

	public BondProductBuilder()
<span class="nc" id="L617">	{</span>
<span class="nc" id="L618">	}</span>

	/**
	 * Set the Bond ISIN
	 * 
	 * @param strISIN ISIN input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setISIN (
		final java.lang.String strISIN)
	{
<span class="nc bnc" id="L631" title="All 6 branches missed.">		if (null == strISIN || strISIN.trim().isEmpty() || &quot;null&quot;.equalsIgnoreCase (strISIN.trim()))</span>
<span class="nc" id="L632">			return false;</span>

<span class="nc" id="L634">		_strISIN = strISIN;</span>
<span class="nc" id="L635">		return true;</span>
	}

	/**
	 * Set the Bond CUSIP
	 * 
	 * @param strCUSIP CUSIP input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setCUSIP (
		final java.lang.String strCUSIP)
	{
<span class="nc bnc" id="L649" title="All 6 branches missed.">		if (null == strCUSIP || strCUSIP.trim().isEmpty() || &quot;null&quot;.equalsIgnoreCase (strCUSIP.trim()))</span>
<span class="nc" id="L650">			return false;</span>

<span class="nc" id="L652">		_strCUSIP = strCUSIP;</span>
<span class="nc" id="L653">		return true;</span>
	}

	/**
	 * Set the Bond Ticker
	 * 
	 * @param strTicker Ticker input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setTicker (
		final java.lang.String strTicker)
	{
<span class="nc bnc" id="L667" title="All 2 branches missed.">		if (null == (_strTicker = strTicker.trim())) _strTicker = &quot;&quot;;</span>

<span class="nc" id="L669">		return true;</span>
	}

	/**
	 * Set the Bond Coupon
	 * 
	 * @param strCoupon Coupon input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setCoupon (
		final java.lang.String strCoupon)
	{
<span class="nc bnc" id="L683" title="All 6 branches missed.">		if (null == strCoupon || strCoupon.trim().isEmpty() || &quot;null&quot;.equalsIgnoreCase (strCoupon.trim()))</span>
<span class="nc" id="L684">			_dblCoupon = 0.;</span>

		try {
<span class="nc" id="L687">			_dblCoupon = java.lang.Double.parseDouble (strCoupon.trim());</span>

<span class="nc" id="L689">			return true;</span>
<span class="nc" id="L690">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad coupon &quot; + strCoupon + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L694">		return false;</span>
	}

	/**
	 * Set the Bond Maturity
	 * 
	 * @param strMaturity Maturity input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setMaturity (
		final java.lang.String strMaturity)
	{
		try {
<span class="nc" id="L709">			if (null == (_dtMaturity = org.drip.analytics.date.DateUtil.MakeJulianDateFromBBGDate</span>
<span class="nc bnc" id="L710" title="All 2 branches missed.">				(strMaturity.trim())))</span>
<span class="nc" id="L711">				return false;</span>

<span class="nc" id="L713">			return true;</span>
<span class="nc" id="L714">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad Maturity &quot; + strMaturity + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L718">		return false;</span>
	}

	/**
	 * Set the Bond Coupon Frequency
	 * 
	 * @param strCouponFreq Coupon Frequency input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setCouponFreq (
		final java.lang.String strCouponFreq)
	{
<span class="nc bnc" id="L732" title="All 6 branches missed.">		if (null == strCouponFreq || strCouponFreq.isEmpty() || &quot;null&quot;.equalsIgnoreCase (strCouponFreq))</span>
<span class="nc" id="L733">			_iCouponFreq = 0;</span>
		else {
			try {
<span class="nc" id="L736">				_iCouponFreq = (int) java.lang.Double.parseDouble (strCouponFreq.trim());</span>
<span class="nc" id="L737">			} catch (java.lang.Exception e) {</span>
				if (m_bBlog) System.out.println (&quot;Bad Cpn Freq &quot; + strCouponFreq + &quot; for ISIN &quot; + _strISIN);

<span class="nc" id="L740">				return false;</span>
<span class="nc" id="L741">			}</span>
		}

<span class="nc" id="L744">		return true;</span>
	}

	/**
	 * Set the Bond Coupon Type
	 * 
	 * @param strCouponType Coupon Type input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setCouponType (
		final java.lang.String strCouponType)
	{
<span class="nc bnc" id="L758" title="All 2 branches missed.">		if (null == (_strCouponType = strCouponType.trim())) _strCouponType = &quot;&quot;;</span>

<span class="nc" id="L760">		return true;</span>
	}

	/**
	 * Set the Bond Maturity Type
	 * 
	 * @param strMaturityType Maturity Type input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setMaturityType (
		final java.lang.String strMaturityType)
	{
<span class="nc bnc" id="L774" title="All 2 branches missed.">		if (null == (_strMaturityType = strMaturityType.trim())) _strMaturityType = &quot;&quot;;</span>

<span class="nc" id="L776">		return true;</span>
	}

	/**
	 * Set the Bond Calculation Type
	 * 
	 * @param strCalculationType Calculation Type input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setCalculationType (
		final java.lang.String strCalculationType)
	{
<span class="nc bnc" id="L790" title="All 2 branches missed.">		if (null == (_strCalculationType = strCalculationType.trim())) _strCalculationType = &quot;&quot;;</span>

<span class="nc" id="L792">		return true;</span>
	}

	/**
	 * Set the Bond Day Count Code
	 * 
	 * @param strDayCountCode Day Count Code input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setDayCountCode (
		final java.lang.String strDayCountCode)
	{
<span class="nc" id="L806">		_strDayCountCode = &quot;Unknown DC&quot;;</span>

		try {
<span class="nc" id="L809">			_strDayCountCode = org.drip.analytics.support.Helper.ParseFromBBGDCCode</span>
<span class="nc" id="L810">				(strDayCountCode.trim());</span>

<span class="nc" id="L812">			return true;</span>
<span class="nc" id="L813">		} catch (java.lang.Exception e) {</span>
		}

<span class="nc" id="L816">		return false;</span>
	}

	/**
	 * Set the Bond Redemption Value
	 * 
	 * @param strRedemptionValue Redemption Value input
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setRedemptionValue (
		final java.lang.String strRedemptionValue)
	{
		try {
<span class="nc" id="L831">			_dblRedemptionValue = java.lang.Double.parseDouble (strRedemptionValue.trim());</span>

<span class="nc" id="L833">			return true;</span>
<span class="nc" id="L834">		} catch (java.lang.Exception e) {</span>
<span class="nc" id="L835">			System.out.println (&quot;Bad Redemption Value &quot; + strRedemptionValue + &quot; for ISIN &quot; + _strISIN);</span>
		}

<span class="nc" id="L838">		return false;</span>
	}

	/**
	 * Set the Bond Announce
	 * 
	 * @param strAnnounce Announce Date String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setAnnounce (
		final java.lang.String strAnnounce)
	{
		try {
<span class="nc" id="L853">			_dtAnnounce = org.drip.analytics.date.DateUtil.MakeJulianDateFromBBGDate (strAnnounce.trim());</span>

<span class="nc" id="L855">			return true;</span>
<span class="nc" id="L856">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad Announce &quot; + strAnnounce + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L860">		return false;</span>
	}

	/**
	 * Set the Bond First Settle
	 * 
	 * @param strFirstSettle First Settle Date String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setFirstSettle (
		final java.lang.String strFirstSettle)
	{
		try {
<span class="nc" id="L875">			_dtFirstSettle = org.drip.analytics.date.DateUtil.MakeJulianDateFromBBGDate</span>
<span class="nc" id="L876">				(strFirstSettle.trim());</span>

<span class="nc" id="L878">			return true;</span>
<span class="nc" id="L879">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad First Settle &quot; + strFirstSettle + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L883">		return false;</span>
	}

	/**
	 * Set the Bond First Coupon Date
	 * 
	 * @param strFirstCoupon First Coupon Date String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setFirstCoupon (
		final java.lang.String strFirstCoupon)
	{
		try {
<span class="nc" id="L898">			_dtFirstCoupon = org.drip.analytics.date.DateUtil.MakeJulianDateFromBBGDate</span>
<span class="nc" id="L899">				(strFirstCoupon.trim());</span>

<span class="nc" id="L901">			return true;</span>
<span class="nc" id="L902">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad First Coupon &quot; + strFirstCoupon + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L906">		return false;</span>
	}

	/**
	 * Set the Bond Interest Accrual Start Date
	 * 
	 * @param strInterestAccrualStart Interest Accrual Start Date String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setInterestAccrualStart (
		final java.lang.String strInterestAccrualStart)
	{
		try {
<span class="nc" id="L921">			_dtInterestAccrualStart = org.drip.analytics.date.DateUtil.MakeJulianDateFromBBGDate</span>
<span class="nc" id="L922">				(strInterestAccrualStart.trim());</span>

<span class="nc" id="L924">			return true;</span>
<span class="nc" id="L925">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog)
				System.out.println (&quot;Bad Announce &quot; + strInterestAccrualStart + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L930">		return false;</span>
	}

	/**
	 * Set the Bond Issue Date
	 * 
	 * @param strIssue Issue Date String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setIssue (
		final java.lang.String strIssue)
	{
		try {
<span class="nc" id="L945">			_dtIssue = org.drip.analytics.date.DateUtil.MakeJulianDateFromBBGDate (strIssue.trim());</span>

<span class="nc" id="L947">			return true;</span>
<span class="nc" id="L948">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad Issue &quot; + strIssue + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L952">		return false;</span>
	}

	/**
	 * Set whether the Bond Is Callable
	 * 
	 * @param strCallable Callable String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setIsCallable (
		final java.lang.String strCallable)
	{
<span class="nc bnc" id="L966" title="All 2 branches missed.">		if (null == strCallable) _bIsCallable = false;</span>

<span class="nc bnc" id="L968" title="All 2 branches missed.">		if (&quot;1&quot;.equalsIgnoreCase (strCallable.trim()))</span>
<span class="nc" id="L969">			_bIsCallable = true;</span>
		else
<span class="nc" id="L971">			_bIsCallable = false;</span>

<span class="nc" id="L973">		return true;</span>
	}

	/**
	 * Set whether the Bond Is Putable
	 * 
	 * @param strPutable Putable String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setIsPutable (
		final java.lang.String strPutable)
	{
<span class="nc bnc" id="L987" title="All 2 branches missed.">		if (null == strPutable) _bIsPutable = false;</span>

<span class="nc bnc" id="L989" title="All 2 branches missed.">		if (&quot;1&quot;.equalsIgnoreCase (strPutable.trim()))</span>
<span class="nc" id="L990">			_bIsPutable = true;</span>
		else
<span class="nc" id="L992">			_bIsPutable = false;</span>

<span class="nc" id="L994">		return true;</span>
	}

	/**
	 * Set whether the Bond Is Sinkable
	 * 
	 * @param strSinkable Sinkable String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setIsSinkable (
		final java.lang.String strSinkable)
	{
<span class="nc bnc" id="L1008" title="All 2 branches missed.">		if (null == strSinkable) _bIsSinkable = false;</span>

<span class="nc bnc" id="L1010" title="All 2 branches missed.">		if (&quot;1&quot;.equalsIgnoreCase (strSinkable.trim()))</span>
<span class="nc" id="L1011">			_bIsSinkable = true;</span>
		else
<span class="nc" id="L1013">			_bIsSinkable = false;</span>

<span class="nc" id="L1015">		return true;</span>
	}

	/**
	 * Set The redemption Currency
	 * 
	 * @param strRedemptionCurrency Redemption Currency String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setRedemptionCurrency (
		final java.lang.String strRedemptionCurrency)
	{
<span class="nc bnc" id="L1029" title="All 2 branches missed.">		if (null == (_strRedemptionCurrency = strRedemptionCurrency.trim()) || &quot;null&quot;.equalsIgnoreCase</span>
<span class="nc bnc" id="L1030" title="All 2 branches missed.">			(strRedemptionCurrency.trim()))</span>
<span class="nc" id="L1031">			return false;</span>

<span class="nc" id="L1033">		return true;</span>
	}

	/**
	 * Set The Coupon Currency
	 * 
	 * @param strCouponCurrency Coupon Currency String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setCouponCurrency (
		final java.lang.String strCouponCurrency)
	{
<span class="nc bnc" id="L1047" title="All 2 branches missed.">		if (null == (_strCouponCurrency = strCouponCurrency.trim()) || &quot;null&quot;.equalsIgnoreCase</span>
<span class="nc bnc" id="L1048" title="All 2 branches missed.">			(strCouponCurrency.trim()))</span>
<span class="nc" id="L1049">			return false;</span>

<span class="nc" id="L1051">		return true;</span>
	}

	/**
	 * Set The Trade Currency
	 * 
	 * @param strTradeCurrency Trade Currency String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setTradeCurrency (
		final java.lang.String strTradeCurrency)
	{
<span class="nc bnc" id="L1065" title="All 2 branches missed.">		if (null == (_strTradeCurrency = strTradeCurrency.trim()) || &quot;null&quot;.equalsIgnoreCase</span>
<span class="nc bnc" id="L1066" title="All 2 branches missed.">			(strTradeCurrency.trim()))</span>
<span class="nc" id="L1067">			return false;</span>

<span class="nc" id="L1069">		return true;</span>
	}

	/**
	 * Set whether the bond Has Been Called
	 * 
	 * @param strHasBeenCalled Has Been Called String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setHasBeenCalled (
		final java.lang.String strHasBeenCalled)
	{
<span class="nc bnc" id="L1083" title="All 2 branches missed.">		if (null == strHasBeenCalled) _bHasBeenCalled = false;</span>

<span class="nc bnc" id="L1085" title="All 2 branches missed.">		if (&quot;1&quot;.equalsIgnoreCase (strHasBeenCalled.trim()))</span>
<span class="nc" id="L1086">			_bHasBeenCalled = true;</span>
		else
<span class="nc" id="L1088">			_bHasBeenCalled = false;</span>

<span class="nc" id="L1090">		return true;</span>
	}

	/**
	 * Set the bond's Float Coupon Convention
	 * 
	 * @param strFloatCouponConvention Float Coupon Convention String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setFloatCouponConvention (
		final java.lang.String strFloatCouponConvention)
	{
<span class="nc bnc" id="L1104" title="All 2 branches missed.">		if (null == (_strFloatCouponConvention = strFloatCouponConvention.trim()))</span>
<span class="nc" id="L1105">			_strFloatCouponConvention = &quot;&quot;;</span>

<span class="nc" id="L1107">		return true;</span>
	}

	/**
	 * Set the bond's Current Coupon
	 * 
	 * @param strCurrentCoupon Current Coupon String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setCurrentCoupon (
		final java.lang.String strCurrentCoupon)
	{
<span class="nc bnc" id="L1121" title="All 4 branches missed.">		if (null == strCurrentCoupon || strCurrentCoupon.trim().isEmpty() || &quot;null&quot;.equalsIgnoreCase</span>
<span class="nc bnc" id="L1122" title="All 2 branches missed.">			(strCurrentCoupon.trim()))</span>
<span class="nc" id="L1123">			_dblCurrentCoupon = 0.;</span>
		else {
			try {
<span class="nc" id="L1126">				_dblCurrentCoupon = java.lang.Double.parseDouble (strCurrentCoupon.trim());</span>

<span class="nc" id="L1128">				return true;</span>
<span class="nc" id="L1129">			} catch (java.lang.Exception e) {</span>
				if (m_bBlog)
					System.out.println (&quot;Bad Curr Cpn &quot; + strCurrentCoupon + &quot; for ISIN &quot; + _strISIN);
			}
		}

<span class="nc" id="L1135">		return false;</span>
	}

	/**
	 * Set whether the bond is a floater or not
	 * 
	 * @param strIsFloater String indicating whether the bond is a floater
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setIsFloater (
		final java.lang.String strIsFloater)
	{
<span class="nc bnc" id="L1149" title="All 2 branches missed.">		if (null == strIsFloater) _bIsFloater = false;</span>

<span class="nc bnc" id="L1151" title="All 2 branches missed.">		if (&quot;1&quot;.equalsIgnoreCase (strIsFloater.trim()))</span>
<span class="nc" id="L1152">			_bIsFloater = true;</span>
		else
<span class="nc" id="L1154">			_bIsFloater = false;</span>

<span class="nc" id="L1156">		return true;</span>
	}

	/**
	 * Set the final maturity of the bond
	 * 
	 * @param strFinalMaturity String representing the bond's final maturity
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setFinalMaturity (
		final java.lang.String strFinalMaturity)
	{
		try {
<span class="nc" id="L1171">			_dtFinalMaturity = org.drip.analytics.date.DateUtil.MakeJulianDateFromBBGDate</span>
<span class="nc" id="L1172">				(strFinalMaturity.trim());</span>

<span class="nc" id="L1174">			return true;</span>
<span class="nc" id="L1175">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog)
				System.out.println (&quot;Bad Final Maturity &quot; + strFinalMaturity + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L1180">		return false;</span>
	}

	/**
	 * Set whether the bond is perpetual or not
	 * 
	 * @param strIsPerpetual String representing whether the bond is perpetual or not
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setIsPerpetual (
		final java.lang.String strIsPerpetual)
	{
<span class="nc bnc" id="L1194" title="All 2 branches missed.">		if (null == strIsPerpetual) _bIsPerpetual = false;</span>

<span class="nc bnc" id="L1196" title="All 2 branches missed.">		if (&quot;1&quot;.equalsIgnoreCase (strIsPerpetual.trim()))</span>
<span class="nc" id="L1197">			_bIsPerpetual = true;</span>
		else
<span class="nc" id="L1199">			_bIsPerpetual = false;</span>

<span class="nc" id="L1201">		return true;</span>
	}

	/**
	 * Set whether the bond is defaulted or not
	 * 
	 * @param strIsDefaulted String representing whether the bond is defaulted or not
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setIsDefaulted (
		final java.lang.String strIsDefaulted)
	{
<span class="nc bnc" id="L1215" title="All 2 branches missed.">		if (null == strIsDefaulted) _bIsDefaulted = false;</span>

<span class="nc bnc" id="L1217" title="All 2 branches missed.">		if (&quot;1&quot;.equalsIgnoreCase (strIsDefaulted.trim()))</span>
<span class="nc" id="L1218">			_bIsDefaulted = true;</span>
		else
<span class="nc" id="L1220">			_bIsDefaulted = false;</span>

<span class="nc" id="L1222">		return true;</span>
	}

	/**
	 * Set the bond's floating rate spread
	 * 
	 * @param strFloatSpread String representing the bond's floating spread
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setFloatSpread (
		final java.lang.String strFloatSpread)
	{
		try {
<span class="nc" id="L1237">			_dblFloatSpread = java.lang.Double.parseDouble (strFloatSpread.trim());</span>

<span class="nc" id="L1239">			return true;</span>
<span class="nc" id="L1240">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) System.out.println (&quot;Bad Float Spread &quot; + strFloatSpread + &quot; for ISIN &quot; + _strISIN);
		}

<span class="nc" id="L1244">		return false;</span>
	}

	/**
	 * Set the bond's floating rate spread from the MPC
	 * 
	 * @param mpc org.drip.param.definition.MarketParams
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setFloatSpread (
		final org.drip.param.definition.ScenarioMarketParams mpc)
	{
<span class="nc bnc" id="L1258" title="All 2 branches missed.">		if (!org.drip.numerical.common.NumberUtil.IsValid (_dblCurrentCoupon)) {</span>
<span class="nc" id="L1259">			System.out.println (&quot;Curr cpn for ISIN &quot; + _strISIN + &quot; is NaN!&quot;);</span>

<span class="nc" id="L1261">			return false;</span>
		}

<span class="nc bnc" id="L1264" title="All 6 branches missed.">		if (null == mpc || null == mpc.scenarioDiscountCurveMap() || null == mpc.scenarioDiscountCurveMap().get (_strCouponCurrency) ||</span>
<span class="nc bnc" id="L1265" title="All 2 branches missed.">			null == mpc.scenarioDiscountCurveMap().get (_strCouponCurrency).base()) {</span>
			if (m_bBlog) System.out.println (&quot;Bad mpc In for ISIN &quot; + _strISIN);

<span class="nc" id="L1268">			return false;</span>
		}

		try {
<span class="nc bnc" id="L1272" title="All 2 branches missed.">			if (0. != _dblCurrentCoupon) {</span>
<span class="nc" id="L1273">				org.drip.state.discount.MergedDiscountForwardCurve dcBase = mpc.scenarioDiscountCurveMap().get (_strCouponCurrency).base();</span>

<span class="nc" id="L1275">				_dblFloatSpread = _dblCurrentCoupon - 100. * dcBase.libor (dcBase.epoch().julian(),</span>
<span class="nc" id="L1276">					(org.drip.analytics.support.Helper.GetTenorFromFreq (_iCouponFreq)));</span>
<span class="nc" id="L1277">			} else</span>
<span class="nc" id="L1278">				_dblFloatSpread = 0.;</span>

<span class="nc" id="L1280">			return true;</span>
<span class="nc" id="L1281">		} catch (java.lang.Exception e) {</span>
			if (m_bBlog) e.printStackTrace();
		}

<span class="nc" id="L1285">		return false;</span>
	}

	/**
	 * Set the bond's Rate Index
	 * 
	 * @param strRateIndex Rate Index
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setRateIndex (
		final java.lang.String strRateIndex)
	{
<span class="nc bnc" id="L1299" title="All 2 branches missed.">		if (null == (_strRateIndex = strRateIndex)) _strRateIndex = &quot;&quot;;</span>

<span class="nc" id="L1301">		return true;</span>
	}

	/**
	 * Set the bond's Issuer SPN
	 * 
	 * @param strIssuerSPN Issuer SPN String
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean setIssuerSPN (
		final java.lang.String strIssuerSPN)
	{
<span class="nc bnc" id="L1315" title="All 2 branches missed.">		if (null == (_strIssuerSPN = strIssuerSPN)) _strIssuerSPN = &quot;&quot;;</span>

<span class="nc" id="L1317">		return true;</span>
	}

	/**
	 * Validate the state
	 * 
	 * @param mpc org.drip.param.definition.MarketParams
	 * 
	 * @return Success (true), failure (false)
	 */

	public boolean validate (
		final org.drip.param.definition.ScenarioMarketParams mpc)
	{
<span class="nc bnc" id="L1331" title="All 8 branches missed.">		if (null == _strISIN || _strISIN.isEmpty() || null == _strCUSIP || _strCUSIP.isEmpty()) {</span>
			if (m_bDisplayWarnings)
<span class="nc" id="L1333">				System.out.println (&quot;Check ISIN[&quot; + _strISIN + &quot;] or CUSIP[&quot; + _strCUSIP + &quot;]&quot;);</span>

<span class="nc" id="L1335">			return false;</span>
		}

<span class="nc bnc" id="L1338" title="All 4 branches missed.">		if (0 == _iCouponFreq &amp;&amp; 0. != _dblCoupon) {</span>
			if (m_bDisplayWarnings)
<span class="nc" id="L1340">				System.out.println (&quot;Coupon Freq and Cpn amt both not sero for ISIN[&quot; + _strISIN + &quot;]&quot;);</span>

<span class="nc" id="L1342">			return false;</span>
		}

<span class="nc bnc" id="L1345" title="All 4 branches missed.">		if (49 == _iCouponFreq || 52 == _iCouponFreq) {</span>
			if (m_bDisplayWarnings)
<span class="nc" id="L1347">				System.out.println (&quot;ISIN[&quot; + _strISIN + &quot;] has cpn freq of &quot; + _iCouponFreq + &quot;!&quot;);</span>

<span class="nc" id="L1349">			return false;</span>
		}

<span class="nc bnc" id="L1352" title="All 2 branches missed.">		if (null == _dtInterestAccrualStart) {</span>
<span class="nc bnc" id="L1353" title="All 2 branches missed.">			if (null == (_dtInterestAccrualStart = reconcileStartDate())) {</span>
				if (m_bDisplayWarnings)
<span class="nc" id="L1355">					System.out.println (&quot;All possible date init candidates are null for ISIN &quot; + _strISIN);</span>

<span class="nc" id="L1357">				return false;</span>
			}
		}

<span class="nc bnc" id="L1361" title="All 6 branches missed.">		if (_bIsFloater &amp;&amp; (null == _strRateIndex || _strRateIndex.isEmpty()) &amp;&amp;</span>
<span class="nc bnc" id="L1362" title="All 2 branches missed.">			!org.drip.numerical.common.NumberUtil.IsValid (_dblFloatSpread) &amp;&amp; java.lang.Double.isNaN</span>
<span class="nc bnc" id="L1363" title="All 2 branches missed.">				(_dblCurrentCoupon)) {</span>
			if (m_bDisplayWarnings)
<span class="nc" id="L1365">				System.out.println (&quot;Invalid Rate index &amp; float spread &amp; current coupon for &quot; + _strISIN);</span>

<span class="nc" id="L1367">			return false;</span>
		}

<span class="nc bnc" id="L1370" title="All 6 branches missed.">		if (_bIsFloater &amp;&amp; (null == _strRateIndex || _strRateIndex.isEmpty())) {</span>
<span class="nc" id="L1371">			if (null == (_strRateIndex = org.drip.analytics.support.Helper.CalcRateIndex</span>
<span class="nc bnc" id="L1372" title="All 2 branches missed.">				(_strCouponCurrency, _iCouponFreq))) {</span>
				if (m_bDisplayWarnings)
<span class="nc" id="L1374">					System.out.println (&quot;Warning: Cannot find Rate index for ISIN &quot; + _strISIN);</span>
			}
		}

<span class="nc bnc" id="L1378" title="All 4 branches missed.">		if (_bIsFloater &amp;&amp; !org.drip.numerical.common.NumberUtil.IsValid (_dblFloatSpread)) {</span>
			try {
<span class="nc bnc" id="L1380" title="All 2 branches missed.">				if (!setFloatSpread (mpc)) {</span>
					if (m_bDisplayWarnings)
<span class="nc" id="L1382">						System.out.println (&quot;Warning: Cannot set float spread for ISIN &quot; + _strISIN +</span>
							&quot; and Coupon Currency &quot; + _strCouponCurrency);
				}
<span class="nc" id="L1385">			} catch (java.lang.Exception e) {</span>
				if (m_bDisplayWarnings)
<span class="nc" id="L1387">					System.out.println (&quot;Warning: Cannot set float spread for ISIN &quot; + _strISIN +</span>
						&quot; and Coupon Currency &quot; + _strCouponCurrency);

<span class="nc" id="L1390">				e.printStackTrace();</span>
<span class="nc" id="L1391">			}</span>
		}

<span class="nc bnc" id="L1394" title="All 2 branches missed.">		if (null == _dtIssue) _dtIssue = reconcileStartDate();</span>

<span class="nc bnc" id="L1396" title="All 2 branches missed.">		if (null == _dtFirstSettle) _dtFirstSettle = reconcileStartDate();</span>

<span class="nc bnc" id="L1398" title="All 2 branches missed.">		if (null == _dtAnnounce) _dtAnnounce = reconcileStartDate();</span>

<span class="nc" id="L1400">		return true;</span>
	}

	/**
	 * Create an SQL Insert statement from the object's state
	 * 
	 * @return String representing the SQL Insert
	 */

	public java.lang.String makeSQLInsert()
	{
<span class="nc" id="L1411">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

<span class="nc" id="L1413">		sb.append (&quot;insert into BondValData values(&quot;);</span>

<span class="nc" id="L1415">		sb.append (&quot;'&quot;).append (_strISIN).append (&quot;', &quot;);</span>

<span class="nc" id="L1417">		sb.append (&quot;'&quot;).append (_strCUSIP).append (&quot;', &quot;);</span>

<span class="nc" id="L1419">		sb.append (&quot;'&quot;).append (_strTicker).append (&quot;', &quot;);</span>

<span class="nc" id="L1421">		sb.append (_dblCoupon).append (&quot;, &quot;);</span>

<span class="nc" id="L1423">		sb.append (&quot;'&quot;).append (_dtMaturity.toOracleDate()).append (&quot;', &quot;);</span>

<span class="nc" id="L1425">		sb.append (_iCouponFreq).append (&quot;, &quot;);</span>

<span class="nc" id="L1427">		sb.append (&quot;'&quot;).append (_strCouponType).append (&quot;', &quot;);</span>

<span class="nc" id="L1429">		sb.append (&quot;'&quot;).append (_strMaturityType).append (&quot;', &quot;);</span>

<span class="nc" id="L1431">		sb.append (&quot;'&quot;).append (_strCalculationType).append (&quot;', &quot;);</span>

<span class="nc" id="L1433">		sb.append (&quot;'&quot;).append (_strDayCountCode).append (&quot;', &quot;);</span>

<span class="nc" id="L1435">		sb.append (_dblRedemptionValue).append (&quot;, &quot;);</span>

<span class="nc" id="L1437">		sb.append (&quot;'&quot;).append (_dtAnnounce.toOracleDate()).append (&quot;', &quot;);</span>

<span class="nc" id="L1439">		sb.append (&quot;'&quot;).append (_dtFirstSettle.toOracleDate()).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1441" title="All 2 branches missed.">		if (null == _dtFirstCoupon)</span>
<span class="nc" id="L1442">			sb.append (&quot;null, &quot;);</span>
		else
<span class="nc" id="L1444">			sb.append (&quot;'&quot;).append (_dtFirstCoupon.toOracleDate()).append (&quot;', &quot;);</span>

<span class="nc" id="L1446">		sb.append (&quot;'&quot;).append (_dtInterestAccrualStart.toOracleDate()).append (&quot;', &quot;);</span>

<span class="nc" id="L1448">		sb.append (&quot;'&quot;).append (_dtIssue.toOracleDate()).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1450" title="All 2 branches missed.">		sb.append (&quot;'&quot;).append (_bIsCallable ? 1 : 0).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1452" title="All 2 branches missed.">		sb.append (&quot;'&quot;).append (_bIsPutable ? 1 : 0).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1454" title="All 2 branches missed.">		sb.append (&quot;'&quot;).append (_bIsSinkable ? 1 : 0).append (&quot;', &quot;);</span>

<span class="nc" id="L1456">		sb.append (&quot;'&quot;).append (_strRedemptionCurrency).append (&quot;', &quot;);</span>

<span class="nc" id="L1458">		sb.append (&quot;'&quot;).append (_strCouponCurrency).append (&quot;', &quot;);</span>

<span class="nc" id="L1460">		sb.append (&quot;'&quot;).append (_strTradeCurrency).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1462" title="All 2 branches missed.">		sb.append (&quot;'&quot;).append (_bHasBeenCalled ? 1 : 0).append (&quot;', &quot;);</span>

<span class="nc" id="L1464">		sb.append (&quot;'&quot;).append (_strFloatCouponConvention).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1466" title="All 2 branches missed.">		if (!org.drip.numerical.common.NumberUtil.IsValid (_dblCurrentCoupon))</span>
<span class="nc" id="L1467">			sb.append (&quot;null, &quot;);</span>
		else
<span class="nc" id="L1469">			sb.append (_dblCurrentCoupon).append (&quot;, &quot;);</span>

<span class="nc bnc" id="L1471" title="All 2 branches missed.">		sb.append (&quot;'&quot;).append (_bIsFloater ? 1 : 0).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1473" title="All 2 branches missed.">		if (null == _dtFinalMaturity)</span>
<span class="nc" id="L1474">			sb.append (&quot;null, &quot;);</span>
		else
<span class="nc" id="L1476">			sb.append (&quot;'&quot;).append (_dtFinalMaturity.toOracleDate()).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1478" title="All 2 branches missed.">		sb.append (&quot;'&quot;).append (_bIsPerpetual ? 1 : 0).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1480" title="All 2 branches missed.">		sb.append (&quot;'&quot;).append (_bIsDefaulted ? 1 : 0).append (&quot;', &quot;);</span>

<span class="nc bnc" id="L1482" title="All 2 branches missed.">		if (!org.drip.numerical.common.NumberUtil.IsValid (_dblFloatSpread))</span>
<span class="nc" id="L1483">			sb.append (&quot;null, &quot;);</span>
		else
<span class="nc" id="L1485">			sb.append (_dblFloatSpread).append (&quot;, &quot;);</span>

<span class="nc" id="L1487">		sb.append (&quot;'&quot;).append (_strRateIndex).append (&quot;', &quot;);</span>

<span class="nc" id="L1489">		sb.append (&quot;'&quot;).append (_strIssuerSPN).append (&quot;')&quot;);</span>

<span class="nc" id="L1491">		return sb.toString();</span>
	}

	/**
	 * Get the Bond's identifier Parameters
	 * 
	 * @return BondIdentifierParams object
	 */

	public org.drip.product.params.IdentifierSet getIdentifierParams()
	{
<span class="nc" id="L1502">		org.drip.product.params.IdentifierSet idParams = new org.drip.product.params.IdentifierSet (_strISIN,</span>
			_strCUSIP, _strISIN, _strTicker);

<span class="nc bnc" id="L1505" title="All 2 branches missed.">		return idParams.validate() ? idParams : null;</span>
	}

	/**
	 * Get the Bond's Coupon Parameters
	 * 
	 * @return BondCouponParams object
	 */

	public org.drip.product.params.CouponSetting getCouponParams()
	{
<span class="nc" id="L1516">		org.drip.product.params.CouponSetting cpnParams = new org.drip.product.params.CouponSetting</span>
			(null, _strCouponType, _dblCoupon, java.lang.Double.NaN, java.lang.Double.NaN);

<span class="nc bnc" id="L1519" title="All 2 branches missed.">		return cpnParams.validate() ? cpnParams : null;</span>
	}

	/**
	 * Get the Bond's Floater Parameters
	 * 
	 * @return BondFloaterParams object
	 */

	public org.drip.product.params.FloaterSetting getFloaterParams()
	{
<span class="nc bnc" id="L1530" title="All 2 branches missed.">		if (!_bIsFloater) return null;</span>

<span class="nc" id="L1532">		org.drip.product.params.FloaterSetting fltParams = new org.drip.product.params.FloaterSetting (</span>
<span class="nc" id="L1533">			org.drip.state.identifier.ForwardLabel.Standard (_strRateIndex),</span>
			_strFloatCouponConvention,
			_dblFloatSpread,
			_dblCurrentCoupon
		);

<span class="nc bnc" id="L1539" title="All 2 branches missed.">		return fltParams.validate() ? fltParams : null;</span>
	}

	/**
	 * Get the Bond's Market Convention
	 * 
	 * @return MarketConvention object
	 */

	public org.drip.product.params.QuoteConvention getMarketConvention()
	{
<span class="nc" id="L1550">		org.drip.product.params.QuoteConvention mktConv = new org.drip.product.params.QuoteConvention (null,</span>
<span class="nc" id="L1551">			_strCalculationType, _dtFirstSettle.julian(), _dblRedemptionValue, 0, &quot;&quot;,</span>
				org.drip.analytics.daycount.Convention.DATE_ROLL_ACTUAL);

<span class="nc bnc" id="L1554" title="All 2 branches missed.">		return mktConv.validate() ? mktConv : null;</span>
	}

	/**
	 * Get the Bond's Credit Component Parameters
	 * 
	 * @return CompCRValParams object
	 */

	public org.drip.product.params.CreditSetting getCRValuationParams()
	{
<span class="nc" id="L1565">		org.drip.product.params.CreditSetting crValParams = new org.drip.product.params.CreditSetting (30,</span>
			java.lang.Double.NaN, true, &quot;&quot;, true);

<span class="nc bnc" id="L1568" title="All 2 branches missed.">		return crValParams.validate() ? crValParams : null;</span>
	}

	/**
	 * Get the Bond's CF termination event Parameters
	 * 
	 * @return BondCFTerminationEvent object
	 */

	public org.drip.product.params.TerminationSetting getCFTEParams()
	{
<span class="nc" id="L1579">		org.drip.product.params.TerminationSetting cfteParams = new</span>
			org.drip.product.params.TerminationSetting (_bIsPerpetual, _bIsDefaulted, _bHasBeenCalled, null);

<span class="nc bnc" id="L1582" title="All 2 branches missed.">		return cfteParams.validate() ? cfteParams : null;</span>
	}

	/**
	 * Get the Bond's Notional Parameters
	 * 
	 * @return BondNotionalParams object
	 */

	public org.drip.product.params.NotionalSetting getNotionalParams()
	{
<span class="nc" id="L1593">		org.drip.product.params.NotionalSetting notlParams = new org.drip.product.params.NotionalSetting</span>
			(100., _strRedemptionCurrency, null,
				org.drip.product.params.NotionalSetting.PERIOD_AMORT_AT_START, false);

<span class="nc bnc" id="L1597" title="All 2 branches missed.">		return notlParams.validate() ? notlParams : null;</span>
	}

	/**
	 * Get the Bond's Period Generation Parameters
	 * 
	 * @return BondPeriodGenerationParams object
	 */

	public org.drip.product.params.BondStream getPeriodGenParams()
	{
<span class="nc" id="L1608">		return org.drip.product.params.BondStream.Create (_dtMaturity.julian(),</span>
<span class="nc bnc" id="L1609" title="All 2 branches missed.">			_dtInterestAccrualStart.julian(), null == _dtFinalMaturity ? java.lang.Integer.MIN_VALUE :</span>
<span class="nc bnc" id="L1610" title="All 2 branches missed.">				_dtFinalMaturity.julian(), null == _dtFirstCoupon ? java.lang.Integer.MIN_VALUE :</span>
<span class="nc" id="L1611">					_dtFirstCoupon.julian(), _dtInterestAccrualStart.julian(), _iCouponFreq,</span>
						_dblCurrentCoupon, _strDayCountCode, _strDayCountCode, null, null, null, null, null,
							null, null, null, _strMaturityType, false, _strCouponCurrency,
<span class="nc bnc" id="L1614" title="All 2 branches missed.">								_strCouponCurrency, !org.drip.numerical.common.StringUtil.IsEmpty (_strRateIndex)</span>
<span class="nc" id="L1615">									? org.drip.state.identifier.ForwardLabel.Standard (_strRateIndex) : null,</span>
<span class="nc bnc" id="L1616" title="All 2 branches missed.">										!org.drip.numerical.common.StringUtil.IsEmpty (_strIssuerSPN) ?</span>
<span class="nc" id="L1617">											org.drip.state.identifier.EntityCDSLabel.Standard (_strIssuerSPN,</span>
												_strCouponCurrency) : null);
	}

	/**
	 * Create an SQL Delete statement from the object's state
	 * 
	 * @return String representing the SQL Delete
	 */

	public java.lang.String makeSQLDelete()
	{
<span class="nc" id="L1629">		java.lang.StringBuilder sb = new java.lang.StringBuilder();</span>

<span class="nc" id="L1631">		sb.append (&quot;delete from BondValData where ISIN = '&quot;).append (_strISIN).append</span>
<span class="nc" id="L1632">			(&quot;' or CUSIP = '&quot;).append (_strCUSIP).append (&quot;'&quot;);</span>

<span class="nc" id="L1634">		return sb.toString();</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>